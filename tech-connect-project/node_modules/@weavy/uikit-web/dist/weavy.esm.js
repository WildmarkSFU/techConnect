var Tl = (e, t, r) => {
  if (!t.has(e))
    throw TypeError("Cannot " + r);
};
var p = (e, t, r) => (Tl(e, t, "read from private field"), r ? r.call(e) : t.get(e)), D = (e, t, r) => {
  if (t.has(e))
    throw TypeError("Cannot add the same private member more than once");
  t instanceof WeakSet ? t.add(e) : t.set(e, r);
}, B = (e, t, r, i) => (Tl(e, t, "write to private field"), i ? i.call(e, r) : t.set(e, r), r);
var Fa = (e, t, r, i) => ({
  set _(n) {
    B(e, t, n, r);
  },
  get _() {
    return p(e, t, i);
  }
}), j = (e, t, r) => (Tl(e, t, "access private method"), r);
import { configureLocalization as am, msg as V, localized as De, str as Qi } from "./es/locales/sv-SE.js";
import { pdfExports as Rl } from "./es/pdfjs.js";
import { commonjsGlobal as vc, getDefaultExportFromCjs as sm } from "./es/react.js";
function Nc(e) {
  return Object.prototype.toString.call(e) === "[object Object]";
}
function Bc(e) {
  if (Nc(e) === !1)
    return !1;
  const t = e.constructor;
  if (t === void 0)
    return !0;
  const r = t.prototype;
  return !(Nc(r) === !1 || Object.prototype.hasOwnProperty.call(r, "isPrototypeOf") === !1);
}
function ls(e, t, r = !1) {
  e = e || {}, t = t || {};
  const i = {};
  for (const n in e)
    Object.prototype.hasOwnProperty.call(e, n) && (i[n] = e[n]);
  for (const n in t)
    Object.prototype.hasOwnProperty.call(t, n) && (r && i[n] && Bc(i[n]) && Bc(t[n]) ? i[n] = ls(i[n], t[n], r) : i[n] = t[n]);
  return i;
}
function es(e, t, r = !1, i = !1) {
  if (!i && (!Bc(e) || !Bc(t)) || i && (!Nc(e) || !Nc(t)))
    return !1;
  const n = Object.getOwnPropertyNames(e), o = Object.getOwnPropertyNames(t);
  if (!r && n.length !== o.length)
    return !1;
  for (let a = 0; a < n.length; a++) {
    const s = n[a], c = e[s], l = t[s];
    if (c !== l && !es(c, l, r))
      return !1;
  }
  return !0;
}
function dp(e) {
  return e.charAt(0).toUpperCase() + e.substring(1).toLowerCase();
}
const cm = '\\s,.:;"', lm = new RegExp(`^|[${cm}]|$`, "g");
function up(e) {
  return e.length > 0 ? e.replace(/([a-z\d])([A-Z]+)/g, "$1-$2").replace(/_|\s+/g, "-").toLowerCase() : e;
}
function dm(e, t = 2) {
  if (!e)
    return null;
  let r = "";
  const i = e.split(lm).filter((n) => n);
  return i.length == 1 ? r = i[0] : i.forEach((n) => {
    r += n.charAt(0);
  }), r.substring(0, t).toUpperCase();
}
const um = {
  //mode: 'cors', // no-cors, *cors, same-origin
  // cache: 'default' means the server is in control of the caching which is preferred instead of using 'reload'
  //cache: 'default', // *default, no-cache, reload, force-cache, only-if-cached
  credentials: "omit",
  // include, *same-origin, omit
  headers: {
    // https://stackoverflow.com/questions/8163703/cross-domain-ajax-doesnt-send-x-requested-with-header
    "X-Requested-With": "XMLHttpRequest"
  },
  redirect: "manual"
  // manual, *follow, error
  //referrerPolicy: 'no-referrer-when-downgrade', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
};
function Xl() {
  return ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);
}
function hm(e) {
  if (e && e.ok && e.body) {
    const t = e.body.getReader();
    return new ReadableStream({
      start(r) {
        const i = () => t.read().then(({ done: n, value: o }) => {
          if (n) {
            r.close();
            return;
          }
          return r.enqueue(o), i();
        });
        return i();
      }
    });
  } else
    throw new Error("Could not parse text stream");
}
let hp = class extends Event {
  constructor(t, r, i) {
    super("context-request", { bubbles: !0, composed: !0 }), this.context = t, this.callback = r, this.subscribe = i ?? !1;
  }
};
let Yr = class {
  constructor(t, r, i, n) {
    if (this.subscribe = !1, this.provided = !1, this.value = void 0, this.t = (o, a) => {
      this.unsubscribe && (this.unsubscribe !== a && (this.provided = !1, this.unsubscribe()), this.subscribe || this.unsubscribe()), this.value = o, this.host.requestUpdate(), this.provided && !this.subscribe || (this.provided = !0, this.callback && this.callback(o, a)), this.unsubscribe = a;
    }, this.host = t, r.context !== void 0) {
      const o = r;
      this.context = o.context, this.callback = o.callback, this.subscribe = o.subscribe ?? !1;
    } else
      this.context = r, this.callback = i, this.subscribe = n ?? !1;
    this.host.addController(this);
  }
  hostConnected() {
    this.dispatchRequest();
  }
  hostDisconnected() {
    this.unsubscribe && (this.unsubscribe(), this.unsubscribe = void 0);
  }
  dispatchRequest() {
    this.host.dispatchEvent(new hp(this.context, this.t, this.subscribe));
  }
};
let ym = class {
  get value() {
    return this.o;
  }
  set value(t) {
    this.setValue(t);
  }
  setValue(t, r = !1) {
    const i = r || !Object.is(t, this.o);
    this.o = t, i && this.updateObservers();
  }
  constructor(t) {
    this.subscriptions = /* @__PURE__ */ new Map(), this.updateObservers = () => {
      for (const [r, { disposer: i }] of this.subscriptions)
        r(this.o, i);
    }, t !== void 0 && (this.value = t);
  }
  addCallback(t, r, i) {
    if (!i)
      return void t(this.value);
    this.subscriptions.has(t) || this.subscriptions.set(t, { disposer: () => {
      this.subscriptions.delete(t);
    }, consumerHost: r });
    const { disposer: n } = this.subscriptions.get(t);
    t(this.value, n);
  }
  clearCallbacks() {
    this.subscriptions.clear();
  }
};
let pm = class extends Event {
  constructor(t) {
    super("context-provider", { bubbles: !0, composed: !0 }), this.context = t;
  }
}, wm = class extends ym {
  constructor(t, r, i) {
    var n, o;
    super(r.context !== void 0 ? r.initialValue : i), this.onContextRequest = (a) => {
      const s = a.composedPath()[0];
      a.context === this.context && s !== this.host && (a.stopPropagation(), this.addCallback(a.callback, s, a.subscribe));
    }, this.onProviderRequest = (a) => {
      const s = a.composedPath()[0];
      if (a.context !== this.context || s === this.host)
        return;
      const c = /* @__PURE__ */ new Set();
      for (const [l, { consumerHost: d }] of this.subscriptions)
        c.has(l) || (c.add(l), d.dispatchEvent(new hp(this.context, l, !0)));
      a.stopPropagation();
    }, this.host = t, r.context !== void 0 ? this.context = r.context : this.context = r, this.attachListeners(), (o = (n = this.host).addController) == null || o.call(n, this);
  }
  attachListeners() {
    this.host.addEventListener("context-request", this.onContextRequest), this.host.addEventListener("context-provider", this.onProviderRequest);
  }
  hostConnected() {
    this.host.dispatchEvent(new pm(this.context));
  }
};
function tt({ context: e, subscribe: t }) {
  return (r, i) => {
    typeof i == "object" ? i.addInitializer(function() {
      new Yr(this, { context: e, callback: (n) => {
        this[i.name] = n;
      }, subscribe: t });
    }) : r.constructor.addInitializer((n) => {
      new Yr(n, { context: e, callback: (o) => {
        n[i] = o;
      }, subscribe: t });
    });
  };
}
const $c = globalThis, hl = $c.ShadowRoot && ($c.ShadyCSS === void 0 || $c.ShadyCSS.nativeShadow) && "adoptedStyleSheets" in Document.prototype && "replace" in CSSStyleSheet.prototype, uu = Symbol(), $h = /* @__PURE__ */ new WeakMap();
let yp = class {
  constructor(t, r, i) {
    if (this._$cssResult$ = !0, i !== uu)
      throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");
    this.cssText = t, this.t = r;
  }
  get styleSheet() {
    let t = this.o;
    const r = this.t;
    if (hl && t === void 0) {
      const i = r !== void 0 && r.length === 1;
      i && (t = $h.get(r)), t === void 0 && ((this.o = t = new CSSStyleSheet()).replaceSync(this.cssText), i && $h.set(r, t));
    }
    return t;
  }
  toString() {
    return this.cssText;
  }
};
const Qs = (e) => new yp(typeof e == "string" ? e : e + "", void 0, uu), We = (e, ...t) => {
  const r = e.length === 1 ? e[0] : t.reduce((i, n, o) => i + ((a) => {
    if (a._$cssResult$ === !0)
      return a.cssText;
    if (typeof a == "number")
      return a;
    throw Error("Value passed to 'css' function must be a 'css' function result: " + a + ". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.");
  })(n) + e[o + 1], e[0]);
  return new yp(r, e, uu);
}, pp = (e, t) => {
  if (hl)
    e.adoptedStyleSheets = t.map((r) => r instanceof CSSStyleSheet ? r : r.styleSheet);
  else
    for (const r of t) {
      const i = document.createElement("style"), n = $c.litNonce;
      n !== void 0 && i.setAttribute("nonce", n), i.textContent = r.cssText, e.appendChild(i);
    }
}, Eh = hl ? (e) => e : (e) => e instanceof CSSStyleSheet ? ((t) => {
  let r = "";
  for (const i of t.cssRules)
    r += i.cssText;
  return Qs(r);
})(e) : e;
const { is: fm, defineProperty: mm, getOwnPropertyDescriptor: vm, getOwnPropertyNames: gm, getOwnPropertySymbols: bm, getPrototypeOf: xm } = Object, xn = globalThis, Sh = xn.trustedTypes, _m = Sh ? Sh.emptyScript : "", Dl = xn.reactiveElementPolyfillSupport, ts = (e, t) => e, Hc = { toAttribute(e, t) {
  switch (t) {
    case Boolean:
      e = e ? _m : null;
      break;
    case Object:
    case Array:
      e = e == null ? e : JSON.stringify(e);
  }
  return e;
}, fromAttribute(e, t) {
  let r = e;
  switch (t) {
    case Boolean:
      r = e !== null;
      break;
    case Number:
      r = e === null ? null : Number(e);
      break;
    case Object:
    case Array:
      try {
        r = JSON.parse(e);
      } catch {
        r = null;
      }
  }
  return r;
} }, hu = (e, t) => !fm(e, t), Ph = { attribute: !0, type: String, converter: Hc, reflect: !1, hasChanged: hu };
Symbol.metadata ?? (Symbol.metadata = Symbol("metadata")), xn.litPropertyMetadata ?? (xn.litPropertyMetadata = /* @__PURE__ */ new WeakMap());
class To extends HTMLElement {
  static addInitializer(t) {
    this._$Ei(), (this.l ?? (this.l = [])).push(t);
  }
  static get observedAttributes() {
    return this.finalize(), this._$Eh && [...this._$Eh.keys()];
  }
  static createProperty(t, r = Ph) {
    if (r.state && (r.attribute = !1), this._$Ei(), this.elementProperties.set(t, r), !r.noAccessor) {
      const i = Symbol(), n = this.getPropertyDescriptor(t, i, r);
      n !== void 0 && mm(this.prototype, t, n);
    }
  }
  static getPropertyDescriptor(t, r, i) {
    const { get: n, set: o } = vm(this.prototype, t) ?? { get() {
      return this[r];
    }, set(a) {
      this[r] = a;
    } };
    return { get() {
      return n == null ? void 0 : n.call(this);
    }, set(a) {
      const s = n == null ? void 0 : n.call(this);
      o.call(this, a), this.requestUpdate(t, s, i);
    }, configurable: !0, enumerable: !0 };
  }
  static getPropertyOptions(t) {
    return this.elementProperties.get(t) ?? Ph;
  }
  static _$Ei() {
    if (this.hasOwnProperty(ts("elementProperties")))
      return;
    const t = xm(this);
    t.finalize(), t.l !== void 0 && (this.l = [...t.l]), this.elementProperties = new Map(t.elementProperties);
  }
  static finalize() {
    if (this.hasOwnProperty(ts("finalized")))
      return;
    if (this.finalized = !0, this._$Ei(), this.hasOwnProperty(ts("properties"))) {
      const r = this.properties, i = [...gm(r), ...bm(r)];
      for (const n of i)
        this.createProperty(n, r[n]);
    }
    const t = this[Symbol.metadata];
    if (t !== null) {
      const r = litPropertyMetadata.get(t);
      if (r !== void 0)
        for (const [i, n] of r)
          this.elementProperties.set(i, n);
    }
    this._$Eh = /* @__PURE__ */ new Map();
    for (const [r, i] of this.elementProperties) {
      const n = this._$Eu(r, i);
      n !== void 0 && this._$Eh.set(n, r);
    }
    this.elementStyles = this.finalizeStyles(this.styles);
  }
  static finalizeStyles(t) {
    const r = [];
    if (Array.isArray(t)) {
      const i = new Set(t.flat(1 / 0).reverse());
      for (const n of i)
        r.unshift(Eh(n));
    } else
      t !== void 0 && r.push(Eh(t));
    return r;
  }
  static _$Eu(t, r) {
    const i = r.attribute;
    return i === !1 ? void 0 : typeof i == "string" ? i : typeof t == "string" ? t.toLowerCase() : void 0;
  }
  constructor() {
    super(), this._$Ep = void 0, this.isUpdatePending = !1, this.hasUpdated = !1, this._$Em = null, this._$Ev();
  }
  _$Ev() {
    var t;
    this._$ES = new Promise((r) => this.enableUpdating = r), this._$AL = /* @__PURE__ */ new Map(), this._$E_(), this.requestUpdate(), (t = this.constructor.l) == null || t.forEach((r) => r(this));
  }
  addController(t) {
    var r;
    (this._$EO ?? (this._$EO = /* @__PURE__ */ new Set())).add(t), this.renderRoot !== void 0 && this.isConnected && ((r = t.hostConnected) == null || r.call(t));
  }
  removeController(t) {
    var r;
    (r = this._$EO) == null || r.delete(t);
  }
  _$E_() {
    const t = /* @__PURE__ */ new Map(), r = this.constructor.elementProperties;
    for (const i of r.keys())
      this.hasOwnProperty(i) && (t.set(i, this[i]), delete this[i]);
    t.size > 0 && (this._$Ep = t);
  }
  createRenderRoot() {
    const t = this.shadowRoot ?? this.attachShadow(this.constructor.shadowRootOptions);
    return pp(t, this.constructor.elementStyles), t;
  }
  connectedCallback() {
    var t;
    this.renderRoot ?? (this.renderRoot = this.createRenderRoot()), this.enableUpdating(!0), (t = this._$EO) == null || t.forEach((r) => {
      var i;
      return (i = r.hostConnected) == null ? void 0 : i.call(r);
    });
  }
  enableUpdating(t) {
  }
  disconnectedCallback() {
    var t;
    (t = this._$EO) == null || t.forEach((r) => {
      var i;
      return (i = r.hostDisconnected) == null ? void 0 : i.call(r);
    });
  }
  attributeChangedCallback(t, r, i) {
    this._$AK(t, i);
  }
  _$EC(t, r) {
    var o;
    const i = this.constructor.elementProperties.get(t), n = this.constructor._$Eu(t, i);
    if (n !== void 0 && i.reflect === !0) {
      const a = (((o = i.converter) == null ? void 0 : o.toAttribute) !== void 0 ? i.converter : Hc).toAttribute(r, i.type);
      this._$Em = t, a == null ? this.removeAttribute(n) : this.setAttribute(n, a), this._$Em = null;
    }
  }
  _$AK(t, r) {
    var o;
    const i = this.constructor, n = i._$Eh.get(t);
    if (n !== void 0 && this._$Em !== n) {
      const a = i.getPropertyOptions(n), s = typeof a.converter == "function" ? { fromAttribute: a.converter } : ((o = a.converter) == null ? void 0 : o.fromAttribute) !== void 0 ? a.converter : Hc;
      this._$Em = n, this[n] = s.fromAttribute(r, a.type), this._$Em = null;
    }
  }
  requestUpdate(t, r, i) {
    if (t !== void 0) {
      if (i ?? (i = this.constructor.getPropertyOptions(t)), !(i.hasChanged ?? hu)(this[t], r))
        return;
      this.P(t, r, i);
    }
    this.isUpdatePending === !1 && (this._$ES = this._$ET());
  }
  P(t, r, i) {
    this._$AL.has(t) || this._$AL.set(t, r), i.reflect === !0 && this._$Em !== t && (this._$Ej ?? (this._$Ej = /* @__PURE__ */ new Set())).add(t);
  }
  async _$ET() {
    this.isUpdatePending = !0;
    try {
      await this._$ES;
    } catch (r) {
      Promise.reject(r);
    }
    const t = this.scheduleUpdate();
    return t != null && await t, !this.isUpdatePending;
  }
  scheduleUpdate() {
    return this.performUpdate();
  }
  performUpdate() {
    var i;
    if (!this.isUpdatePending)
      return;
    if (!this.hasUpdated) {
      if (this.renderRoot ?? (this.renderRoot = this.createRenderRoot()), this._$Ep) {
        for (const [o, a] of this._$Ep)
          this[o] = a;
        this._$Ep = void 0;
      }
      const n = this.constructor.elementProperties;
      if (n.size > 0)
        for (const [o, a] of n)
          a.wrapped !== !0 || this._$AL.has(o) || this[o] === void 0 || this.P(o, this[o], a);
    }
    let t = !1;
    const r = this._$AL;
    try {
      t = this.shouldUpdate(r), t ? (this.willUpdate(r), (i = this._$EO) == null || i.forEach((n) => {
        var o;
        return (o = n.hostUpdate) == null ? void 0 : o.call(n);
      }), this.update(r)) : this._$EU();
    } catch (n) {
      throw t = !1, this._$EU(), n;
    }
    t && this._$AE(r);
  }
  willUpdate(t) {
  }
  _$AE(t) {
    var r;
    (r = this._$EO) == null || r.forEach((i) => {
      var n;
      return (n = i.hostUpdated) == null ? void 0 : n.call(i);
    }), this.hasUpdated || (this.hasUpdated = !0, this.firstUpdated(t)), this.updated(t);
  }
  _$EU() {
    this._$AL = /* @__PURE__ */ new Map(), this.isUpdatePending = !1;
  }
  get updateComplete() {
    return this.getUpdateComplete();
  }
  getUpdateComplete() {
    return this._$ES;
  }
  shouldUpdate(t) {
    return !0;
  }
  update(t) {
    this._$Ej && (this._$Ej = this._$Ej.forEach((r) => this._$EC(r, this[r]))), this._$EU();
  }
  updated(t) {
  }
  firstUpdated(t) {
  }
}
To.elementStyles = [], To.shadowRootOptions = { mode: "open" }, To[ts("elementProperties")] = /* @__PURE__ */ new Map(), To[ts("finalized")] = /* @__PURE__ */ new Map(), Dl == null || Dl({ ReactiveElement: To }), (xn.reactiveElementVersions ?? (xn.reactiveElementVersions = [])).push("2.0.4");
const rs = globalThis, jc = rs.trustedTypes, Ah = jc ? jc.createPolicy("lit-html", { createHTML: (e) => e }) : void 0, yu = "$lit$", Wi = `lit$${(Math.random() + "").slice(9)}$`, pu = "?" + Wi, km = `<${pu}>`, co = document, ds = () => co.createComment(""), us = (e) => e === null || typeof e != "object" && typeof e != "function", wp = Array.isArray, fp = (e) => wp(e) || typeof (e == null ? void 0 : e[Symbol.iterator]) == "function", Fl = `[ 	
\f\r]`, za = /<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g, Lh = /-->/g, Mh = />/g, Un = RegExp(`>|${Fl}(?:([^\\s"'>=/]+)(${Fl}*=${Fl}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`, "g"), Oh = /'/g, Ih = /"/g, mp = /^(?:script|style|textarea|title)$/i, Cm = (e) => (t, ...r) => ({ _$litType$: e, strings: t, values: r }), v = Cm(1), Pi = Symbol.for("lit-noChange"), F = Symbol.for("lit-nothing"), Th = /* @__PURE__ */ new WeakMap(), Yn = co.createTreeWalker(co, 129);
function vp(e, t) {
  if (!Array.isArray(e) || !e.hasOwnProperty("raw"))
    throw Error("invalid template strings array");
  return Ah !== void 0 ? Ah.createHTML(t) : t;
}
const gp = (e, t) => {
  const r = e.length - 1, i = [];
  let n, o = t === 2 ? "<svg>" : "", a = za;
  for (let s = 0; s < r; s++) {
    const c = e[s];
    let l, d, h = -1, y = 0;
    for (; y < c.length && (a.lastIndex = y, d = a.exec(c), d !== null); )
      y = a.lastIndex, a === za ? d[1] === "!--" ? a = Lh : d[1] !== void 0 ? a = Mh : d[2] !== void 0 ? (mp.test(d[2]) && (n = RegExp("</" + d[2], "g")), a = Un) : d[3] !== void 0 && (a = Un) : a === Un ? d[0] === ">" ? (a = n ?? za, h = -1) : d[1] === void 0 ? h = -2 : (h = a.lastIndex - d[2].length, l = d[1], a = d[3] === void 0 ? Un : d[3] === '"' ? Ih : Oh) : a === Ih || a === Oh ? a = Un : a === Lh || a === Mh ? a = za : (a = Un, n = void 0);
    const w = a === Un && e[s + 1].startsWith("/>") ? " " : "";
    o += a === za ? c + km : h >= 0 ? (i.push(l), c.slice(0, h) + yu + c.slice(h) + Wi + w) : c + Wi + (h === -2 ? s : w);
  }
  return [vp(e, o + (e[r] || "<?>") + (t === 2 ? "</svg>" : "")), i];
};
class hs {
  constructor({ strings: t, _$litType$: r }, i) {
    let n;
    this.parts = [];
    let o = 0, a = 0;
    const s = t.length - 1, c = this.parts, [l, d] = gp(t, r);
    if (this.el = hs.createElement(l, i), Yn.currentNode = this.el.content, r === 2) {
      const h = this.el.content.firstChild;
      h.replaceWith(...h.childNodes);
    }
    for (; (n = Yn.nextNode()) !== null && c.length < s; ) {
      if (n.nodeType === 1) {
        if (n.hasAttributes())
          for (const h of n.getAttributeNames())
            if (h.endsWith(yu)) {
              const y = d[a++], w = n.getAttribute(h).split(Wi), b = /([.?@])?(.*)/.exec(y);
              c.push({ type: 1, index: o, name: b[2], strings: w, ctor: b[1] === "." ? xp : b[1] === "?" ? _p : b[1] === "@" ? kp : Ks }), n.removeAttribute(h);
            } else
              h.startsWith(Wi) && (c.push({ type: 6, index: o }), n.removeAttribute(h));
        if (mp.test(n.tagName)) {
          const h = n.textContent.split(Wi), y = h.length - 1;
          if (y > 0) {
            n.textContent = jc ? jc.emptyScript : "";
            for (let w = 0; w < y; w++)
              n.append(h[w], ds()), Yn.nextNode(), c.push({ type: 2, index: ++o });
            n.append(h[y], ds());
          }
        }
      } else if (n.nodeType === 8)
        if (n.data === pu)
          c.push({ type: 2, index: o });
        else {
          let h = -1;
          for (; (h = n.data.indexOf(Wi, h + 1)) !== -1; )
            c.push({ type: 7, index: o }), h += Wi.length - 1;
        }
      o++;
    }
  }
  static createElement(t, r) {
    const i = co.createElement("template");
    return i.innerHTML = t, i;
  }
}
function lo(e, t, r = e, i) {
  var a, s;
  if (t === Pi)
    return t;
  let n = i !== void 0 ? (a = r._$Co) == null ? void 0 : a[i] : r._$Cl;
  const o = us(t) ? void 0 : t._$litDirective$;
  return (n == null ? void 0 : n.constructor) !== o && ((s = n == null ? void 0 : n._$AO) == null || s.call(n, !1), o === void 0 ? n = void 0 : (n = new o(e), n._$AT(e, r, i)), i !== void 0 ? (r._$Co ?? (r._$Co = []))[i] = n : r._$Cl = n), n !== void 0 && (t = lo(e, n._$AS(e, t.values), n, i)), t;
}
class bp {
  constructor(t, r) {
    this._$AV = [], this._$AN = void 0, this._$AD = t, this._$AM = r;
  }
  get parentNode() {
    return this._$AM.parentNode;
  }
  get _$AU() {
    return this._$AM._$AU;
  }
  u(t) {
    const { el: { content: r }, parts: i } = this._$AD, n = ((t == null ? void 0 : t.creationScope) ?? co).importNode(r, !0);
    Yn.currentNode = n;
    let o = Yn.nextNode(), a = 0, s = 0, c = i[0];
    for (; c !== void 0; ) {
      if (a === c.index) {
        let l;
        c.type === 2 ? l = new ga(o, o.nextSibling, this, t) : c.type === 1 ? l = new c.ctor(o, c.name, c.strings, this, t) : c.type === 6 && (l = new Cp(o, this, t)), this._$AV.push(l), c = i[++s];
      }
      a !== (c == null ? void 0 : c.index) && (o = Yn.nextNode(), a++);
    }
    return Yn.currentNode = co, n;
  }
  p(t) {
    let r = 0;
    for (const i of this._$AV)
      i !== void 0 && (i.strings !== void 0 ? (i._$AI(t, i, r), r += i.strings.length - 2) : i._$AI(t[r])), r++;
  }
}
class ga {
  get _$AU() {
    var t;
    return ((t = this._$AM) == null ? void 0 : t._$AU) ?? this._$Cv;
  }
  constructor(t, r, i, n) {
    this.type = 2, this._$AH = F, this._$AN = void 0, this._$AA = t, this._$AB = r, this._$AM = i, this.options = n, this._$Cv = (n == null ? void 0 : n.isConnected) ?? !0;
  }
  get parentNode() {
    let t = this._$AA.parentNode;
    const r = this._$AM;
    return r !== void 0 && (t == null ? void 0 : t.nodeType) === 11 && (t = r.parentNode), t;
  }
  get startNode() {
    return this._$AA;
  }
  get endNode() {
    return this._$AB;
  }
  _$AI(t, r = this) {
    t = lo(this, t, r), us(t) ? t === F || t == null || t === "" ? (this._$AH !== F && this._$AR(), this._$AH = F) : t !== this._$AH && t !== Pi && this._(t) : t._$litType$ !== void 0 ? this.$(t) : t.nodeType !== void 0 ? this.T(t) : fp(t) ? this.k(t) : this._(t);
  }
  S(t) {
    return this._$AA.parentNode.insertBefore(t, this._$AB);
  }
  T(t) {
    this._$AH !== t && (this._$AR(), this._$AH = this.S(t));
  }
  _(t) {
    this._$AH !== F && us(this._$AH) ? this._$AA.nextSibling.data = t : this.T(co.createTextNode(t)), this._$AH = t;
  }
  $(t) {
    var o;
    const { values: r, _$litType$: i } = t, n = typeof i == "number" ? this._$AC(t) : (i.el === void 0 && (i.el = hs.createElement(vp(i.h, i.h[0]), this.options)), i);
    if (((o = this._$AH) == null ? void 0 : o._$AD) === n)
      this._$AH.p(r);
    else {
      const a = new bp(n, this), s = a.u(this.options);
      a.p(r), this.T(s), this._$AH = a;
    }
  }
  _$AC(t) {
    let r = Th.get(t.strings);
    return r === void 0 && Th.set(t.strings, r = new hs(t)), r;
  }
  k(t) {
    wp(this._$AH) || (this._$AH = [], this._$AR());
    const r = this._$AH;
    let i, n = 0;
    for (const o of t)
      n === r.length ? r.push(i = new ga(this.S(ds()), this.S(ds()), this, this.options)) : i = r[n], i._$AI(o), n++;
    n < r.length && (this._$AR(i && i._$AB.nextSibling, n), r.length = n);
  }
  _$AR(t = this._$AA.nextSibling, r) {
    var i;
    for ((i = this._$AP) == null ? void 0 : i.call(this, !1, !0, r); t && t !== this._$AB; ) {
      const n = t.nextSibling;
      t.remove(), t = n;
    }
  }
  setConnected(t) {
    var r;
    this._$AM === void 0 && (this._$Cv = t, (r = this._$AP) == null || r.call(this, t));
  }
}
class Ks {
  get tagName() {
    return this.element.tagName;
  }
  get _$AU() {
    return this._$AM._$AU;
  }
  constructor(t, r, i, n, o) {
    this.type = 1, this._$AH = F, this._$AN = void 0, this.element = t, this.name = r, this._$AM = n, this.options = o, i.length > 2 || i[0] !== "" || i[1] !== "" ? (this._$AH = Array(i.length - 1).fill(new String()), this.strings = i) : this._$AH = F;
  }
  _$AI(t, r = this, i, n) {
    const o = this.strings;
    let a = !1;
    if (o === void 0)
      t = lo(this, t, r, 0), a = !us(t) || t !== this._$AH && t !== Pi, a && (this._$AH = t);
    else {
      const s = t;
      let c, l;
      for (t = o[0], c = 0; c < o.length - 1; c++)
        l = lo(this, s[i + c], r, c), l === Pi && (l = this._$AH[c]), a || (a = !us(l) || l !== this._$AH[c]), l === F ? t = F : t !== F && (t += (l ?? "") + o[c + 1]), this._$AH[c] = l;
    }
    a && !n && this.j(t);
  }
  j(t) {
    t === F ? this.element.removeAttribute(this.name) : this.element.setAttribute(this.name, t ?? "");
  }
}
class xp extends Ks {
  constructor() {
    super(...arguments), this.type = 3;
  }
  j(t) {
    this.element[this.name] = t === F ? void 0 : t;
  }
}
class _p extends Ks {
  constructor() {
    super(...arguments), this.type = 4;
  }
  j(t) {
    this.element.toggleAttribute(this.name, !!t && t !== F);
  }
}
class kp extends Ks {
  constructor(t, r, i, n, o) {
    super(t, r, i, n, o), this.type = 5;
  }
  _$AI(t, r = this) {
    if ((t = lo(this, t, r, 0) ?? F) === Pi)
      return;
    const i = this._$AH, n = t === F && i !== F || t.capture !== i.capture || t.once !== i.once || t.passive !== i.passive, o = t !== F && (i === F || n);
    n && this.element.removeEventListener(this.name, this, i), o && this.element.addEventListener(this.name, this, t), this._$AH = t;
  }
  handleEvent(t) {
    var r;
    typeof this._$AH == "function" ? this._$AH.call(((r = this.options) == null ? void 0 : r.host) ?? this.element, t) : this._$AH.handleEvent(t);
  }
}
class Cp {
  constructor(t, r, i) {
    this.element = t, this.type = 6, this._$AN = void 0, this._$AM = r, this.options = i;
  }
  get _$AU() {
    return this._$AM._$AU;
  }
  _$AI(t) {
    lo(this, t);
  }
}
const $m = { P: yu, A: Wi, C: pu, M: 1, L: gp, R: bp, D: fp, V: lo, I: ga, H: Ks, N: _p, U: kp, B: xp, F: Cp }, zl = rs.litHtmlPolyfillSupport;
zl == null || zl(hs, ga), (rs.litHtmlVersions ?? (rs.litHtmlVersions = [])).push("3.1.2");
const $p = (e, t, r) => {
  const i = (r == null ? void 0 : r.renderBefore) ?? t;
  let n = i._$litPart$;
  if (n === void 0) {
    const o = (r == null ? void 0 : r.renderBefore) ?? null;
    i._$litPart$ = n = new ga(t.insertBefore(ds(), o), o, void 0, r ?? {});
  }
  return n._$AI(e), n;
};
let we = class extends To {
  constructor() {
    super(...arguments), this.renderOptions = { host: this }, this._$Do = void 0;
  }
  createRenderRoot() {
    var r;
    const t = super.createRenderRoot();
    return (r = this.renderOptions).renderBefore ?? (r.renderBefore = t.firstChild), t;
  }
  update(t) {
    const r = this.render();
    this.hasUpdated || (this.renderOptions.isConnected = this.isConnected), super.update(t), this._$Do = $p(r, this.renderRoot, this.renderOptions);
  }
  connectedCallback() {
    var t;
    super.connectedCallback(), (t = this._$Do) == null || t.setConnected(!0);
  }
  disconnectedCallback() {
    var t;
    super.disconnectedCallback(), (t = this._$Do) == null || t.setConnected(!1);
  }
  render() {
    return Pi;
  }
};
var Jy;
we._$litElement$ = !0, we.finalized = !0, (Jy = globalThis.litElementHydrateSupport) == null || Jy.call(globalThis, { LitElement: we });
const Vl = globalThis.litElementPolyfillSupport;
Vl == null || Vl({ LitElement: we });
(globalThis.litElementVersions ?? (globalThis.litElementVersions = [])).push("4.0.4");
class Em extends Event {
  /**
   *
   * @param context the context which this provider can provide
   */
  constructor(t) {
    super("context-provider", { bubbles: !0, composed: !0 }), this.context = t;
  }
}
class wu extends wm {
  constructor(t, r, i) {
    r.context !== void 0 ? super(t, r) : super(t, r, i), r.context !== void 0 ? this._context = r.context : this._context = r, this.isAttached = !0, this.host instanceof we || this.dispatchWhenConnected();
  }
  dispatchWhenConnected() {
    this.isAttached && (this.host.isConnected ? this.host.dispatchEvent(new Em(this._context)) : requestAnimationFrame(this.dispatchWhenConnected));
  }
  detachListeners() {
    this.isAttached = !1, this.host.removeEventListener("context-request", this.onContextRequest), this.host.removeEventListener("context-provider", this.onProviderRequest);
  }
}
const Te = Symbol.for("weavy-context");
function Sm(e, t) {
  return new wu(e, { context: Te, initialValue: t });
}
const Rh = Sm(document.documentElement), pr = window.navigator.userAgent, Ep = pr.includes("iPad") || pr.includes("Android") && !pr.includes("Mobi") || !1, Pm = pr.includes("Mobi") || Ep || !1, Am = !Pm && !Ep, Dh = pr.includes("Windows") ? "Windows" : pr.includes("Macintosh") ? "Mac" : pr.includes("iPad") || pr.includes("iPhone") || pr.includes("iPod") ? "iOS" : pr.includes("Android") ? "Android" : void 0;
Dh === "Android" && pr.includes("; wv") || Dh === "iOS" && pr.includes("Safari");
const Lm = /Chrome\/[0-9]/.test(pr) && !/Chromium\/[0-9]/.test(pr) && !/Edg.*\/[0-9]/.test(pr);
class Nt extends Error {
  constructor() {
    super("Instance destroyed"), this.name = "DestroyError";
  }
}
function Co(e) {
  if (e)
    try {
      return new URL(e, window.location.toString());
    } catch {
      console.warn("Invalid url: ", e);
    }
}
const Sp = "en", Mm = (e) => {
  var t;
  return t = class extends e {
    constructor() {
      super(...arguments), this._locales = /* @__PURE__ */ new Map([
        ["sv-SE", () => import(
          /* webpackIgnore: true */
          /* @vite-ignore */
          new URL("./es/locales/sv-SE.js", typeof WEAVY_IMPORT_URL == "string" && (!import.meta.url || !new URL(import.meta.url).href.startsWith(WEAVY_IMPORT_URL)) ? WEAVY_IMPORT_URL : import.meta.url).href
        ).then((i) => i.svSE)]
      ]), this._locale = t.sourceLocale;
    }
    get locales() {
      return Array.from(this._locales.entries());
    }
    set locales(i) {
      if (this.isDestroyed)
        throw new Nt();
      if (this.localization)
        throw new Error("Locales may only be configured once");
      if (!Array.isArray(i))
        throw new TypeError("Provided locales have invalid format.");
      i.forEach((n) => {
        if (!Array.isArray(n) || n.length !== 2 || typeof n[0] != "string")
          throw new TypeError("Invalid locale provided: " + n[0]);
        this._locales.set(...n);
      }), this.configureLocalization();
    }
    /**
     * Selected locale. The locale must be pre configured in `.locales`.
     */
    get locale() {
      return this._locale;
    }
    set locale(i) {
      if (this.isDestroyed)
        throw new Nt();
      !this.locale && !i || (this._locale = i, this.localization ? this.localization.setLocale(this.locale) : queueMicrotask(() => {
        this.localization ? this.localization.setLocale(this.locale) : this.locale !== t.sourceLocale && (this._locales.has(this.locale) && this.configureLocalization(), this.localization ? this.localization.setLocale(this.locale) : console.error(
          this.weavyId,
          `You need to configure additional languages in config to use '${i}'.`
        ));
      }));
    }
    async loadLocale(i) {
      var n;
      if (this.isDestroyed)
        throw new Nt();
      if ((n = this._locales) != null && n.has(i)) {
        const o = this._locales.get(i);
        return console.log(
          this.weavyId,
          typeof o == "function" ? "loading locale" : "preloaded locale",
          i
        ), await (typeof o == "function" ? o() : o);
      } else
        throw new Error("The requested locale is not configured");
    }
    configureLocalization() {
      var i;
      if (this.isDestroyed)
        throw new Nt();
      if ((i = this._locales) != null && i.size && !this.localization) {
        const n = this._locales.keys();
        console.log(this.weavyId, "Configuring locales", n);
        const { getLocale: o, setLocale: a } = am({
          sourceLocale: t.sourceLocale,
          targetLocales: n,
          loadLocale: (s) => this.loadLocale(s)
        });
        this.localization = {
          getLocale: o,
          setLocale: a
        };
      }
    }
  }, t.sourceLocale = Sp, t;
}, Om = (e) => class extends e {
  constructor(r) {
    super(r), this._networkEvents = /* @__PURE__ */ new Set(), this._connectionState = "connecting", this._serverState = "ok", this._networkState = window.navigator.onLine ? "online" : "offline", this._networkStateIsPending = !1, window.addEventListener("online", () => {
      this.networkState = "online";
    }), window.addEventListener("offline", () => {
      this.networkState = "offline", this.networkStateIsPending = !1;
    });
  }
  get networkState() {
    return this._networkState;
  }
  set networkState(r) {
    this._networkState = r, this.triggerNetworkChange();
  }
  get serverState() {
    return this._serverState;
  }
  set serverState(r) {
    this._serverState = r, this.triggerNetworkChange();
  }
  get connectionState() {
    return this._connectionState;
  }
  set connectionState(r) {
    this._connectionState = r, this.triggerNetworkChange();
  }
  get networkStateIsPending() {
    return this._networkStateIsPending;
  }
  set networkStateIsPending(r) {
    this._networkStateIsPending = r, this.triggerNetworkChange();
  }
  get network() {
    return {
      state: this._networkState === "online" ? this._connectionState === "connected" || this._serverState === "ok" ? "online" : "unreachable" : "offline",
      isPending: this._networkStateIsPending
    };
  }
  triggerNetworkChange() {
    const r = this.network;
    this._networkEvents.forEach((i) => {
      i(r);
    });
  }
  addNetworkListener(r) {
    this._networkEvents.add(r);
  }
  removeNetworkListener(r) {
    this._networkEvents.delete(r);
  }
}, Im = (e) => class extends e {
  // AUTHENTICATION
  constructor(r) {
    super(r), this._whenUrlAndTokenFactory = new Promise((i) => {
      this._resolveUrlAndTokenFactory = i;
    }), this._whenTokenIsValid = new Promise((i) => {
      this._resolveTokenIsValid = i;
    }), this._tokenPromise = null, this._token = "", this._validTokenFromFactory = async (i = !1) => {
      var a, s;
      const n = [this.whenUrlAndTokenFactory()];
      this.tokenFactoryRetryDelay !== 1 / 0 && n.push(new Promise((c) => setTimeout(c, this.tokenFactoryRetryDelay))), await Promise.race(n);
      const o = await ((a = this.tokenFactory) == null ? void 0 : a.call(this, i));
      if (!this._validateToken(o) && (this._whenUrlAndTokenFactory = new Promise((c) => {
        this._resolveUrlAndTokenFactory = c;
      }), !i))
        return await this._validTokenFromFactory(!1);
      if (!o)
        throw new TypeError("Could not get a valid token from tokenFactory.");
      return (s = this._resolveUrlAndTokenFactory) == null || s.call(this, !0), o;
    }, this.whenUrl().then(() => {
      var i;
      this.url && this.tokenFactory && ((i = this._resolveUrlAndTokenFactory) == null || i.call(this, !0));
    });
  }
  async whenUrlAndTokenFactory() {
    await this._whenUrlAndTokenFactory;
  }
  async whenTokenIsValid() {
    await this._whenTokenIsValid;
  }
  /**
   * Async function returning an `access_token` string for _your_ authenticated user. A boolean `refresh` parameter is provided to let you now if a fresh token is needed from Weavy.
   */
  get tokenFactory() {
    return this._tokenFactory;
  }
  set tokenFactory(r) {
    var i;
    if (this.isDestroyed)
      throw new Nt();
    this._tokenFactory && this._tokenFactory !== r && this.whenUrlAndTokenFactory().then(() => {
      this.queryClient.refetchQueries({ stale: !0 });
    }), this._tokenFactory = r, this.url && this._tokenFactory && ((i = this._resolveUrlAndTokenFactory) == null || i.call(this, !0));
  }
  /**
   * An URL to an endpoint returning an JSON data containing an `access_token` string property for _your_ authenticated user. A boolean `refresh=true` query parameter is provided in the request to let you now if when a fresh token is needed from Weavy.
   */
  get tokenUrl() {
    return this._tokenUrl;
  }
  set tokenUrl(r) {
    if (this.isDestroyed)
      throw new Nt();
    try {
      if (typeof r == "string")
        this._tokenUrl = Co(r);
      else if (r instanceof URL)
        this._tokenUrl = r;
      else if (r !== void 0)
        throw -1;
    } catch (i) {
      throw new Error("Invalid url", i);
    }
    this._tokenUrl && !this.tokenFactory && (this.tokenFactory = async (i) => {
      if (!this.tokenUrl)
        throw new Error("tokenURL property is not valid");
      const n = new URL(this.tokenUrl);
      i ? n.searchParams.set("refresh", "true") : n.searchParams.delete("refresh");
      const o = await fetch(n);
      if (o.ok) {
        const a = await o.json();
        if (a.access_token === void 0)
          throw new Error("Token response does not contain required property: access_token");
        return a.access_token;
      } else
        throw new Error("Could not get access token from server!");
    });
  }
  _validateToken(r) {
    var i;
    if (!r)
      return !1;
    if (typeof r != "string")
      throw new TypeError(`You have provided an invalid string access token of type ${typeof r}.`);
    if (typeof r == "string" && !r.startsWith("wyu_"))
      throw r.startsWith("wys_") ? new TypeError("You have provided an API key for authentication. Provide a user access token instead.") : new TypeError("You have provided an invalid string as access token.");
    return (i = this._resolveTokenIsValid) == null || i.call(this, r), !0;
  }
  async getToken(r = !1) {
    if (this.isDestroyed)
      throw new Nt();
    if (this._token && !r)
      return this._token;
    if (await this.whenUrlAndTokenFactory(), this._tokenPromise)
      return await this._tokenPromise;
    this._tokenPromise = new Promise((i, n) => {
      this._validTokenFromFactory(r).then(i).catch(n), this.tokenFactoryTimeout !== 1 / 0 && setTimeout(() => n(new Error("Token factory timeout.")), this.tokenFactoryTimeout), window.addEventListener("offline", () => n(new Error("Network changed.")), { once: !0 }), window.addEventListener("online", () => n(new Error("Network changed.")), { once: !0 });
    });
    try {
      const i = await this._tokenPromise;
      return this._tokenPromise = null, this._token = i, this._token;
    } catch (i) {
      throw this._tokenPromise = null, console.error(i), i;
    }
  }
};
var Pp = { exports: {} };
(function(e, t) {
  var r;
  r = () => (() => {
    var i = { d: (M, u) => {
      for (var f in u)
        i.o(u, f) && !i.o(M, f) && Object.defineProperty(M, f, { enumerable: !0, get: u[f] });
    } };
    i.g = function() {
      if (typeof globalThis == "object")
        return globalThis;
      try {
        return this || new Function("return this")();
      } catch {
        if (typeof window == "object")
          return window;
      }
    }(), i.o = (M, u) => Object.prototype.hasOwnProperty.call(M, u), i.r = (M) => {
      typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(M, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(M, "t", { value: !0 });
    };
    var n, o = {};
    i.r(o), i.d(o, { AbortError: () => c, DefaultHttpClient: () => Q, HttpClient: () => C, HttpError: () => a, HttpResponse: () => b, HttpTransportType: () => je, HubConnection: () => Re, HubConnectionBuilder: () => Y, HubConnectionState: () => de, JsonHubProtocol: () => Ee, LogLevel: () => n, MessageType: () => O, NullLogger: () => E, Subject: () => ve, TimeoutError: () => s, TransferFormat: () => Fe, VERSION: () => A });
    class a extends Error {
      constructor(u, f) {
        const P = new.target.prototype;
        super(`${u}: Status code '${f}'`), this.statusCode = f, this.__proto__ = P;
      }
    }
    class s extends Error {
      constructor(u = "A timeout occurred.") {
        const f = new.target.prototype;
        super(u), this.__proto__ = f;
      }
    }
    class c extends Error {
      constructor(u = "An abort occurred.") {
        const f = new.target.prototype;
        super(u), this.__proto__ = f;
      }
    }
    class l extends Error {
      constructor(u, f) {
        const P = new.target.prototype;
        super(u), this.transport = f, this.errorType = "UnsupportedTransportError", this.__proto__ = P;
      }
    }
    class d extends Error {
      constructor(u, f) {
        const P = new.target.prototype;
        super(u), this.transport = f, this.errorType = "DisabledTransportError", this.__proto__ = P;
      }
    }
    class h extends Error {
      constructor(u, f) {
        const P = new.target.prototype;
        super(u), this.transport = f, this.errorType = "FailedToStartTransportError", this.__proto__ = P;
      }
    }
    class y extends Error {
      constructor(u) {
        const f = new.target.prototype;
        super(u), this.errorType = "FailedToNegotiateWithServerError", this.__proto__ = f;
      }
    }
    class w extends Error {
      constructor(u, f) {
        const P = new.target.prototype;
        super(u), this.innerErrors = f, this.__proto__ = P;
      }
    }
    class b {
      constructor(u, f, P) {
        this.statusCode = u, this.statusText = f, this.content = P;
      }
    }
    class C {
      get(u, f) {
        return this.send({ ...f, method: "GET", url: u });
      }
      post(u, f) {
        return this.send({ ...f, method: "POST", url: u });
      }
      delete(u, f) {
        return this.send({ ...f, method: "DELETE", url: u });
      }
      getCookieString(u) {
        return "";
      }
    }
    (function(M) {
      M[M.Trace = 0] = "Trace", M[M.Debug = 1] = "Debug", M[M.Information = 2] = "Information", M[M.Warning = 3] = "Warning", M[M.Error = 4] = "Error", M[M.Critical = 5] = "Critical", M[M.None = 6] = "None";
    })(n || (n = {}));
    class E {
      constructor() {
      }
      log(u, f) {
      }
    }
    E.instance = new E();
    const A = "8.0.0";
    class _ {
      static isRequired(u, f) {
        if (u == null)
          throw new Error(`The '${f}' argument is required.`);
      }
      static isNotEmpty(u, f) {
        if (!u || u.match(/^\s*$/))
          throw new Error(`The '${f}' argument should not be empty.`);
      }
      static isIn(u, f, P) {
        if (!(u in f))
          throw new Error(`Unknown ${P} value: ${u}.`);
      }
    }
    class x {
      static get isBrowser() {
        return !x.isNode && typeof window == "object" && typeof window.document == "object";
      }
      static get isWebWorker() {
        return !x.isNode && typeof self == "object" && "importScripts" in self;
      }
      static get isReactNative() {
        return !x.isNode && typeof window == "object" && window.document === void 0;
      }
      static get isNode() {
        return typeof process < "u" && process.release && process.release.name === "node";
      }
    }
    function T(M, u) {
      let f = "";
      return k(M) ? (f = `Binary data of length ${M.byteLength}`, u && (f += `. Content: '${function(P) {
        const I = new Uint8Array(P);
        let H = "";
        return I.forEach((W) => {
          H += `0x${W < 16 ? "0" : ""}${W.toString(16)} `;
        }), H.substr(0, H.length - 1);
      }(M)}'`)) : typeof M == "string" && (f = `String data of length ${M.length}`, u && (f += `. Content: '${M}'`)), f;
    }
    function k(M) {
      return M && typeof ArrayBuffer < "u" && (M instanceof ArrayBuffer || M.constructor && M.constructor.name === "ArrayBuffer");
    }
    async function g(M, u, f, P, I, H) {
      const W = {}, [ce, he] = R();
      W[ce] = he, M.log(n.Trace, `(${u} transport) sending data. ${T(I, H.logMessageContent)}.`);
      const be = k(I) ? "arraybuffer" : "text", ze = await f.post(P, { content: I, headers: { ...W, ...H.headers }, responseType: be, timeout: H.timeout, withCredentials: H.withCredentials });
      M.log(n.Trace, `(${u} transport) request complete. Response status: ${ze.statusCode}.`);
    }
    class S {
      constructor(u, f) {
        this.i = u, this.h = f;
      }
      dispose() {
        const u = this.i.observers.indexOf(this.h);
        u > -1 && this.i.observers.splice(u, 1), this.i.observers.length === 0 && this.i.cancelCallback && this.i.cancelCallback().catch((f) => {
        });
      }
    }
    class L {
      constructor(u) {
        this.l = u, this.out = console;
      }
      log(u, f) {
        if (u >= this.l) {
          const P = `[${(/* @__PURE__ */ new Date()).toISOString()}] ${n[u]}: ${f}`;
          switch (u) {
            case n.Critical:
            case n.Error:
              this.out.error(P);
              break;
            case n.Warning:
              this.out.warn(P);
              break;
            case n.Information:
              this.out.info(P);
              break;
            default:
              this.out.log(P);
          }
        }
      }
    }
    function R() {
      let M = "X-SignalR-User-Agent";
      return x.isNode && (M = "User-Agent"), [M, U(A, J(), x.isNode ? "NodeJS" : "Browser", ne())];
    }
    function U(M, u, f, P) {
      let I = "Microsoft SignalR/";
      const H = M.split(".");
      return I += `${H[0]}.${H[1]}`, I += ` (${M}; `, I += u && u !== "" ? `${u}; ` : "Unknown OS; ", I += `${f}`, I += P ? `; ${P}` : "; Unknown Runtime Version", I += ")", I;
    }
    function J() {
      if (!x.isNode)
        return "";
      switch (process.platform) {
        case "win32":
          return "Windows NT";
        case "darwin":
          return "macOS";
        case "linux":
          return "Linux";
        default:
          return process.platform;
      }
    }
    function ne() {
      if (x.isNode)
        return process.versions.node;
    }
    function ue(M) {
      return M.stack ? M.stack : M.message ? M.message : `${M}`;
    }
    class K extends C {
      constructor(u) {
        super(), this.u = u, this.p = fetch.bind(function() {
          if (typeof globalThis < "u")
            return globalThis;
          if (typeof self < "u")
            return self;
          if (typeof window < "u")
            return window;
          if (i.g !== void 0)
            return i.g;
          throw new Error("could not find global");
        }()), this.m = AbortController, this.m;
      }
      async send(u) {
        if (u.abortSignal && u.abortSignal.aborted)
          throw new c();
        if (!u.method)
          throw new Error("No method defined.");
        if (!u.url)
          throw new Error("No url defined.");
        const f = new this.m();
        let P;
        u.abortSignal && (u.abortSignal.onabort = () => {
          f.abort(), P = new c();
        });
        let I, H = null;
        if (u.timeout) {
          const he = u.timeout;
          H = setTimeout(() => {
            f.abort(), this.u.log(n.Warning, "Timeout from HTTP request."), P = new s();
          }, he);
        }
        u.content === "" && (u.content = void 0), u.content && (u.headers = u.headers || {}, k(u.content) ? u.headers["Content-Type"] = "application/octet-stream" : u.headers["Content-Type"] = "text/plain;charset=UTF-8");
        try {
          I = await this.p(u.url, { body: u.content, cache: "no-cache", credentials: u.withCredentials === !0 ? "include" : "same-origin", headers: { "X-Requested-With": "XMLHttpRequest", ...u.headers }, method: u.method, mode: "cors", redirect: "follow", signal: f.signal });
        } catch (he) {
          throw P || (this.u.log(n.Warning, `Error from HTTP request. ${he}.`), he);
        } finally {
          H && clearTimeout(H), u.abortSignal && (u.abortSignal.onabort = null);
        }
        if (!I.ok) {
          const he = await ae(I, "text");
          throw new a(he || I.statusText, I.status);
        }
        const W = ae(I, u.responseType), ce = await W;
        return new b(I.status, I.statusText, ce);
      }
      getCookieString(u) {
        let f = "";
        return x.isNode && this.v && this.v.getCookies(u, (P, I) => f = I.join("; ")), f;
      }
    }
    function ae(M, u) {
      let f;
      switch (u) {
        case "arraybuffer":
          f = M.arrayBuffer();
          break;
        case "text":
        default:
          f = M.text();
          break;
        case "blob":
        case "document":
        case "json":
          throw new Error(`${u} is not supported.`);
      }
      return f;
    }
    class ee extends C {
      constructor(u) {
        super(), this.u = u;
      }
      send(u) {
        return u.abortSignal && u.abortSignal.aborted ? Promise.reject(new c()) : u.method ? u.url ? new Promise((f, P) => {
          const I = new XMLHttpRequest();
          I.open(u.method, u.url, !0), I.withCredentials = u.withCredentials === void 0 || u.withCredentials, I.setRequestHeader("X-Requested-With", "XMLHttpRequest"), u.content === "" && (u.content = void 0), u.content && (k(u.content) ? I.setRequestHeader("Content-Type", "application/octet-stream") : I.setRequestHeader("Content-Type", "text/plain;charset=UTF-8"));
          const H = u.headers;
          H && Object.keys(H).forEach((W) => {
            I.setRequestHeader(W, H[W]);
          }), u.responseType && (I.responseType = u.responseType), u.abortSignal && (u.abortSignal.onabort = () => {
            I.abort(), P(new c());
          }), u.timeout && (I.timeout = u.timeout), I.onload = () => {
            u.abortSignal && (u.abortSignal.onabort = null), I.status >= 200 && I.status < 300 ? f(new b(I.status, I.statusText, I.response || I.responseText)) : P(new a(I.response || I.responseText || I.statusText, I.status));
          }, I.onerror = () => {
            this.u.log(n.Warning, `Error from HTTP request. ${I.status}: ${I.statusText}.`), P(new a(I.statusText, I.status));
          }, I.ontimeout = () => {
            this.u.log(n.Warning, "Timeout from HTTP request."), P(new s());
          }, I.send(u.content);
        }) : Promise.reject(new Error("No url defined.")) : Promise.reject(new Error("No method defined."));
      }
    }
    class Q extends C {
      constructor(u) {
        if (super(), typeof fetch < "u" || x.isNode)
          this.$ = new K(u);
        else {
          if (typeof XMLHttpRequest > "u")
            throw new Error("No usable HttpClient found.");
          this.$ = new ee(u);
        }
      }
      send(u) {
        return u.abortSignal && u.abortSignal.aborted ? Promise.reject(new c()) : u.method ? u.url ? this.$.send(u) : Promise.reject(new Error("No url defined.")) : Promise.reject(new Error("No method defined."));
      }
      getCookieString(u) {
        return this.$.getCookieString(u);
      }
    }
    class Z {
      static write(u) {
        return `${u}${Z.RecordSeparator}`;
      }
      static parse(u) {
        if (u[u.length - 1] !== Z.RecordSeparator)
          throw new Error("Message is incomplete.");
        const f = u.split(Z.RecordSeparator);
        return f.pop(), f;
      }
    }
    Z.RecordSeparatorCode = 30, Z.RecordSeparator = String.fromCharCode(Z.RecordSeparatorCode);
    class le {
      writeHandshakeRequest(u) {
        return Z.write(JSON.stringify(u));
      }
      parseHandshakeResponse(u) {
        let f, P;
        if (k(u)) {
          const W = new Uint8Array(u), ce = W.indexOf(Z.RecordSeparatorCode);
          if (ce === -1)
            throw new Error("Message is incomplete.");
          const he = ce + 1;
          f = String.fromCharCode.apply(null, Array.prototype.slice.call(W.slice(0, he))), P = W.byteLength > he ? W.slice(he).buffer : null;
        } else {
          const W = u, ce = W.indexOf(Z.RecordSeparator);
          if (ce === -1)
            throw new Error("Message is incomplete.");
          const he = ce + 1;
          f = W.substring(0, he), P = W.length > he ? W.substring(he) : null;
        }
        const I = Z.parse(f), H = JSON.parse(I[0]);
        if (H.type)
          throw new Error("Expected a handshake response from the server.");
        return [P, H];
      }
    }
    var O, de;
    (function(M) {
      M[M.Invocation = 1] = "Invocation", M[M.StreamItem = 2] = "StreamItem", M[M.Completion = 3] = "Completion", M[M.StreamInvocation = 4] = "StreamInvocation", M[M.CancelInvocation = 5] = "CancelInvocation", M[M.Ping = 6] = "Ping", M[M.Close = 7] = "Close", M[M.Ack = 8] = "Ack", M[M.Sequence = 9] = "Sequence";
    })(O || (O = {}));
    class ve {
      constructor() {
        this.observers = [];
      }
      next(u) {
        for (const f of this.observers)
          f.next(u);
      }
      error(u) {
        for (const f of this.observers)
          f.error && f.error(u);
      }
      complete() {
        for (const u of this.observers)
          u.complete && u.complete();
      }
      subscribe(u) {
        return this.observers.push(u), new S(this, u);
      }
    }
    class me {
      constructor(u, f, P) {
        this.C = 1e5, this.S = [], this.k = 0, this.P = !1, this.T = 1, this.I = 0, this._ = 0, this.H = !1, this.D = u, this.R = f, this.C = P;
      }
      async A(u) {
        const f = this.D.writeMessage(u);
        let P = Promise.resolve();
        if (this.U(u)) {
          this.k++;
          let I = () => {
          }, H = () => {
          };
          k(f) ? this._ += f.byteLength : this._ += f.length, this._ >= this.C && (P = new Promise((W, ce) => {
            I = W, H = ce;
          })), this.S.push(new Ce(f, this.k, I, H));
        }
        try {
          this.H || await this.R.send(f);
        } catch {
          this.L();
        }
        await P;
      }
      N(u) {
        let f = -1;
        for (let P = 0; P < this.S.length; P++) {
          const I = this.S[P];
          if (I.q <= u.sequenceId)
            f = P, k(I.M) ? this._ -= I.M.byteLength : this._ -= I.M.length, I.j();
          else {
            if (!(this._ < this.C))
              break;
            I.j();
          }
        }
        f !== -1 && (this.S = this.S.slice(f + 1));
      }
      W(u) {
        if (this.P)
          return u.type === O.Sequence && (this.P = !1, !0);
        if (!this.U(u))
          return !0;
        const f = this.T;
        return this.T++, f <= this.I ? (f === this.I && this.O(), !1) : (this.I = f, this.O(), !0);
      }
      F(u) {
        u.sequenceId > this.T ? this.R.stop(new Error("Sequence ID greater than amount of messages we've received.")) : this.T = u.sequenceId;
      }
      L() {
        this.H = !0, this.P = !0;
      }
      async B() {
        const u = this.S.length !== 0 ? this.S[0].q : this.k + 1;
        await this.R.send(this.D.writeMessage({ type: O.Sequence, sequenceId: u }));
        const f = this.S;
        for (const P of f)
          await this.R.send(P.M);
        this.H = !1;
      }
      X(u) {
        u != null || (u = new Error("Unable to reconnect to server."));
        for (const f of this.S)
          f.J(u);
      }
      U(u) {
        switch (u.type) {
          case O.Invocation:
          case O.StreamItem:
          case O.Completion:
          case O.StreamInvocation:
          case O.CancelInvocation:
            return !0;
          case O.Close:
          case O.Sequence:
          case O.Ping:
          case O.Ack:
            return !1;
        }
      }
      O() {
        this.V === void 0 && (this.V = setTimeout(async () => {
          try {
            this.H || await this.R.send(this.D.writeMessage({ type: O.Ack, sequenceId: this.I }));
          } catch {
          }
          clearTimeout(this.V), this.V = void 0;
        }, 1e3));
      }
    }
    class Ce {
      constructor(u, f, P, I) {
        this.M = u, this.q = f, this.j = P, this.J = I;
      }
    }
    (function(M) {
      M.Disconnected = "Disconnected", M.Connecting = "Connecting", M.Connected = "Connected", M.Disconnecting = "Disconnecting", M.Reconnecting = "Reconnecting";
    })(de || (de = {}));
    class Re {
      static create(u, f, P, I, H, W, ce) {
        return new Re(u, f, P, I, H, W, ce);
      }
      constructor(u, f, P, I, H, W, ce) {
        this.K = 0, this.G = () => {
          this.u.log(n.Warning, "The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep");
        }, _.isRequired(u, "connection"), _.isRequired(f, "logger"), _.isRequired(P, "protocol"), this.serverTimeoutInMilliseconds = H ?? 3e4, this.keepAliveIntervalInMilliseconds = W ?? 15e3, this.Y = ce ?? 1e5, this.u = f, this.D = P, this.connection = u, this.Z = I, this.tt = new le(), this.connection.onreceive = (he) => this.et(he), this.connection.onclose = (he) => this.st(he), this.it = {}, this.nt = {}, this.rt = [], this.ot = [], this.ht = [], this.ct = 0, this.lt = !1, this.ut = de.Disconnected, this.dt = !1, this.ft = this.D.writeMessage({ type: O.Ping });
      }
      get state() {
        return this.ut;
      }
      get connectionId() {
        return this.connection && this.connection.connectionId || null;
      }
      get baseUrl() {
        return this.connection.baseUrl || "";
      }
      set baseUrl(u) {
        if (this.ut !== de.Disconnected && this.ut !== de.Reconnecting)
          throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");
        if (!u)
          throw new Error("The HubConnection url must be a valid url.");
        this.connection.baseUrl = u;
      }
      start() {
        return this.wt = this.gt(), this.wt;
      }
      async gt() {
        if (this.ut !== de.Disconnected)
          return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));
        this.ut = de.Connecting, this.u.log(n.Debug, "Starting HubConnection.");
        try {
          await this.yt(), x.isBrowser && window.document.addEventListener("freeze", this.G), this.ut = de.Connected, this.dt = !0, this.u.log(n.Debug, "HubConnection connected successfully.");
        } catch (u) {
          return this.ut = de.Disconnected, this.u.log(n.Debug, `HubConnection failed to start successfully because of error '${u}'.`), Promise.reject(u);
        }
      }
      async yt() {
        this.bt = void 0, this.lt = !1;
        const u = new Promise((f, P) => {
          this.vt = f, this.Et = P;
        });
        await this.connection.start(this.D.transferFormat);
        try {
          let f = this.D.version;
          this.connection.features.reconnect || (f = 1);
          const P = { protocol: this.D.name, version: f };
          if (this.u.log(n.Debug, "Sending handshake request."), await this.$t(this.tt.writeHandshakeRequest(P)), this.u.log(n.Information, `Using HubProtocol '${this.D.name}'.`), this.Ct(), this.St(), this.kt(), await u, this.bt)
            throw this.bt;
          this.connection.features.reconnect && (this.Pt = new me(this.D, this.connection, this.Y), this.connection.features.disconnected = this.Pt.L.bind(this.Pt), this.connection.features.resend = () => {
            if (this.Pt)
              return this.Pt.B();
          }), this.connection.features.inherentKeepAlive || await this.$t(this.ft);
        } catch (f) {
          throw this.u.log(n.Debug, `Hub handshake failed with error '${f}' during start(). Stopping HubConnection.`), this.Ct(), this.Tt(), await this.connection.stop(f), f;
        }
      }
      async stop() {
        const u = this.wt;
        this.connection.features.reconnect = !1, this.It = this._t(), await this.It;
        try {
          await u;
        } catch {
        }
      }
      _t(u) {
        if (this.ut === de.Disconnected)
          return this.u.log(n.Debug, `Call to HubConnection.stop(${u}) ignored because it is already in the disconnected state.`), Promise.resolve();
        if (this.ut === de.Disconnecting)
          return this.u.log(n.Debug, `Call to HttpConnection.stop(${u}) ignored because the connection is already in the disconnecting state.`), this.It;
        const f = this.ut;
        return this.ut = de.Disconnecting, this.u.log(n.Debug, "Stopping HubConnection."), this.Ht ? (this.u.log(n.Debug, "Connection stopped during reconnect delay. Done reconnecting."), clearTimeout(this.Ht), this.Ht = void 0, this.Dt(), Promise.resolve()) : (f === de.Connected && this.Rt(), this.Ct(), this.Tt(), this.bt = u || new c("The connection was stopped before the hub handshake could complete."), this.connection.stop(u));
      }
      async Rt() {
        try {
          await this.xt(this.At());
        } catch {
        }
      }
      stream(u, ...f) {
        const [P, I] = this.Ut(f), H = this.Lt(u, f, I);
        let W;
        const ce = new ve();
        return ce.cancelCallback = () => {
          const he = this.Nt(H.invocationId);
          return delete this.it[H.invocationId], W.then(() => this.xt(he));
        }, this.it[H.invocationId] = (he, be) => {
          be ? ce.error(be) : he && (he.type === O.Completion ? he.error ? ce.error(new Error(he.error)) : ce.complete() : ce.next(he.item));
        }, W = this.xt(H).catch((he) => {
          ce.error(he), delete this.it[H.invocationId];
        }), this.qt(P, W), ce;
      }
      $t(u) {
        return this.kt(), this.connection.send(u);
      }
      xt(u) {
        return this.Pt ? this.Pt.A(u) : this.$t(this.D.writeMessage(u));
      }
      send(u, ...f) {
        const [P, I] = this.Ut(f), H = this.xt(this.Mt(u, f, !0, I));
        return this.qt(P, H), H;
      }
      invoke(u, ...f) {
        const [P, I] = this.Ut(f), H = this.Mt(u, f, !1, I);
        return new Promise((W, ce) => {
          this.it[H.invocationId] = (be, ze) => {
            ze ? ce(ze) : be && (be.type === O.Completion ? be.error ? ce(new Error(be.error)) : W(be.result) : ce(new Error(`Unexpected message type: ${be.type}`)));
          };
          const he = this.xt(H).catch((be) => {
            ce(be), delete this.it[H.invocationId];
          });
          this.qt(P, he);
        });
      }
      on(u, f) {
        u && f && (u = u.toLowerCase(), this.nt[u] || (this.nt[u] = []), this.nt[u].indexOf(f) === -1 && this.nt[u].push(f));
      }
      off(u, f) {
        if (!u)
          return;
        u = u.toLowerCase();
        const P = this.nt[u];
        if (P)
          if (f) {
            const I = P.indexOf(f);
            I !== -1 && (P.splice(I, 1), P.length === 0 && delete this.nt[u]);
          } else
            delete this.nt[u];
      }
      onclose(u) {
        u && this.rt.push(u);
      }
      onreconnecting(u) {
        u && this.ot.push(u);
      }
      onreconnected(u) {
        u && this.ht.push(u);
      }
      et(u) {
        if (this.Ct(), this.lt || (u = this.jt(u), this.lt = !0), u) {
          const f = this.D.parseMessages(u, this.u);
          for (const P of f)
            if (!this.Pt || this.Pt.W(P))
              switch (P.type) {
                case O.Invocation:
                  this.Wt(P);
                  break;
                case O.StreamItem:
                case O.Completion: {
                  const I = this.it[P.invocationId];
                  if (I) {
                    P.type === O.Completion && delete this.it[P.invocationId];
                    try {
                      I(P);
                    } catch (H) {
                      this.u.log(n.Error, `Stream callback threw error: ${ue(H)}`);
                    }
                  }
                  break;
                }
                case O.Ping:
                  break;
                case O.Close: {
                  this.u.log(n.Information, "Close message received from server.");
                  const I = P.error ? new Error("Server returned an error on close: " + P.error) : void 0;
                  P.allowReconnect === !0 ? this.connection.stop(I) : this.It = this._t(I);
                  break;
                }
                case O.Ack:
                  this.Pt && this.Pt.N(P);
                  break;
                case O.Sequence:
                  this.Pt && this.Pt.F(P);
                  break;
                default:
                  this.u.log(n.Warning, `Invalid message type: ${P.type}.`);
              }
        }
        this.St();
      }
      jt(u) {
        let f, P;
        try {
          [P, f] = this.tt.parseHandshakeResponse(u);
        } catch (I) {
          const H = "Error parsing handshake response: " + I;
          this.u.log(n.Error, H);
          const W = new Error(H);
          throw this.Et(W), W;
        }
        if (f.error) {
          const I = "Server returned handshake error: " + f.error;
          this.u.log(n.Error, I);
          const H = new Error(I);
          throw this.Et(H), H;
        }
        return this.u.log(n.Debug, "Server handshake complete."), this.vt(), P;
      }
      kt() {
        this.connection.features.inherentKeepAlive || (this.K = (/* @__PURE__ */ new Date()).getTime() + this.keepAliveIntervalInMilliseconds, this.Tt());
      }
      St() {
        if (!(this.connection.features && this.connection.features.inherentKeepAlive || (this.Ot = setTimeout(() => this.serverTimeout(), this.serverTimeoutInMilliseconds), this.Ft !== void 0))) {
          let u = this.K - (/* @__PURE__ */ new Date()).getTime();
          u < 0 && (u = 0), this.Ft = setTimeout(async () => {
            if (this.ut === de.Connected)
              try {
                await this.$t(this.ft);
              } catch {
                this.Tt();
              }
          }, u);
        }
      }
      serverTimeout() {
        this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."));
      }
      async Wt(u) {
        const f = u.target.toLowerCase(), P = this.nt[f];
        if (!P)
          return this.u.log(n.Warning, `No client method with the name '${f}' found.`), void (u.invocationId && (this.u.log(n.Warning, `No result given for '${f}' method and invocation ID '${u.invocationId}'.`), await this.xt(this.Bt(u.invocationId, "Client didn't provide a result.", null))));
        const I = P.slice(), H = !!u.invocationId;
        let W, ce, he;
        for (const be of I)
          try {
            const ze = W;
            W = await be.apply(this, u.arguments), H && W && ze && (this.u.log(n.Error, `Multiple results provided for '${f}'. Sending error to server.`), he = this.Bt(u.invocationId, "Client provided multiple results.", null)), ce = void 0;
          } catch (ze) {
            ce = ze, this.u.log(n.Error, `A callback for the method '${f}' threw error '${ze}'.`);
          }
        he ? await this.xt(he) : H ? (ce ? he = this.Bt(u.invocationId, `${ce}`, null) : W !== void 0 ? he = this.Bt(u.invocationId, null, W) : (this.u.log(n.Warning, `No result given for '${f}' method and invocation ID '${u.invocationId}'.`), he = this.Bt(u.invocationId, "Client didn't provide a result.", null)), await this.xt(he)) : W && this.u.log(n.Error, `Result given for '${f}' method but server is not expecting a result.`);
      }
      st(u) {
        this.u.log(n.Debug, `HubConnection.connectionClosed(${u}) called while in state ${this.ut}.`), this.bt = this.bt || u || new c("The underlying connection was closed before the hub handshake could complete."), this.vt && this.vt(), this.Xt(u || new Error("Invocation canceled due to the underlying connection being closed.")), this.Ct(), this.Tt(), this.ut === de.Disconnecting ? this.Dt(u) : this.ut === de.Connected && this.Z ? this.Jt(u) : this.ut === de.Connected && this.Dt(u);
      }
      Dt(u) {
        if (this.dt) {
          this.ut = de.Disconnected, this.dt = !1, this.Pt && (this.Pt.X(u ?? new Error("Connection closed.")), this.Pt = void 0), x.isBrowser && window.document.removeEventListener("freeze", this.G);
          try {
            this.rt.forEach((f) => f.apply(this, [u]));
          } catch (f) {
            this.u.log(n.Error, `An onclose callback called with error '${u}' threw error '${f}'.`);
          }
        }
      }
      async Jt(u) {
        const f = Date.now();
        let P = 0, I = u !== void 0 ? u : new Error("Attempting to reconnect due to a unknown error."), H = this.zt(P++, 0, I);
        if (H === null)
          return this.u.log(n.Debug, "Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."), void this.Dt(u);
        if (this.ut = de.Reconnecting, u ? this.u.log(n.Information, `Connection reconnecting because of error '${u}'.`) : this.u.log(n.Information, "Connection reconnecting."), this.ot.length !== 0) {
          try {
            this.ot.forEach((W) => W.apply(this, [u]));
          } catch (W) {
            this.u.log(n.Error, `An onreconnecting callback called with error '${u}' threw error '${W}'.`);
          }
          if (this.ut !== de.Reconnecting)
            return void this.u.log(n.Debug, "Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");
        }
        for (; H !== null; ) {
          if (this.u.log(n.Information, `Reconnect attempt number ${P} will start in ${H} ms.`), await new Promise((W) => {
            this.Ht = setTimeout(W, H);
          }), this.Ht = void 0, this.ut !== de.Reconnecting)
            return void this.u.log(n.Debug, "Connection left the reconnecting state during reconnect delay. Done reconnecting.");
          try {
            if (await this.yt(), this.ut = de.Connected, this.u.log(n.Information, "HubConnection reconnected successfully."), this.ht.length !== 0)
              try {
                this.ht.forEach((W) => W.apply(this, [this.connection.connectionId]));
              } catch (W) {
                this.u.log(n.Error, `An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${W}'.`);
              }
            return;
          } catch (W) {
            if (this.u.log(n.Information, `Reconnect attempt failed because of error '${W}'.`), this.ut !== de.Reconnecting)
              return this.u.log(n.Debug, `Connection moved to the '${this.ut}' from the reconnecting state during reconnect attempt. Done reconnecting.`), void (this.ut === de.Disconnecting && this.Dt());
            I = W instanceof Error ? W : new Error(W.toString()), H = this.zt(P++, Date.now() - f, I);
          }
        }
        this.u.log(n.Information, `Reconnect retries have been exhausted after ${Date.now() - f} ms and ${P} failed attempts. Connection disconnecting.`), this.Dt();
      }
      zt(u, f, P) {
        try {
          return this.Z.nextRetryDelayInMilliseconds({ elapsedMilliseconds: f, previousRetryCount: u, retryReason: P });
        } catch (I) {
          return this.u.log(n.Error, `IRetryPolicy.nextRetryDelayInMilliseconds(${u}, ${f}) threw error '${I}'.`), null;
        }
      }
      Xt(u) {
        const f = this.it;
        this.it = {}, Object.keys(f).forEach((P) => {
          const I = f[P];
          try {
            I(null, u);
          } catch (H) {
            this.u.log(n.Error, `Stream 'error' callback called with '${u}' threw error: ${ue(H)}`);
          }
        });
      }
      Tt() {
        this.Ft && (clearTimeout(this.Ft), this.Ft = void 0);
      }
      Ct() {
        this.Ot && clearTimeout(this.Ot);
      }
      Mt(u, f, P, I) {
        if (P)
          return I.length !== 0 ? { arguments: f, streamIds: I, target: u, type: O.Invocation } : { arguments: f, target: u, type: O.Invocation };
        {
          const H = this.ct;
          return this.ct++, I.length !== 0 ? { arguments: f, invocationId: H.toString(), streamIds: I, target: u, type: O.Invocation } : { arguments: f, invocationId: H.toString(), target: u, type: O.Invocation };
        }
      }
      qt(u, f) {
        if (u.length !== 0) {
          f || (f = Promise.resolve());
          for (const P in u)
            u[P].subscribe({ complete: () => {
              f = f.then(() => this.xt(this.Bt(P)));
            }, error: (I) => {
              let H;
              H = I instanceof Error ? I.message : I && I.toString ? I.toString() : "Unknown error", f = f.then(() => this.xt(this.Bt(P, H)));
            }, next: (I) => {
              f = f.then(() => this.xt(this.Vt(P, I)));
            } });
        }
      }
      Ut(u) {
        const f = [], P = [];
        for (let I = 0; I < u.length; I++) {
          const H = u[I];
          if (this.Kt(H)) {
            const W = this.ct;
            this.ct++, f[W] = H, P.push(W.toString()), u.splice(I, 1);
          }
        }
        return [f, P];
      }
      Kt(u) {
        return u && u.subscribe && typeof u.subscribe == "function";
      }
      Lt(u, f, P) {
        const I = this.ct;
        return this.ct++, P.length !== 0 ? { arguments: f, invocationId: I.toString(), streamIds: P, target: u, type: O.StreamInvocation } : { arguments: f, invocationId: I.toString(), target: u, type: O.StreamInvocation };
      }
      Nt(u) {
        return { invocationId: u, type: O.CancelInvocation };
      }
      Vt(u, f) {
        return { invocationId: u, item: f, type: O.StreamItem };
      }
      Bt(u, f, P) {
        return f ? { error: f, invocationId: u, type: O.Completion } : { invocationId: u, result: P, type: O.Completion };
      }
      At() {
        return { type: O.Close };
      }
    }
    const qe = [0, 2e3, 1e4, 3e4, null];
    class Ge {
      constructor(u) {
        this.Gt = u !== void 0 ? [...u, null] : qe;
      }
      nextRetryDelayInMilliseconds(u) {
        return this.Gt[u.previousRetryCount];
      }
    }
    class Ne {
    }
    Ne.Authorization = "Authorization", Ne.Cookie = "Cookie";
    class it extends C {
      constructor(u, f) {
        super(), this.Qt = u, this.Yt = f;
      }
      async send(u) {
        let f = !0;
        this.Yt && (!this.Zt || u.url && u.url.indexOf("/negotiate?") > 0) && (f = !1, this.Zt = await this.Yt()), this.te(u);
        const P = await this.Qt.send(u);
        return f && P.statusCode === 401 && this.Yt ? (this.Zt = await this.Yt(), this.te(u), await this.Qt.send(u)) : P;
      }
      te(u) {
        u.headers || (u.headers = {}), this.Zt ? u.headers[Ne.Authorization] = `Bearer ${this.Zt}` : this.Yt && u.headers[Ne.Authorization] && delete u.headers[Ne.Authorization];
      }
      getCookieString(u) {
        return this.Qt.getCookieString(u);
      }
    }
    var je, Fe;
    (function(M) {
      M[M.None = 0] = "None", M[M.WebSockets = 1] = "WebSockets", M[M.ServerSentEvents = 2] = "ServerSentEvents", M[M.LongPolling = 4] = "LongPolling";
    })(je || (je = {})), function(M) {
      M[M.Text = 1] = "Text", M[M.Binary = 2] = "Binary";
    }(Fe || (Fe = {}));
    class ir {
      constructor() {
        this.ee = !1, this.onabort = null;
      }
      abort() {
        this.ee || (this.ee = !0, this.onabort && this.onabort());
      }
      get signal() {
        return this;
      }
      get aborted() {
        return this.ee;
      }
    }
    class bt {
      get pollAborted() {
        return this.se.aborted;
      }
      constructor(u, f, P) {
        this.$ = u, this.u = f, this.se = new ir(), this.ie = P, this.ne = !1, this.onreceive = null, this.onclose = null;
      }
      async connect(u, f) {
        if (_.isRequired(u, "url"), _.isRequired(f, "transferFormat"), _.isIn(f, Fe, "transferFormat"), this.re = u, this.u.log(n.Trace, "(LongPolling transport) Connecting."), f === Fe.Binary && typeof XMLHttpRequest < "u" && typeof new XMLHttpRequest().responseType != "string")
          throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");
        const [P, I] = R(), H = { [P]: I, ...this.ie.headers }, W = { abortSignal: this.se.signal, headers: H, timeout: 1e5, withCredentials: this.ie.withCredentials };
        f === Fe.Binary && (W.responseType = "arraybuffer");
        const ce = `${u}&_=${Date.now()}`;
        this.u.log(n.Trace, `(LongPolling transport) polling: ${ce}.`);
        const he = await this.$.get(ce, W);
        he.statusCode !== 200 ? (this.u.log(n.Error, `(LongPolling transport) Unexpected response code: ${he.statusCode}.`), this.oe = new a(he.statusText || "", he.statusCode), this.ne = !1) : this.ne = !0, this.he = this.ce(this.re, W);
      }
      async ce(u, f) {
        try {
          for (; this.ne; )
            try {
              const P = `${u}&_=${Date.now()}`;
              this.u.log(n.Trace, `(LongPolling transport) polling: ${P}.`);
              const I = await this.$.get(P, f);
              I.statusCode === 204 ? (this.u.log(n.Information, "(LongPolling transport) Poll terminated by server."), this.ne = !1) : I.statusCode !== 200 ? (this.u.log(n.Error, `(LongPolling transport) Unexpected response code: ${I.statusCode}.`), this.oe = new a(I.statusText || "", I.statusCode), this.ne = !1) : I.content ? (this.u.log(n.Trace, `(LongPolling transport) data received. ${T(I.content, this.ie.logMessageContent)}.`), this.onreceive && this.onreceive(I.content)) : this.u.log(n.Trace, "(LongPolling transport) Poll timed out, reissuing.");
            } catch (P) {
              this.ne ? P instanceof s ? this.u.log(n.Trace, "(LongPolling transport) Poll timed out, reissuing.") : (this.oe = P, this.ne = !1) : this.u.log(n.Trace, `(LongPolling transport) Poll errored after shutdown: ${P.message}`);
            }
        } finally {
          this.u.log(n.Trace, "(LongPolling transport) Polling complete."), this.pollAborted || this.ae();
        }
      }
      async send(u) {
        return this.ne ? g(this.u, "LongPolling", this.$, this.re, u, this.ie) : Promise.reject(new Error("Cannot send until the transport is connected"));
      }
      async stop() {
        this.u.log(n.Trace, "(LongPolling transport) Stopping polling."), this.ne = !1, this.se.abort();
        try {
          await this.he, this.u.log(n.Trace, `(LongPolling transport) sending DELETE request to ${this.re}.`);
          const u = {}, [f, P] = R();
          u[f] = P;
          const I = { headers: { ...u, ...this.ie.headers }, timeout: this.ie.timeout, withCredentials: this.ie.withCredentials };
          let H;
          try {
            await this.$.delete(this.re, I);
          } catch (W) {
            H = W;
          }
          H ? H instanceof a && (H.statusCode === 404 ? this.u.log(n.Trace, "(LongPolling transport) A 404 response was returned from sending a DELETE request.") : this.u.log(n.Trace, `(LongPolling transport) Error sending a DELETE request: ${H}`)) : this.u.log(n.Trace, "(LongPolling transport) DELETE request accepted.");
        } finally {
          this.u.log(n.Trace, "(LongPolling transport) Stop finished."), this.ae();
        }
      }
      ae() {
        if (this.onclose) {
          let u = "(LongPolling transport) Firing onclose event.";
          this.oe && (u += " Error: " + this.oe), this.u.log(n.Trace, u), this.onclose(this.oe);
        }
      }
    }
    class Ni {
      constructor(u, f, P, I) {
        this.$ = u, this.Zt = f, this.u = P, this.ie = I, this.onreceive = null, this.onclose = null;
      }
      async connect(u, f) {
        return _.isRequired(u, "url"), _.isRequired(f, "transferFormat"), _.isIn(f, Fe, "transferFormat"), this.u.log(n.Trace, "(SSE transport) Connecting."), this.re = u, this.Zt && (u += (u.indexOf("?") < 0 ? "?" : "&") + `access_token=${encodeURIComponent(this.Zt)}`), new Promise((P, I) => {
          let H, W = !1;
          if (f === Fe.Text) {
            if (x.isBrowser || x.isWebWorker)
              H = new this.ie.EventSource(u, { withCredentials: this.ie.withCredentials });
            else {
              const ce = this.$.getCookieString(u), he = {};
              he.Cookie = ce;
              const [be, ze] = R();
              he[be] = ze, H = new this.ie.EventSource(u, { withCredentials: this.ie.withCredentials, headers: { ...he, ...this.ie.headers } });
            }
            try {
              H.onmessage = (ce) => {
                if (this.onreceive)
                  try {
                    this.u.log(n.Trace, `(SSE transport) data received. ${T(ce.data, this.ie.logMessageContent)}.`), this.onreceive(ce.data);
                  } catch (he) {
                    return void this.le(he);
                  }
              }, H.onerror = (ce) => {
                W ? this.le() : I(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."));
              }, H.onopen = () => {
                this.u.log(n.Information, `SSE connected to ${this.re}`), this.ue = H, W = !0, P();
              };
            } catch (ce) {
              return void I(ce);
            }
          } else
            I(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));
        });
      }
      async send(u) {
        return this.ue ? g(this.u, "SSE", this.$, this.re, u, this.ie) : Promise.reject(new Error("Cannot send until the transport is connected"));
      }
      stop() {
        return this.le(), Promise.resolve();
      }
      le(u) {
        this.ue && (this.ue.close(), this.ue = void 0, this.onclose && this.onclose(u));
      }
    }
    class oe {
      constructor(u, f, P, I, H, W) {
        this.u = P, this.Yt = f, this.de = I, this.fe = H, this.$ = u, this.onreceive = null, this.onclose = null, this.pe = W;
      }
      async connect(u, f) {
        let P;
        return _.isRequired(u, "url"), _.isRequired(f, "transferFormat"), _.isIn(f, Fe, "transferFormat"), this.u.log(n.Trace, "(WebSockets transport) Connecting."), this.Yt && (P = await this.Yt()), new Promise((I, H) => {
          let W;
          u = u.replace(/^http/, "ws");
          const ce = this.$.getCookieString(u);
          let he = !1;
          if (x.isNode || x.isReactNative) {
            const be = {}, [ze, pt] = R();
            be[ze] = pt, P && (be[Ne.Authorization] = `Bearer ${P}`), ce && (be[Ne.Cookie] = ce), W = new this.fe(u, void 0, { headers: { ...be, ...this.pe } });
          } else
            P && (u += (u.indexOf("?") < 0 ? "?" : "&") + `access_token=${encodeURIComponent(P)}`);
          W || (W = new this.fe(u)), f === Fe.Binary && (W.binaryType = "arraybuffer"), W.onopen = (be) => {
            this.u.log(n.Information, `WebSocket connected to ${u}.`), this.we = W, he = !0, I();
          }, W.onerror = (be) => {
            let ze = null;
            ze = typeof ErrorEvent < "u" && be instanceof ErrorEvent ? be.error : "There was an error with the transport", this.u.log(n.Information, `(WebSockets transport) ${ze}.`);
          }, W.onmessage = (be) => {
            if (this.u.log(n.Trace, `(WebSockets transport) data received. ${T(be.data, this.de)}.`), this.onreceive)
              try {
                this.onreceive(be.data);
              } catch (ze) {
                return void this.le(ze);
              }
          }, W.onclose = (be) => {
            if (he)
              this.le(be);
            else {
              let ze = null;
              ze = typeof ErrorEvent < "u" && be instanceof ErrorEvent ? be.error : "WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.", H(new Error(ze));
            }
          };
        });
      }
      send(u) {
        return this.we && this.we.readyState === this.fe.OPEN ? (this.u.log(n.Trace, `(WebSockets transport) sending data. ${T(u, this.de)}.`), this.we.send(u), Promise.resolve()) : Promise.reject("WebSocket is not in the OPEN state");
      }
      stop() {
        return this.we && this.le(void 0), Promise.resolve();
      }
      le(u) {
        this.we && (this.we.onclose = () => {
        }, this.we.onmessage = () => {
        }, this.we.onerror = () => {
        }, this.we.close(), this.we = void 0), this.u.log(n.Trace, "(WebSockets transport) socket closed."), this.onclose && (!this.ge(u) || u.wasClean !== !1 && u.code === 1e3 ? u instanceof Error ? this.onclose(u) : this.onclose() : this.onclose(new Error(`WebSocket closed with status code: ${u.code} (${u.reason || "no reason given"}).`)));
      }
      ge(u) {
        return u && typeof u.wasClean == "boolean" && typeof u.code == "number";
      }
    }
    class ye {
      constructor(u, f = {}) {
        var P;
        if (this.me = () => {
        }, this.features = {}, this.ye = 1, _.isRequired(u, "url"), this.u = (P = f.logger) === void 0 ? new L(n.Information) : P === null ? E.instance : P.log !== void 0 ? P : new L(P), this.baseUrl = this.be(u), (f = f || {}).logMessageContent = f.logMessageContent !== void 0 && f.logMessageContent, typeof f.withCredentials != "boolean" && f.withCredentials !== void 0)
          throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");
        f.withCredentials = f.withCredentials === void 0 || f.withCredentials, f.timeout = f.timeout === void 0 ? 1e5 : f.timeout;
        let I = null, H = null;
        x.isNode && (I = function() {
          throw new Error("Trying to import 'ws' in the browser.");
        }(), H = function() {
          throw new Error("Trying to import 'eventsource' in the browser.");
        }()), x.isNode || typeof WebSocket > "u" || f.WebSocket ? x.isNode && !f.WebSocket && I && (f.WebSocket = I) : f.WebSocket = WebSocket, x.isNode || typeof EventSource > "u" || f.EventSource ? x.isNode && !f.EventSource && H !== void 0 && (f.EventSource = H) : f.EventSource = EventSource, this.$ = new it(f.httpClient || new Q(this.u), f.accessTokenFactory), this.ut = "Disconnected", this.dt = !1, this.ie = f, this.onreceive = null, this.onclose = null;
      }
      async start(u) {
        if (u = u || Fe.Binary, _.isIn(u, Fe, "transferFormat"), this.u.log(n.Debug, `Starting connection with transfer format '${Fe[u]}'.`), this.ut !== "Disconnected")
          return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));
        if (this.ut = "Connecting", this.ve = this.yt(u), await this.ve, this.ut === "Disconnecting") {
          const f = "Failed to start the HttpConnection before stop() was called.";
          return this.u.log(n.Error, f), await this.It, Promise.reject(new c(f));
        }
        if (this.ut !== "Connected") {
          const f = "HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";
          return this.u.log(n.Error, f), Promise.reject(new c(f));
        }
        this.dt = !0;
      }
      send(u) {
        return this.ut !== "Connected" ? Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")) : (this.Ee || (this.Ee = new _e(this.transport)), this.Ee.send(u));
      }
      async stop(u) {
        return this.ut === "Disconnected" ? (this.u.log(n.Debug, `Call to HttpConnection.stop(${u}) ignored because the connection is already in the disconnected state.`), Promise.resolve()) : this.ut === "Disconnecting" ? (this.u.log(n.Debug, `Call to HttpConnection.stop(${u}) ignored because the connection is already in the disconnecting state.`), this.It) : (this.ut = "Disconnecting", this.It = new Promise((f) => {
          this.me = f;
        }), await this._t(u), void await this.It);
      }
      async _t(u) {
        this.$e = u;
        try {
          await this.ve;
        } catch {
        }
        if (this.transport) {
          try {
            await this.transport.stop();
          } catch (f) {
            this.u.log(n.Error, `HttpConnection.transport.stop() threw error '${f}'.`), this.Ce();
          }
          this.transport = void 0;
        } else
          this.u.log(n.Debug, "HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.");
      }
      async yt(u) {
        let f = this.baseUrl;
        this.Yt = this.ie.accessTokenFactory, this.$.Yt = this.Yt;
        try {
          if (this.ie.skipNegotiation) {
            if (this.ie.transport !== je.WebSockets)
              throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");
            this.transport = this.Se(je.WebSockets), await this.ke(f, u);
          } else {
            let P = null, I = 0;
            do {
              if (P = await this.Pe(f), this.ut === "Disconnecting" || this.ut === "Disconnected")
                throw new c("The connection was stopped during negotiation.");
              if (P.error)
                throw new Error(P.error);
              if (P.ProtocolVersion)
                throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");
              if (P.url && (f = P.url), P.accessToken) {
                const H = P.accessToken;
                this.Yt = () => H, this.$.Zt = H, this.$.Yt = void 0;
              }
              I++;
            } while (P.url && I < 100);
            if (I === 100 && P.url)
              throw new Error("Negotiate redirection limit exceeded.");
            await this.Te(f, this.ie.transport, P, u);
          }
          this.transport instanceof bt && (this.features.inherentKeepAlive = !0), this.ut === "Connecting" && (this.u.log(n.Debug, "The HttpConnection connected successfully."), this.ut = "Connected");
        } catch (P) {
          return this.u.log(n.Error, "Failed to start the connection: " + P), this.ut = "Disconnected", this.transport = void 0, this.me(), Promise.reject(P);
        }
      }
      async Pe(u) {
        const f = {}, [P, I] = R();
        f[P] = I;
        const H = this.Ie(u);
        this.u.log(n.Debug, `Sending negotiation request: ${H}.`);
        try {
          const W = await this.$.post(H, { content: "", headers: { ...f, ...this.ie.headers }, timeout: this.ie.timeout, withCredentials: this.ie.withCredentials });
          if (W.statusCode !== 200)
            return Promise.reject(new Error(`Unexpected status code returned from negotiate '${W.statusCode}'`));
          const ce = JSON.parse(W.content);
          return (!ce.negotiateVersion || ce.negotiateVersion < 1) && (ce.connectionToken = ce.connectionId), ce.useStatefulReconnect && this.ie._e !== !0 ? Promise.reject(new y("Client didn't negotiate Stateful Reconnect but the server did.")) : ce;
        } catch (W) {
          let ce = "Failed to complete negotiation with the server: " + W;
          return W instanceof a && W.statusCode === 404 && (ce += " Either this is not a SignalR endpoint or there is a proxy blocking the connection."), this.u.log(n.Error, ce), Promise.reject(new y(ce));
        }
      }
      He(u, f) {
        return f ? u + (u.indexOf("?") === -1 ? "?" : "&") + `id=${f}` : u;
      }
      async Te(u, f, P, I) {
        let H = this.He(u, P.connectionToken);
        if (this.De(f))
          return this.u.log(n.Debug, "Connection was provided an instance of ITransport, using that directly."), this.transport = f, await this.ke(H, I), void (this.connectionId = P.connectionId);
        const W = [], ce = P.availableTransports || [];
        let he = P;
        for (const be of ce) {
          const ze = this.Re(be, f, I, (he == null ? void 0 : he.useStatefulReconnect) === !0);
          if (ze instanceof Error)
            W.push(`${be.transport} failed:`), W.push(ze);
          else if (this.De(ze)) {
            if (this.transport = ze, !he) {
              try {
                he = await this.Pe(u);
              } catch (pt) {
                return Promise.reject(pt);
              }
              H = this.He(u, he.connectionToken);
            }
            try {
              return await this.ke(H, I), void (this.connectionId = he.connectionId);
            } catch (pt) {
              if (this.u.log(n.Error, `Failed to start the transport '${be.transport}': ${pt}`), he = void 0, W.push(new h(`${be.transport} failed: ${pt}`, je[be.transport])), this.ut !== "Connecting") {
                const xi = "Failed to select transport before stop() was called.";
                return this.u.log(n.Debug, xi), Promise.reject(new c(xi));
              }
            }
          }
        }
        return W.length > 0 ? Promise.reject(new w(`Unable to connect to the server with any of the available transports. ${W.join(" ")}`, W)) : Promise.reject(new Error("None of the transports supported by the client are supported by the server."));
      }
      Se(u) {
        switch (u) {
          case je.WebSockets:
            if (!this.ie.WebSocket)
              throw new Error("'WebSocket' is not supported in your environment.");
            return new oe(this.$, this.Yt, this.u, this.ie.logMessageContent, this.ie.WebSocket, this.ie.headers || {});
          case je.ServerSentEvents:
            if (!this.ie.EventSource)
              throw new Error("'EventSource' is not supported in your environment.");
            return new Ni(this.$, this.$.Zt, this.u, this.ie);
          case je.LongPolling:
            return new bt(this.$, this.u, this.ie);
          default:
            throw new Error(`Unknown transport: ${u}.`);
        }
      }
      ke(u, f) {
        return this.transport.onreceive = this.onreceive, this.features.reconnect ? this.transport.onclose = async (P) => {
          let I = !1;
          if (this.features.reconnect) {
            try {
              this.features.disconnected(), await this.transport.connect(u, f), await this.features.resend();
            } catch {
              I = !0;
            }
            I && this.Ce(P);
          } else
            this.Ce(P);
        } : this.transport.onclose = (P) => this.Ce(P), this.transport.connect(u, f);
      }
      Re(u, f, P, I) {
        const H = je[u.transport];
        if (H == null)
          return this.u.log(n.Debug, `Skipping transport '${u.transport}' because it is not supported by this client.`), new Error(`Skipping transport '${u.transport}' because it is not supported by this client.`);
        if (!function(W, ce) {
          return !W || (ce & W) != 0;
        }(f, H))
          return this.u.log(n.Debug, `Skipping transport '${je[H]}' because it was disabled by the client.`), new d(`'${je[H]}' is disabled by the client.`, H);
        if (!(u.transferFormats.map((W) => Fe[W]).indexOf(P) >= 0))
          return this.u.log(n.Debug, `Skipping transport '${je[H]}' because it does not support the requested transfer format '${Fe[P]}'.`), new Error(`'${je[H]}' does not support ${Fe[P]}.`);
        if (H === je.WebSockets && !this.ie.WebSocket || H === je.ServerSentEvents && !this.ie.EventSource)
          return this.u.log(n.Debug, `Skipping transport '${je[H]}' because it is not supported in your environment.'`), new l(`'${je[H]}' is not supported in your environment.`, H);
        this.u.log(n.Debug, `Selecting transport '${je[H]}'.`);
        try {
          return this.features.reconnect = H === je.WebSockets ? I : void 0, this.Se(H);
        } catch (W) {
          return W;
        }
      }
      De(u) {
        return u && typeof u == "object" && "connect" in u;
      }
      Ce(u) {
        if (this.u.log(n.Debug, `HttpConnection.stopConnection(${u}) called while in state ${this.ut}.`), this.transport = void 0, u = this.$e || u, this.$e = void 0, this.ut !== "Disconnected") {
          if (this.ut === "Connecting")
            throw this.u.log(n.Warning, `Call to HttpConnection.stopConnection(${u}) was ignored because the connection is still in the connecting state.`), new Error(`HttpConnection.stopConnection(${u}) was called while the connection is still in the connecting state.`);
          if (this.ut === "Disconnecting" && this.me(), u ? this.u.log(n.Error, `Connection disconnected with error '${u}'.`) : this.u.log(n.Information, "Connection disconnected."), this.Ee && (this.Ee.stop().catch((f) => {
            this.u.log(n.Error, `TransportSendQueue.stop() threw error '${f}'.`);
          }), this.Ee = void 0), this.connectionId = void 0, this.ut = "Disconnected", this.dt) {
            this.dt = !1;
            try {
              this.onclose && this.onclose(u);
            } catch (f) {
              this.u.log(n.Error, `HttpConnection.onclose(${u}) threw error '${f}'.`);
            }
          }
        } else
          this.u.log(n.Debug, `Call to HttpConnection.stopConnection(${u}) was ignored because the connection is already in the disconnected state.`);
      }
      be(u) {
        if (u.lastIndexOf("https://", 0) === 0 || u.lastIndexOf("http://", 0) === 0)
          return u;
        if (!x.isBrowser)
          throw new Error(`Cannot resolve '${u}'.`);
        const f = window.document.createElement("a");
        return f.href = u, this.u.log(n.Information, `Normalizing '${u}' to '${f.href}'.`), f.href;
      }
      Ie(u) {
        const f = new URL(u);
        f.pathname.endsWith("/") ? f.pathname += "negotiate" : f.pathname += "/negotiate";
        const P = new URLSearchParams(f.searchParams);
        return P.has("negotiateVersion") || P.append("negotiateVersion", this.ye.toString()), P.has("useStatefulReconnect") ? P.get("useStatefulReconnect") === "true" && (this.ie._e = !0) : this.ie._e === !0 && P.append("useStatefulReconnect", "true"), f.search = P.toString(), f.toString();
      }
    }
    class _e {
      constructor(u) {
        this.xe = u, this.Ae = [], this.Ue = !0, this.Le = new $e(), this.Ne = new $e(), this.qe = this.Me();
      }
      send(u) {
        return this.je(u), this.Ne || (this.Ne = new $e()), this.Ne.promise;
      }
      stop() {
        return this.Ue = !1, this.Le.resolve(), this.qe;
      }
      je(u) {
        if (this.Ae.length && typeof this.Ae[0] != typeof u)
          throw new Error(`Expected data to be of type ${typeof this.Ae} but was of type ${typeof u}`);
        this.Ae.push(u), this.Le.resolve();
      }
      async Me() {
        for (; ; ) {
          if (await this.Le.promise, !this.Ue) {
            this.Ne && this.Ne.reject("Connection stopped.");
            break;
          }
          this.Le = new $e();
          const u = this.Ne;
          this.Ne = void 0;
          const f = typeof this.Ae[0] == "string" ? this.Ae.join("") : _e.We(this.Ae);
          this.Ae.length = 0;
          try {
            await this.xe.send(f), u.resolve();
          } catch (P) {
            u.reject(P);
          }
        }
      }
      static We(u) {
        const f = u.map((H) => H.byteLength).reduce((H, W) => H + W), P = new Uint8Array(f);
        let I = 0;
        for (const H of u)
          P.set(new Uint8Array(H), I), I += H.byteLength;
        return P.buffer;
      }
    }
    class $e {
      constructor() {
        this.promise = new Promise((u, f) => [this.j, this.Oe] = [u, f]);
      }
      resolve() {
        this.j();
      }
      reject(u) {
        this.Oe(u);
      }
    }
    class Ee {
      constructor() {
        this.name = "json", this.version = 2, this.transferFormat = Fe.Text;
      }
      parseMessages(u, f) {
        if (typeof u != "string")
          throw new Error("Invalid input for JSON hub protocol. Expected a string.");
        if (!u)
          return [];
        f === null && (f = E.instance);
        const P = Z.parse(u), I = [];
        for (const H of P) {
          const W = JSON.parse(H);
          if (typeof W.type != "number")
            throw new Error("Invalid payload.");
          switch (W.type) {
            case O.Invocation:
              this.U(W);
              break;
            case O.StreamItem:
              this.Fe(W);
              break;
            case O.Completion:
              this.Be(W);
              break;
            case O.Ping:
            case O.Close:
              break;
            case O.Ack:
              this.Xe(W);
              break;
            case O.Sequence:
              this.Je(W);
              break;
            default:
              f.log(n.Information, "Unknown message type '" + W.type + "' ignored.");
              continue;
          }
          I.push(W);
        }
        return I;
      }
      writeMessage(u) {
        return Z.write(JSON.stringify(u));
      }
      U(u) {
        this.ze(u.target, "Invalid payload for Invocation message."), u.invocationId !== void 0 && this.ze(u.invocationId, "Invalid payload for Invocation message.");
      }
      Fe(u) {
        if (this.ze(u.invocationId, "Invalid payload for StreamItem message."), u.item === void 0)
          throw new Error("Invalid payload for StreamItem message.");
      }
      Be(u) {
        if (u.result && u.error)
          throw new Error("Invalid payload for Completion message.");
        !u.result && u.error && this.ze(u.error, "Invalid payload for Completion message."), this.ze(u.invocationId, "Invalid payload for Completion message.");
      }
      Xe(u) {
        if (typeof u.sequenceId != "number")
          throw new Error("Invalid SequenceId for Ack message.");
      }
      Je(u) {
        if (typeof u.sequenceId != "number")
          throw new Error("Invalid SequenceId for Sequence message.");
      }
      ze(u, f) {
        if (typeof u != "string" || u === "")
          throw new Error(f);
      }
    }
    const Me = { trace: n.Trace, debug: n.Debug, info: n.Information, information: n.Information, warn: n.Warning, warning: n.Warning, error: n.Error, critical: n.Critical, none: n.None };
    class Y {
      configureLogging(u) {
        if (_.isRequired(u, "logging"), u.log !== void 0)
          this.logger = u;
        else if (typeof u == "string") {
          const f = function(P) {
            const I = Me[P.toLowerCase()];
            if (I !== void 0)
              return I;
            throw new Error(`Unknown log level: ${P}`);
          }(u);
          this.logger = new L(f);
        } else
          this.logger = new L(u);
        return this;
      }
      withUrl(u, f) {
        return _.isRequired(u, "url"), _.isNotEmpty(u, "url"), this.url = u, this.httpConnectionOptions = typeof f == "object" ? { ...this.httpConnectionOptions, ...f } : { ...this.httpConnectionOptions, transport: f }, this;
      }
      withHubProtocol(u) {
        return _.isRequired(u, "protocol"), this.protocol = u, this;
      }
      withAutomaticReconnect(u) {
        if (this.reconnectPolicy)
          throw new Error("A reconnectPolicy has already been set.");
        return u ? Array.isArray(u) ? this.reconnectPolicy = new Ge(u) : this.reconnectPolicy = u : this.reconnectPolicy = new Ge(), this;
      }
      withServerTimeout(u) {
        return _.isRequired(u, "milliseconds"), this.Ve = u, this;
      }
      withKeepAliveInterval(u) {
        return _.isRequired(u, "milliseconds"), this.Ke = u, this;
      }
      withStatefulReconnect(u) {
        return this.httpConnectionOptions === void 0 && (this.httpConnectionOptions = {}), this.httpConnectionOptions._e = !0, this.Y = u == null ? void 0 : u.bufferSize, this;
      }
      build() {
        const u = this.httpConnectionOptions || {};
        if (u.logger === void 0 && (u.logger = this.logger), !this.url)
          throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");
        const f = new ye(this.url, u);
        return Re.create(f, this.logger || E.instance, this.protocol || new Ee(), this.reconnectPolicy, this.Ve, this.Ke, this.Y);
      }
    }
    return Uint8Array.prototype.indexOf || Object.defineProperty(Uint8Array.prototype, "indexOf", { value: Array.prototype.indexOf, writable: !0 }), Uint8Array.prototype.slice || Object.defineProperty(Uint8Array.prototype, "slice", { value: function(M, u) {
      return new Uint8Array(Array.prototype.slice.call(this, M, u));
    }, writable: !0 }), Uint8Array.prototype.forEach || Object.defineProperty(Uint8Array.prototype, "forEach", { value: Array.prototype.forEach, writable: !0 }), o;
  })(), e.exports = r();
})(Pp);
var Fh = Pp.exports;
const Tm = (e) => class extends e {
  constructor(r) {
    super(r), this._whenConnectionRequested = new Promise((i) => {
      this._resolveConnectionRequested = i;
    }), this._connectionEventListeners = [], this.signalRAccessTokenRefresh = !1, this._whenConnectionStarted = new Promise((i, n) => {
      this._whenConnectionStartedResolve = i, this._whenConnectionStartedReject = n;
    }), this.whenConnectionRequested().then(() => {
      this.isDestroyed || this.createConnection();
    });
  }
  async whenConnectionRequested() {
    await this._whenConnectionRequested;
  }
  get rtmConnection() {
    return this._connection;
  }
  async whenConnectionStarted() {
    await this._whenConnectionStarted;
  }
  async createConnection() {
    if (this.isDestroyed)
      throw new Nt();
    if (this.url && this.tokenFactory)
      if (this.networkStateIsPending = !0, this._connection) {
        const r = new URL("/hubs/rtm", this.url);
        this._connection.baseUrl !== r.toString() && (this.connectionState = "reconnecting", console.log(
          this.weavyId,
          "Reconnecting due to changed url.",
          this._connection.baseUrl,
          "=>",
          r.toString()
        ), await this.disconnect(), this._connection.baseUrl = r.toString(), this.connect());
      } else {
        this.connectionState = "connecting";
        const r = new URL("/hubs/rtm", this.url);
        this._connection = new Fh.HubConnectionBuilder().configureLogging(Fh.LogLevel.None).withUrl(r.toString(), {
          accessTokenFactory: async () => {
            try {
              if (this.signalRAccessTokenRefresh) {
                const i = await this.getToken(!0);
                return this.signalRAccessTokenRefresh = !1, i;
              } else
                return await this.getToken();
            } catch (i) {
              throw console.error(i), i;
            }
          }
        }).withAutomaticReconnect({
          nextRetryDelayInMilliseconds: (i) => !this.isDestroyed && window.navigator.onLine && (document == null ? void 0 : document.visibilityState) !== "hidden" && i.elapsedMilliseconds < 6e4 ? [0, 2e3, 1e4][i.previousRetryCount] || 1e4 : null
        }).build(), this._connection.onclose(async (i) => {
          console.info(this.weavyId, "SignalR closed."), this.connectionState = "disconnected", !this.isDestroyed && (this.networkStateIsPending = !0, this._whenConnectionStarted = new Promise((n, o) => {
            this._whenConnectionStartedResolve = n, this._whenConnectionStartedReject = o;
          }), this.connect());
        }), this._connection.onreconnecting((i) => {
          console.log(this.weavyId, "SignalR reconnecting..."), this.connectionState = "reconnecting";
        }), this._connection.onreconnected((i) => {
          var n;
          console.info(this.weavyId, "SignalR reconnected."), this.connectionState = "connected", this.networkStateIsPending = !1;
          for (let o = 0; o < this._connectionEventListeners.length; o++)
            (n = this._connection) == null || n.invoke("Subscribe", this._connectionEventListeners[o].name);
        }), this.connect();
      }
  }
  async disconnect() {
    this._connection && (await this._connection.stop(), this.connectionState = "disconnected");
  }
  async connect() {
    var r;
    if (this.isDestroyed)
      throw new Nt();
    if (this._connection) {
      console.log(this.weavyId, "Connecting SignalR...");
      try {
        if (!window.navigator.onLine)
          throw new Error();
        await Promise.race([this._connection.start(), this.whenConnectionStarted()]), this.signalRAccessTokenRefresh = !1, this.networkStateIsPending = !1, this.connectionState = "connected", (r = this._whenConnectionStartedResolve) == null || r.call(this, void 0), console.info(this.weavyId, "SignalR connected.");
      } catch (i) {
        if (i instanceof Nt) {
          console.warn(this.weavyId, "SignalR connection aborted.");
          return;
        }
        window.navigator.onLine ? !this.signalRAccessTokenRefresh && window.document.visibilityState !== "hidden" && i.toString().includes("Unauthorized") ? (console.log(this.weavyId, "Retrying SignalR connect with fresh token."), this.signalRAccessTokenRefresh = !0) : (console.log(
          this.weavyId,
          "Server is probably down, retrying SignalR connect after a delay or when window regains focus."
        ), this.connectionState = "reconnecting", await new Promise((n) => {
          setTimeout(n, 5e3), window.addEventListener("visibilitychange", n, { once: !0 }), window.addEventListener("offline", n, { once: !0 }), window.addEventListener("online", n, { once: !0 });
        })) : (this.networkStateIsPending = !1, console.log(this.weavyId, "Offline, reconnecting SignalR when online."), await new Promise((n) => {
          window.addEventListener("online", n, { once: !0 });
        })), window.navigator.onLine && (document == null ? void 0 : document.visibilityState) !== "hidden" && await new Promise((n) => setTimeout(n, 1e3)), this.checkVersion(), this.networkStateIsPending = !0, await this.connect();
      }
    }
  }
  async subscribe(r, i, n) {
    var o;
    if (this.isDestroyed)
      throw new Nt();
    (o = this._resolveConnectionRequested) == null || o.call(this, !0);
    try {
      const a = r ? r + ":" + i : i;
      if (this._connectionEventListeners.some((s) => s.name === a && s.callback === n))
        throw new Error("Duplicate subscribe: " + a);
      if (this._connectionEventListeners.push({ name: a, callback: n }), await this.whenConnectionStarted(), !this._connection)
        throw new Error("Connection not created");
      this._connection.on(a, n), await this._connection.invoke("Subscribe", a);
    } catch (a) {
      a instanceof Nt || console.error(this.weavyId, "Error in Subscribe:", a);
    }
  }
  async unsubscribe(r, i, n) {
    var o;
    if (this.isDestroyed)
      throw new Nt();
    try {
      const a = r ? r + ":" + i : i, s = this._connectionEventListeners.findIndex((c) => c.name === a && c.callback === n);
      if (s !== -1) {
        if (this._connectionEventListeners.splice(s, 1), await this.whenConnectionStarted(), !this._connection)
          throw new Error("Connection not created");
        (o = this._connection) == null || o.off(a, n), this._connectionEventListeners.some((c) => c.name === a) || await this._connection.invoke("Unsubscribe", a);
      }
    } catch (a) {
      a instanceof Nt || console.error(this.weavyId, "Error in Unsubscribe:", a);
    }
  }
  destroy() {
    super.destroy(), this.disconnect(), this._whenConnectionStartedReject && (this._whenConnectionStarted.catch(() => {
    }), this._whenConnectionStartedReject(new Nt()));
  }
};
var ba = class {
  constructor() {
    this.listeners = /* @__PURE__ */ new Set(), this.subscribe = this.subscribe.bind(this);
  }
  subscribe(e) {
    return this.listeners.add(e), this.onSubscribe(), () => {
      this.listeners.delete(e), this.onUnsubscribe();
    };
  }
  hasListeners() {
    return this.listeners.size > 0;
  }
  onSubscribe() {
  }
  onUnsubscribe() {
  }
}, ta = typeof window > "u" || "Deno" in globalThis;
function qr() {
}
function Rm(e, t) {
  return typeof e == "function" ? e(t) : e;
}
function Jl(e) {
  return typeof e == "number" && e >= 0 && e !== 1 / 0;
}
function Ap(e, t) {
  return Math.max(e + (t || 0) - Date.now(), 0);
}
function zh(e, t) {
  const {
    type: r = "all",
    exact: i,
    fetchStatus: n,
    predicate: o,
    queryKey: a,
    stale: s
  } = e;
  if (a) {
    if (i) {
      if (t.queryHash !== fu(a, t.options))
        return !1;
    } else if (!ys(t.queryKey, a))
      return !1;
  }
  if (r !== "all") {
    const c = t.isActive();
    if (r === "active" && !c || r === "inactive" && c)
      return !1;
  }
  return !(typeof s == "boolean" && t.isStale() !== s || n && n !== t.state.fetchStatus || o && !o(t));
}
function Vh(e, t) {
  const { exact: r, status: i, predicate: n, mutationKey: o } = e;
  if (o) {
    if (!t.options.mutationKey)
      return !1;
    if (r) {
      if (uo(t.options.mutationKey) !== uo(o))
        return !1;
    } else if (!ys(t.options.mutationKey, o))
      return !1;
  }
  return !(i && t.state.status !== i || n && !n(t));
}
function fu(e, t) {
  return ((t == null ? void 0 : t.queryKeyHashFn) || uo)(e);
}
function uo(e) {
  return JSON.stringify(
    e,
    (t, r) => ed(r) ? Object.keys(r).sort().reduce((i, n) => (i[n] = r[n], i), {}) : r
  );
}
function ys(e, t) {
  return e === t ? !0 : typeof e != typeof t ? !1 : e && t && typeof e == "object" && typeof t == "object" ? !Object.keys(t).some((r) => !ys(e[r], t[r])) : !1;
}
function Zs(e, t) {
  if (e === t)
    return e;
  const r = Nh(e) && Nh(t);
  if (r || ed(e) && ed(t)) {
    const i = r ? e : Object.keys(e), n = i.length, o = r ? t : Object.keys(t), a = o.length, s = r ? [] : {};
    let c = 0;
    for (let l = 0; l < a; l++) {
      const d = r ? l : o[l];
      !r && e[d] === void 0 && t[d] === void 0 && i.includes(d) ? (s[d] = void 0, c++) : (s[d] = Zs(e[d], t[d]), s[d] === e[d] && e[d] !== void 0 && c++);
    }
    return n === a && c === n ? e : s;
  }
  return t;
}
function Uc(e, t) {
  if (!t || Object.keys(e).length !== Object.keys(t).length)
    return !1;
  for (const r in e)
    if (e[r] !== t[r])
      return !1;
  return !0;
}
function Nh(e) {
  return Array.isArray(e) && e.length === Object.keys(e).length;
}
function ed(e) {
  if (!Bh(e))
    return !1;
  const t = e.constructor;
  if (t === void 0)
    return !0;
  const r = t.prototype;
  return !(!Bh(r) || !r.hasOwnProperty("isPrototypeOf"));
}
function Bh(e) {
  return Object.prototype.toString.call(e) === "[object Object]";
}
function Dm(e) {
  return new Promise((t) => {
    setTimeout(t, e);
  });
}
function td(e, t, r) {
  return typeof r.structuralSharing == "function" ? r.structuralSharing(e, t) : r.structuralSharing !== !1 ? Zs(e, t) : t;
}
function Fm(e, t, r = 0) {
  const i = [...e, t];
  return r && i.length > r ? i.slice(1) : i;
}
function zm(e, t, r = 0) {
  const i = [t, ...e];
  return r && i.length > r ? i.slice(0, -1) : i;
}
var mu = Symbol(), Gn, un, Vo, ep, Vm = (ep = class extends ba {
  constructor() {
    super();
    D(this, Gn, void 0);
    D(this, un, void 0);
    D(this, Vo, void 0);
    B(this, Vo, (t) => {
      if (!ta && window.addEventListener) {
        const r = () => t();
        return window.addEventListener("visibilitychange", r, !1), () => {
          window.removeEventListener("visibilitychange", r);
        };
      }
    });
  }
  onSubscribe() {
    p(this, un) || this.setEventListener(p(this, Vo));
  }
  onUnsubscribe() {
    var t;
    this.hasListeners() || ((t = p(this, un)) == null || t.call(this), B(this, un, void 0));
  }
  setEventListener(t) {
    var r;
    B(this, Vo, t), (r = p(this, un)) == null || r.call(this), B(this, un, t((i) => {
      typeof i == "boolean" ? this.setFocused(i) : this.onFocus();
    }));
  }
  setFocused(t) {
    p(this, Gn) !== t && (B(this, Gn, t), this.onFocus());
  }
  onFocus() {
    const t = this.isFocused();
    this.listeners.forEach((r) => {
      r(t);
    });
  }
  isFocused() {
    var t;
    return typeof p(this, Gn) == "boolean" ? p(this, Gn) : ((t = globalThis.document) == null ? void 0 : t.visibilityState) !== "hidden";
  }
}, Gn = new WeakMap(), un = new WeakMap(), Vo = new WeakMap(), ep), vu = new Vm(), No, hn, Bo, tp, Nm = (tp = class extends ba {
  constructor() {
    super();
    D(this, No, !0);
    D(this, hn, void 0);
    D(this, Bo, void 0);
    B(this, Bo, (t) => {
      if (!ta && window.addEventListener) {
        const r = () => t(!0), i = () => t(!1);
        return window.addEventListener("online", r, !1), window.addEventListener("offline", i, !1), () => {
          window.removeEventListener("online", r), window.removeEventListener("offline", i);
        };
      }
    });
  }
  onSubscribe() {
    p(this, hn) || this.setEventListener(p(this, Bo));
  }
  onUnsubscribe() {
    var t;
    this.hasListeners() || ((t = p(this, hn)) == null || t.call(this), B(this, hn, void 0));
  }
  setEventListener(t) {
    var r;
    B(this, Bo, t), (r = p(this, hn)) == null || r.call(this), B(this, hn, t(this.setOnline.bind(this)));
  }
  setOnline(t) {
    p(this, No) !== t && (B(this, No, t), this.listeners.forEach((i) => {
      i(t);
    }));
  }
  isOnline() {
    return p(this, No);
  }
}, No = new WeakMap(), hn = new WeakMap(), Bo = new WeakMap(), tp), Wc = new Nm();
function Bm(e) {
  return Math.min(1e3 * 2 ** e, 3e4);
}
function gu(e) {
  return (e ?? "online") === "online" ? Wc.isOnline() : !0;
}
var Lp = class {
  constructor(e) {
    this.revert = e == null ? void 0 : e.revert, this.silent = e == null ? void 0 : e.silent;
  }
};
function Nl(e) {
  return e instanceof Lp;
}
function Mp(e) {
  let t = !1, r = 0, i = !1, n, o, a;
  const s = new Promise((E, A) => {
    o = E, a = A;
  }), c = (E) => {
    var A;
    i || (w(new Lp(E)), (A = e.abort) == null || A.call(e));
  }, l = () => {
    t = !0;
  }, d = () => {
    t = !1;
  }, h = () => !vu.isFocused() || e.networkMode !== "always" && !Wc.isOnline(), y = (E) => {
    var A;
    i || (i = !0, (A = e.onSuccess) == null || A.call(e, E), n == null || n(), o(E));
  }, w = (E) => {
    var A;
    i || (i = !0, (A = e.onError) == null || A.call(e, E), n == null || n(), a(E));
  }, b = () => new Promise((E) => {
    var A;
    n = (_) => {
      const x = i || !h();
      return x && E(_), x;
    }, (A = e.onPause) == null || A.call(e);
  }).then(() => {
    var E;
    n = void 0, i || (E = e.onContinue) == null || E.call(e);
  }), C = () => {
    if (i)
      return;
    let E;
    try {
      E = e.fn();
    } catch (A) {
      E = Promise.reject(A);
    }
    Promise.resolve(E).then(y).catch((A) => {
      var g;
      if (i)
        return;
      const _ = e.retry ?? (ta ? 0 : 3), x = e.retryDelay ?? Bm, T = typeof x == "function" ? x(r, A) : x, k = _ === !0 || typeof _ == "number" && r < _ || typeof _ == "function" && _(r, A);
      if (t || !k) {
        w(A);
        return;
      }
      r++, (g = e.onFail) == null || g.call(e, r, A), Dm(T).then(() => {
        if (h())
          return b();
      }).then(() => {
        t ? w(A) : C();
      });
    });
  };
  return gu(e.networkMode) ? C() : b().then(C), {
    promise: s,
    cancel: c,
    continue: () => (n == null ? void 0 : n()) ? s : Promise.resolve(),
    cancelRetry: l,
    continueRetry: d
  };
}
function Hm() {
  let e = [], t = 0, r = (y) => {
    y();
  }, i = (y) => {
    y();
  }, n = (y) => setTimeout(y, 0);
  const o = (y) => {
    n = y;
  }, a = (y) => {
    let w;
    t++;
    try {
      w = y();
    } finally {
      t--, t || l();
    }
    return w;
  }, s = (y) => {
    t ? e.push(y) : n(() => {
      r(y);
    });
  }, c = (y) => (...w) => {
    s(() => {
      y(...w);
    });
  }, l = () => {
    const y = e;
    e = [], y.length && n(() => {
      i(() => {
        y.forEach((w) => {
          r(w);
        });
      });
    });
  };
  return {
    batch: a,
    batchCalls: c,
    schedule: s,
    setNotifyFunction: (y) => {
      r = y;
    },
    setBatchNotifyFunction: (y) => {
      i = y;
    },
    setScheduler: o
  };
}
var er = Hm(), Xn, rp, Op = (rp = class {
  constructor() {
    D(this, Xn, void 0);
  }
  destroy() {
    this.clearGcTimeout();
  }
  scheduleGc() {
    this.clearGcTimeout(), Jl(this.gcTime) && B(this, Xn, setTimeout(() => {
      this.optionalRemove();
    }, this.gcTime));
  }
  updateGcTime(e) {
    this.gcTime = Math.max(
      this.gcTime || 0,
      e ?? (ta ? 1 / 0 : 5 * 60 * 1e3)
    );
  }
  clearGcTimeout() {
    p(this, Xn) && (clearTimeout(p(this, Xn)), B(this, Xn, void 0));
  }
}, Xn = new WeakMap(), rp), Ho, jo, Ur, hr, Kt, Ts, Jn, si, Hi, ip, jm = (ip = class extends Op {
  constructor(t) {
    super();
    D(this, si);
    D(this, Ho, void 0);
    D(this, jo, void 0);
    D(this, Ur, void 0);
    D(this, hr, void 0);
    D(this, Kt, void 0);
    D(this, Ts, void 0);
    D(this, Jn, void 0);
    B(this, Jn, !1), B(this, Ts, t.defaultOptions), this.setOptions(t.options), B(this, Kt, []), B(this, Ur, t.cache), this.queryKey = t.queryKey, this.queryHash = t.queryHash, B(this, Ho, t.state || Um(this.options)), this.state = p(this, Ho), this.scheduleGc();
  }
  get meta() {
    return this.options.meta;
  }
  setOptions(t) {
    this.options = { ...p(this, Ts), ...t }, this.updateGcTime(this.options.gcTime);
  }
  optionalRemove() {
    !p(this, Kt).length && this.state.fetchStatus === "idle" && p(this, Ur).remove(this);
  }
  setData(t, r) {
    const i = td(this.state.data, t, this.options);
    return j(this, si, Hi).call(this, {
      data: i,
      type: "success",
      dataUpdatedAt: r == null ? void 0 : r.updatedAt,
      manual: r == null ? void 0 : r.manual
    }), i;
  }
  setState(t, r) {
    j(this, si, Hi).call(this, { type: "setState", state: t, setStateOptions: r });
  }
  cancel(t) {
    var i, n;
    const r = (i = p(this, hr)) == null ? void 0 : i.promise;
    return (n = p(this, hr)) == null || n.cancel(t), r ? r.then(qr).catch(qr) : Promise.resolve();
  }
  destroy() {
    super.destroy(), this.cancel({ silent: !0 });
  }
  reset() {
    this.destroy(), this.setState(p(this, Ho));
  }
  isActive() {
    return p(this, Kt).some(
      (t) => t.options.enabled !== !1
    );
  }
  isDisabled() {
    return this.getObserversCount() > 0 && !this.isActive();
  }
  isStale() {
    return this.state.isInvalidated ? !0 : this.getObserversCount() > 0 ? p(this, Kt).some(
      (t) => t.getCurrentResult().isStale
    ) : this.state.data === void 0;
  }
  isStaleByTime(t = 0) {
    return this.state.isInvalidated || this.state.data === void 0 || !Ap(this.state.dataUpdatedAt, t);
  }
  onFocus() {
    var r;
    const t = p(this, Kt).find((i) => i.shouldFetchOnWindowFocus());
    t == null || t.refetch({ cancelRefetch: !1 }), (r = p(this, hr)) == null || r.continue();
  }
  onOnline() {
    var r;
    const t = p(this, Kt).find((i) => i.shouldFetchOnReconnect());
    t == null || t.refetch({ cancelRefetch: !1 }), (r = p(this, hr)) == null || r.continue();
  }
  addObserver(t) {
    p(this, Kt).includes(t) || (p(this, Kt).push(t), this.clearGcTimeout(), p(this, Ur).notify({ type: "observerAdded", query: this, observer: t }));
  }
  removeObserver(t) {
    p(this, Kt).includes(t) && (B(this, Kt, p(this, Kt).filter((r) => r !== t)), p(this, Kt).length || (p(this, hr) && (p(this, Jn) ? p(this, hr).cancel({ revert: !0 }) : p(this, hr).cancelRetry()), this.scheduleGc()), p(this, Ur).notify({ type: "observerRemoved", query: this, observer: t }));
  }
  getObserversCount() {
    return p(this, Kt).length;
  }
  invalidate() {
    this.state.isInvalidated || j(this, si, Hi).call(this, { type: "invalidate" });
  }
  fetch(t, r) {
    var l, d, h;
    if (this.state.fetchStatus !== "idle") {
      if (this.state.data !== void 0 && (r != null && r.cancelRefetch))
        this.cancel({ silent: !0 });
      else if (p(this, hr))
        return p(this, hr).continueRetry(), p(this, hr).promise;
    }
    if (t && this.setOptions(t), !this.options.queryFn) {
      const y = p(this, Kt).find((w) => w.options.queryFn);
      y && this.setOptions(y.options);
    }
    const i = new AbortController(), n = {
      queryKey: this.queryKey,
      meta: this.meta
    }, o = (y) => {
      Object.defineProperty(y, "signal", {
        enumerable: !0,
        get: () => (B(this, Jn, !0), i.signal)
      });
    };
    o(n);
    const a = () => !this.options.queryFn || this.options.queryFn === mu ? Promise.reject(
      new Error(`Missing queryFn: '${this.options.queryHash}'`)
    ) : (B(this, Jn, !1), this.options.persister ? this.options.persister(
      this.options.queryFn,
      n,
      this
    ) : this.options.queryFn(
      n
    )), s = {
      fetchOptions: r,
      options: this.options,
      queryKey: this.queryKey,
      state: this.state,
      fetchFn: a
    };
    o(s), (l = this.options.behavior) == null || l.onFetch(
      s,
      this
    ), B(this, jo, this.state), (this.state.fetchStatus === "idle" || this.state.fetchMeta !== ((d = s.fetchOptions) == null ? void 0 : d.meta)) && j(this, si, Hi).call(this, { type: "fetch", meta: (h = s.fetchOptions) == null ? void 0 : h.meta });
    const c = (y) => {
      var w, b, C, E;
      Nl(y) && y.silent || j(this, si, Hi).call(this, {
        type: "error",
        error: y
      }), Nl(y) || ((b = (w = p(this, Ur).config).onError) == null || b.call(
        w,
        y,
        this
      ), (E = (C = p(this, Ur).config).onSettled) == null || E.call(
        C,
        this.state.data,
        y,
        this
      )), this.isFetchingOptimistic || this.scheduleGc(), this.isFetchingOptimistic = !1;
    };
    return B(this, hr, Mp({
      fn: s.fetchFn,
      abort: i.abort.bind(i),
      onSuccess: (y) => {
        var w, b, C, E;
        if (y === void 0) {
          c(new Error(`${this.queryHash} data is undefined`));
          return;
        }
        this.setData(y), (b = (w = p(this, Ur).config).onSuccess) == null || b.call(w, y, this), (E = (C = p(this, Ur).config).onSettled) == null || E.call(
          C,
          y,
          this.state.error,
          this
        ), this.isFetchingOptimistic || this.scheduleGc(), this.isFetchingOptimistic = !1;
      },
      onError: c,
      onFail: (y, w) => {
        j(this, si, Hi).call(this, { type: "failed", failureCount: y, error: w });
      },
      onPause: () => {
        j(this, si, Hi).call(this, { type: "pause" });
      },
      onContinue: () => {
        j(this, si, Hi).call(this, { type: "continue" });
      },
      retry: s.options.retry,
      retryDelay: s.options.retryDelay,
      networkMode: s.options.networkMode
    })), p(this, hr).promise;
  }
}, Ho = new WeakMap(), jo = new WeakMap(), Ur = new WeakMap(), hr = new WeakMap(), Kt = new WeakMap(), Ts = new WeakMap(), Jn = new WeakMap(), si = new WeakSet(), Hi = function(t) {
  const r = (i) => {
    switch (t.type) {
      case "failed":
        return {
          ...i,
          fetchFailureCount: t.failureCount,
          fetchFailureReason: t.error
        };
      case "pause":
        return {
          ...i,
          fetchStatus: "paused"
        };
      case "continue":
        return {
          ...i,
          fetchStatus: "fetching"
        };
      case "fetch":
        return {
          ...i,
          ...Ip(i.data, this.options),
          fetchMeta: t.meta ?? null
        };
      case "success":
        return {
          ...i,
          data: t.data,
          dataUpdateCount: i.dataUpdateCount + 1,
          dataUpdatedAt: t.dataUpdatedAt ?? Date.now(),
          error: null,
          isInvalidated: !1,
          status: "success",
          ...!t.manual && {
            fetchStatus: "idle",
            fetchFailureCount: 0,
            fetchFailureReason: null
          }
        };
      case "error":
        const n = t.error;
        return Nl(n) && n.revert && p(this, jo) ? { ...p(this, jo), fetchStatus: "idle" } : {
          ...i,
          error: n,
          errorUpdateCount: i.errorUpdateCount + 1,
          errorUpdatedAt: Date.now(),
          fetchFailureCount: i.fetchFailureCount + 1,
          fetchFailureReason: n,
          fetchStatus: "idle",
          status: "error"
        };
      case "invalidate":
        return {
          ...i,
          isInvalidated: !0
        };
      case "setState":
        return {
          ...i,
          ...t.state
        };
    }
  };
  this.state = r(this.state), er.batch(() => {
    p(this, Kt).forEach((i) => {
      i.onQueryUpdate();
    }), p(this, Ur).notify({ query: this, type: "updated", action: t });
  });
}, ip);
function Ip(e, t) {
  return {
    fetchFailureCount: 0,
    fetchFailureReason: null,
    fetchStatus: gu(t.networkMode) ? "fetching" : "paused",
    ...e === void 0 && {
      error: null,
      status: "pending"
    }
  };
}
function Um(e) {
  const t = typeof e.initialData == "function" ? e.initialData() : e.initialData, r = t !== void 0, i = r ? typeof e.initialDataUpdatedAt == "function" ? e.initialDataUpdatedAt() : e.initialDataUpdatedAt : 0;
  return {
    data: t,
    dataUpdateCount: 0,
    dataUpdatedAt: r ? i ?? Date.now() : 0,
    error: null,
    errorUpdateCount: 0,
    errorUpdatedAt: 0,
    fetchFailureCount: 0,
    fetchFailureReason: null,
    fetchMeta: null,
    isInvalidated: !1,
    status: r ? "success" : "pending",
    fetchStatus: "idle"
  };
}
var _i, np, Wm = (np = class extends ba {
  constructor(t = {}) {
    super();
    D(this, _i, void 0);
    this.config = t, B(this, _i, /* @__PURE__ */ new Map());
  }
  build(t, r, i) {
    const n = r.queryKey, o = r.queryHash ?? fu(n, r);
    let a = this.get(o);
    return a || (a = new jm({
      cache: this,
      queryKey: n,
      queryHash: o,
      options: t.defaultQueryOptions(r),
      state: i,
      defaultOptions: t.getQueryDefaults(n)
    }), this.add(a)), a;
  }
  add(t) {
    p(this, _i).has(t.queryHash) || (p(this, _i).set(t.queryHash, t), this.notify({
      type: "added",
      query: t
    }));
  }
  remove(t) {
    const r = p(this, _i).get(t.queryHash);
    r && (t.destroy(), r === t && p(this, _i).delete(t.queryHash), this.notify({ type: "removed", query: t }));
  }
  clear() {
    er.batch(() => {
      this.getAll().forEach((t) => {
        this.remove(t);
      });
    });
  }
  get(t) {
    return p(this, _i).get(t);
  }
  getAll() {
    return [...p(this, _i).values()];
  }
  find(t) {
    const r = { exact: !0, ...t };
    return this.getAll().find(
      (i) => zh(r, i)
    );
  }
  findAll(t = {}) {
    const r = this.getAll();
    return Object.keys(t).length > 0 ? r.filter((i) => zh(t, i)) : r;
  }
  notify(t) {
    er.batch(() => {
      this.listeners.forEach((r) => {
        r(t);
      });
    });
  }
  onFocus() {
    er.batch(() => {
      this.getAll().forEach((t) => {
        t.onFocus();
      });
    });
  }
  onOnline() {
    er.batch(() => {
      this.getAll().forEach((t) => {
        t.onOnline();
      });
    });
  }
}, _i = new WeakMap(), np), ki, Rs, Dr, Uo, Ci, cn, op, qm = (op = class extends Op {
  constructor(t) {
    super();
    D(this, Ci);
    D(this, ki, void 0);
    D(this, Rs, void 0);
    D(this, Dr, void 0);
    D(this, Uo, void 0);
    this.mutationId = t.mutationId, B(this, Rs, t.defaultOptions), B(this, Dr, t.mutationCache), B(this, ki, []), this.state = t.state || Tp(), this.setOptions(t.options), this.scheduleGc();
  }
  setOptions(t) {
    this.options = { ...p(this, Rs), ...t }, this.updateGcTime(this.options.gcTime);
  }
  get meta() {
    return this.options.meta;
  }
  addObserver(t) {
    p(this, ki).includes(t) || (p(this, ki).push(t), this.clearGcTimeout(), p(this, Dr).notify({
      type: "observerAdded",
      mutation: this,
      observer: t
    }));
  }
  removeObserver(t) {
    B(this, ki, p(this, ki).filter((r) => r !== t)), this.scheduleGc(), p(this, Dr).notify({
      type: "observerRemoved",
      mutation: this,
      observer: t
    });
  }
  optionalRemove() {
    p(this, ki).length || (this.state.status === "pending" ? this.scheduleGc() : p(this, Dr).remove(this));
  }
  continue() {
    var t;
    return ((t = p(this, Uo)) == null ? void 0 : t.continue()) ?? // continuing a mutation assumes that variables are set, mutation must have been dehydrated before
    this.execute(this.state.variables);
  }
  async execute(t) {
    var n, o, a, s, c, l, d, h, y, w, b, C, E, A, _, x, T, k, g, S;
    const r = () => (B(this, Uo, Mp({
      fn: () => this.options.mutationFn ? this.options.mutationFn(t) : Promise.reject(new Error("No mutationFn found")),
      onFail: (L, R) => {
        j(this, Ci, cn).call(this, { type: "failed", failureCount: L, error: R });
      },
      onPause: () => {
        j(this, Ci, cn).call(this, { type: "pause" });
      },
      onContinue: () => {
        j(this, Ci, cn).call(this, { type: "continue" });
      },
      retry: this.options.retry ?? 0,
      retryDelay: this.options.retryDelay,
      networkMode: this.options.networkMode
    })), p(this, Uo).promise), i = this.state.status === "pending";
    try {
      if (!i) {
        j(this, Ci, cn).call(this, { type: "pending", variables: t }), await ((o = (n = p(this, Dr).config).onMutate) == null ? void 0 : o.call(
          n,
          t,
          this
        ));
        const R = await ((s = (a = this.options).onMutate) == null ? void 0 : s.call(a, t));
        R !== this.state.context && j(this, Ci, cn).call(this, {
          type: "pending",
          context: R,
          variables: t
        });
      }
      const L = await r();
      return await ((l = (c = p(this, Dr).config).onSuccess) == null ? void 0 : l.call(
        c,
        L,
        t,
        this.state.context,
        this
      )), await ((h = (d = this.options).onSuccess) == null ? void 0 : h.call(d, L, t, this.state.context)), await ((w = (y = p(this, Dr).config).onSettled) == null ? void 0 : w.call(
        y,
        L,
        null,
        this.state.variables,
        this.state.context,
        this
      )), await ((C = (b = this.options).onSettled) == null ? void 0 : C.call(b, L, null, t, this.state.context)), j(this, Ci, cn).call(this, { type: "success", data: L }), L;
    } catch (L) {
      try {
        throw await ((A = (E = p(this, Dr).config).onError) == null ? void 0 : A.call(
          E,
          L,
          t,
          this.state.context,
          this
        )), await ((x = (_ = this.options).onError) == null ? void 0 : x.call(
          _,
          L,
          t,
          this.state.context
        )), await ((k = (T = p(this, Dr).config).onSettled) == null ? void 0 : k.call(
          T,
          void 0,
          L,
          this.state.variables,
          this.state.context,
          this
        )), await ((S = (g = this.options).onSettled) == null ? void 0 : S.call(
          g,
          void 0,
          L,
          t,
          this.state.context
        )), L;
      } finally {
        j(this, Ci, cn).call(this, { type: "error", error: L });
      }
    }
  }
}, ki = new WeakMap(), Rs = new WeakMap(), Dr = new WeakMap(), Uo = new WeakMap(), Ci = new WeakSet(), cn = function(t) {
  const r = (i) => {
    switch (t.type) {
      case "failed":
        return {
          ...i,
          failureCount: t.failureCount,
          failureReason: t.error
        };
      case "pause":
        return {
          ...i,
          isPaused: !0
        };
      case "continue":
        return {
          ...i,
          isPaused: !1
        };
      case "pending":
        return {
          ...i,
          context: t.context,
          data: void 0,
          failureCount: 0,
          failureReason: null,
          error: null,
          isPaused: !gu(this.options.networkMode),
          status: "pending",
          variables: t.variables,
          submittedAt: Date.now()
        };
      case "success":
        return {
          ...i,
          data: t.data,
          failureCount: 0,
          failureReason: null,
          error: null,
          status: "success",
          isPaused: !1
        };
      case "error":
        return {
          ...i,
          data: void 0,
          error: t.error,
          failureCount: i.failureCount + 1,
          failureReason: t.error,
          isPaused: !1,
          status: "error"
        };
    }
  };
  this.state = r(this.state), er.batch(() => {
    p(this, ki).forEach((i) => {
      i.onMutationUpdate(t);
    }), p(this, Dr).notify({
      mutation: this,
      type: "updated",
      action: t
    });
  });
}, op);
function Tp() {
  return {
    context: void 0,
    data: void 0,
    error: null,
    failureCount: 0,
    failureReason: null,
    isPaused: !1,
    status: "idle",
    variables: void 0,
    submittedAt: 0
  };
}
var Wr, Ds, eo, ap, Qm = (ap = class extends ba {
  constructor(t = {}) {
    super();
    D(this, Wr, void 0);
    D(this, Ds, void 0);
    D(this, eo, void 0);
    this.config = t, B(this, Wr, []), B(this, Ds, 0);
  }
  build(t, r, i) {
    const n = new qm({
      mutationCache: this,
      mutationId: ++Fa(this, Ds)._,
      options: t.defaultMutationOptions(r),
      state: i
    });
    return this.add(n), n;
  }
  add(t) {
    p(this, Wr).push(t), this.notify({ type: "added", mutation: t });
  }
  remove(t) {
    B(this, Wr, p(this, Wr).filter((r) => r !== t)), this.notify({ type: "removed", mutation: t });
  }
  clear() {
    er.batch(() => {
      p(this, Wr).forEach((t) => {
        this.remove(t);
      });
    });
  }
  getAll() {
    return p(this, Wr);
  }
  find(t) {
    const r = { exact: !0, ...t };
    return p(this, Wr).find(
      (i) => Vh(r, i)
    );
  }
  findAll(t = {}) {
    return p(this, Wr).filter(
      (r) => Vh(t, r)
    );
  }
  notify(t) {
    er.batch(() => {
      this.listeners.forEach((r) => {
        r(t);
      });
    });
  }
  resumePausedMutations() {
    return B(this, eo, (p(this, eo) ?? Promise.resolve()).then(() => {
      const t = p(this, Wr).filter((r) => r.state.isPaused);
      return er.batch(
        () => t.reduce(
          (r, i) => r.then(() => i.continue().catch(qr)),
          Promise.resolve()
        )
      );
    }).then(() => {
      B(this, eo, void 0);
    })), p(this, eo);
  }
}, Wr = new WeakMap(), Ds = new WeakMap(), eo = new WeakMap(), ap);
function rd(e) {
  return {
    onFetch: (t, r) => {
      const i = async () => {
        var b, C, E, A, _;
        const n = t.options, o = (E = (C = (b = t.fetchOptions) == null ? void 0 : b.meta) == null ? void 0 : C.fetchMore) == null ? void 0 : E.direction, a = ((A = t.state.data) == null ? void 0 : A.pages) || [], s = ((_ = t.state.data) == null ? void 0 : _.pageParams) || [], c = { pages: [], pageParams: [] };
        let l = !1;
        const d = (x) => {
          Object.defineProperty(x, "signal", {
            enumerable: !0,
            get: () => (t.signal.aborted ? l = !0 : t.signal.addEventListener("abort", () => {
              l = !0;
            }), t.signal)
          });
        }, h = t.options.queryFn && t.options.queryFn !== mu ? t.options.queryFn : () => Promise.reject(
          new Error(`Missing queryFn: '${t.options.queryHash}'`)
        ), y = async (x, T, k) => {
          if (l)
            return Promise.reject();
          if (T == null && x.pages.length)
            return Promise.resolve(x);
          const g = {
            queryKey: t.queryKey,
            pageParam: T,
            direction: k ? "backward" : "forward",
            meta: t.options.meta
          };
          d(g);
          const S = await h(
            g
          ), { maxPages: L } = t.options, R = k ? zm : Fm;
          return {
            pages: R(x.pages, S, L),
            pageParams: R(x.pageParams, T, L)
          };
        };
        let w;
        if (o && a.length) {
          const x = o === "backward", T = x ? Rp : id, k = {
            pages: a,
            pageParams: s
          }, g = T(n, k);
          w = await y(k, g, x);
        } else {
          w = await y(
            c,
            s[0] ?? n.initialPageParam
          );
          const x = e ?? a.length;
          for (let T = 1; T < x; T++) {
            const k = id(n, w);
            w = await y(w, k);
          }
        }
        return w;
      };
      t.options.persister ? t.fetchFn = () => {
        var n, o;
        return (o = (n = t.options).persister) == null ? void 0 : o.call(
          n,
          i,
          {
            queryKey: t.queryKey,
            meta: t.options.meta,
            signal: t.signal
          },
          r
        );
      } : t.fetchFn = i;
    }
  };
}
function id(e, { pages: t, pageParams: r }) {
  const i = t.length - 1;
  return e.getNextPageParam(
    t[i],
    t,
    r[i],
    r
  );
}
function Rp(e, { pages: t, pageParams: r }) {
  var i;
  return (i = e.getPreviousPageParam) == null ? void 0 : i.call(
    e,
    t[0],
    t,
    r[0],
    r
  );
}
function Km(e, t) {
  return t ? id(e, t) != null : !1;
}
function Zm(e, t) {
  return !t || !e.getPreviousPageParam ? !1 : Rp(e, t) != null;
}
var Lt, yn, pn, Wo, qo, wn, Qo, Ko, sp, Ym = (sp = class {
  constructor(e = {}) {
    D(this, Lt, void 0);
    D(this, yn, void 0);
    D(this, pn, void 0);
    D(this, Wo, void 0);
    D(this, qo, void 0);
    D(this, wn, void 0);
    D(this, Qo, void 0);
    D(this, Ko, void 0);
    B(this, Lt, e.queryCache || new Wm()), B(this, yn, e.mutationCache || new Qm()), B(this, pn, e.defaultOptions || {}), B(this, Wo, /* @__PURE__ */ new Map()), B(this, qo, /* @__PURE__ */ new Map()), B(this, wn, 0);
  }
  mount() {
    Fa(this, wn)._++, p(this, wn) === 1 && (B(this, Qo, vu.subscribe(async (e) => {
      e && (await this.resumePausedMutations(), p(this, Lt).onFocus());
    })), B(this, Ko, Wc.subscribe(async (e) => {
      e && (await this.resumePausedMutations(), p(this, Lt).onOnline());
    })));
  }
  unmount() {
    var e, t;
    Fa(this, wn)._--, p(this, wn) === 0 && ((e = p(this, Qo)) == null || e.call(this), B(this, Qo, void 0), (t = p(this, Ko)) == null || t.call(this), B(this, Ko, void 0));
  }
  isFetching(e) {
    return p(this, Lt).findAll({ ...e, fetchStatus: "fetching" }).length;
  }
  isMutating(e) {
    return p(this, yn).findAll({ ...e, status: "pending" }).length;
  }
  getQueryData(e) {
    var r;
    const t = this.defaultQueryOptions({ queryKey: e });
    return (r = p(this, Lt).get(t.queryHash)) == null ? void 0 : r.state.data;
  }
  ensureQueryData(e) {
    const t = this.getQueryData(e.queryKey);
    if (t === void 0)
      return this.fetchQuery(e);
    {
      const r = this.defaultQueryOptions(e), i = p(this, Lt).build(this, r);
      return e.revalidateIfStale && i.isStaleByTime(r.staleTime) && this.prefetchQuery(r), Promise.resolve(t);
    }
  }
  getQueriesData(e) {
    return p(this, Lt).findAll(e).map(({ queryKey: t, state: r }) => {
      const i = r.data;
      return [t, i];
    });
  }
  setQueryData(e, t, r) {
    const i = this.defaultQueryOptions({ queryKey: e }), n = p(this, Lt).get(
      i.queryHash
    ), o = n == null ? void 0 : n.state.data, a = Rm(t, o);
    if (a !== void 0)
      return p(this, Lt).build(this, i).setData(a, { ...r, manual: !0 });
  }
  setQueriesData(e, t, r) {
    return er.batch(
      () => p(this, Lt).findAll(e).map(({ queryKey: i }) => [
        i,
        this.setQueryData(i, t, r)
      ])
    );
  }
  getQueryState(e) {
    var r;
    const t = this.defaultQueryOptions({ queryKey: e });
    return (r = p(this, Lt).get(t.queryHash)) == null ? void 0 : r.state;
  }
  removeQueries(e) {
    const t = p(this, Lt);
    er.batch(() => {
      t.findAll(e).forEach((r) => {
        t.remove(r);
      });
    });
  }
  resetQueries(e, t) {
    const r = p(this, Lt), i = {
      type: "active",
      ...e
    };
    return er.batch(() => (r.findAll(e).forEach((n) => {
      n.reset();
    }), this.refetchQueries(i, t)));
  }
  cancelQueries(e = {}, t = {}) {
    const r = { revert: !0, ...t }, i = er.batch(
      () => p(this, Lt).findAll(e).map((n) => n.cancel(r))
    );
    return Promise.all(i).then(qr).catch(qr);
  }
  invalidateQueries(e = {}, t = {}) {
    return er.batch(() => {
      if (p(this, Lt).findAll(e).forEach((i) => {
        i.invalidate();
      }), e.refetchType === "none")
        return Promise.resolve();
      const r = {
        ...e,
        type: e.refetchType ?? e.type ?? "active"
      };
      return this.refetchQueries(r, t);
    });
  }
  refetchQueries(e = {}, t) {
    const r = {
      ...t,
      cancelRefetch: (t == null ? void 0 : t.cancelRefetch) ?? !0
    }, i = er.batch(
      () => p(this, Lt).findAll(e).filter((n) => !n.isDisabled()).map((n) => {
        let o = n.fetch(void 0, r);
        return r.throwOnError || (o = o.catch(qr)), n.state.fetchStatus === "paused" ? Promise.resolve() : o;
      })
    );
    return Promise.all(i).then(qr);
  }
  fetchQuery(e) {
    const t = this.defaultQueryOptions(e);
    t.retry === void 0 && (t.retry = !1);
    const r = p(this, Lt).build(this, t);
    return r.isStaleByTime(t.staleTime) ? r.fetch(t) : Promise.resolve(r.state.data);
  }
  prefetchQuery(e) {
    return this.fetchQuery(e).then(qr).catch(qr);
  }
  fetchInfiniteQuery(e) {
    return e.behavior = rd(e.pages), this.fetchQuery(e);
  }
  prefetchInfiniteQuery(e) {
    return this.fetchInfiniteQuery(e).then(qr).catch(qr);
  }
  resumePausedMutations() {
    return Wc.isOnline() ? p(this, yn).resumePausedMutations() : Promise.resolve();
  }
  getQueryCache() {
    return p(this, Lt);
  }
  getMutationCache() {
    return p(this, yn);
  }
  getDefaultOptions() {
    return p(this, pn);
  }
  setDefaultOptions(e) {
    B(this, pn, e);
  }
  setQueryDefaults(e, t) {
    p(this, Wo).set(uo(e), {
      queryKey: e,
      defaultOptions: t
    });
  }
  getQueryDefaults(e) {
    const t = [...p(this, Wo).values()];
    let r = {};
    return t.forEach((i) => {
      ys(e, i.queryKey) && (r = { ...r, ...i.defaultOptions });
    }), r;
  }
  setMutationDefaults(e, t) {
    p(this, qo).set(uo(e), {
      mutationKey: e,
      defaultOptions: t
    });
  }
  getMutationDefaults(e) {
    const t = [...p(this, qo).values()];
    let r = {};
    return t.forEach((i) => {
      ys(e, i.mutationKey) && (r = { ...r, ...i.defaultOptions });
    }), r;
  }
  defaultQueryOptions(e) {
    if (e._defaulted)
      return e;
    const t = {
      ...p(this, pn).queries,
      ...this.getQueryDefaults(e.queryKey),
      ...e,
      _defaulted: !0
    };
    return t.queryHash || (t.queryHash = fu(
      t.queryKey,
      t
    )), t.refetchOnReconnect === void 0 && (t.refetchOnReconnect = t.networkMode !== "always"), t.throwOnError === void 0 && (t.throwOnError = !!t.suspense), !t.networkMode && t.persister && (t.networkMode = "offlineFirst"), t.enabled !== !0 && t.queryFn === mu && (t.enabled = !1), t;
  }
  defaultMutationOptions(e) {
    return e != null && e._defaulted ? e : {
      ...p(this, pn).mutations,
      ...(e == null ? void 0 : e.mutationKey) && this.getMutationDefaults(e.mutationKey),
      ...e,
      _defaulted: !0
    };
  }
  clear() {
    p(this, Lt).clear(), p(this, yn).clear();
  }
}, Lt = new WeakMap(), yn = new WeakMap(), pn = new WeakMap(), Wo = new WeakMap(), qo = new WeakMap(), wn = new WeakMap(), Qo = new WeakMap(), Ko = new WeakMap(), sp), Cr, st, Fs, yr, to, Zo, $i, zs, Yo, Go, ro, io, fn, Xo, no, Ua, Vs, nd, Ns, od, Bs, ad, Hs, sd, js, cd, Us, ld, Ws, dd, ul, Fp, cp, Dp = (cp = class extends ba {
  constructor(t, r) {
    super();
    D(this, no);
    D(this, Vs);
    D(this, Ns);
    D(this, Bs);
    D(this, Hs);
    D(this, js);
    D(this, Us);
    D(this, Ws);
    D(this, ul);
    D(this, Cr, void 0);
    D(this, st, void 0);
    D(this, Fs, void 0);
    D(this, yr, void 0);
    D(this, to, void 0);
    D(this, Zo, void 0);
    D(this, $i, void 0);
    D(this, zs, void 0);
    D(this, Yo, void 0);
    // This property keeps track of the last query with defined data.
    // It will be used to pass the previous data and query to the placeholder function between renders.
    D(this, Go, void 0);
    D(this, ro, void 0);
    D(this, io, void 0);
    D(this, fn, void 0);
    D(this, Xo, /* @__PURE__ */ new Set());
    this.options = r, B(this, Cr, t), B(this, $i, null), this.bindMethods(), this.setOptions(r);
  }
  bindMethods() {
    this.refetch = this.refetch.bind(this);
  }
  onSubscribe() {
    this.listeners.size === 1 && (p(this, st).addObserver(this), Hh(p(this, st), this.options) ? j(this, no, Ua).call(this) : this.updateResult(), j(this, Hs, sd).call(this));
  }
  onUnsubscribe() {
    this.hasListeners() || this.destroy();
  }
  shouldFetchOnReconnect() {
    return ud(
      p(this, st),
      this.options,
      this.options.refetchOnReconnect
    );
  }
  shouldFetchOnWindowFocus() {
    return ud(
      p(this, st),
      this.options,
      this.options.refetchOnWindowFocus
    );
  }
  destroy() {
    this.listeners = /* @__PURE__ */ new Set(), j(this, js, cd).call(this), j(this, Us, ld).call(this), p(this, st).removeObserver(this);
  }
  setOptions(t, r) {
    const i = this.options, n = p(this, st);
    if (this.options = p(this, Cr).defaultQueryOptions(t), this.options.enabled !== void 0 && typeof this.options.enabled != "boolean")
      throw new Error("Expected enabled to be a boolean");
    j(this, Ws, dd).call(this), p(this, st).setOptions(this.options), i._defaulted && !Uc(this.options, i) && p(this, Cr).getQueryCache().notify({
      type: "observerOptionsUpdated",
      query: p(this, st),
      observer: this
    });
    const o = this.hasListeners();
    o && jh(
      p(this, st),
      n,
      this.options,
      i
    ) && j(this, no, Ua).call(this), this.updateResult(r), o && (p(this, st) !== n || this.options.enabled !== i.enabled || this.options.staleTime !== i.staleTime) && j(this, Vs, nd).call(this);
    const a = j(this, Ns, od).call(this);
    o && (p(this, st) !== n || this.options.enabled !== i.enabled || a !== p(this, fn)) && j(this, Bs, ad).call(this, a);
  }
  getOptimisticResult(t) {
    const r = p(this, Cr).getQueryCache().build(p(this, Cr), t), i = this.createResult(r, t);
    return Xm(this, i) && (B(this, yr, i), B(this, Zo, this.options), B(this, to, p(this, st).state)), i;
  }
  getCurrentResult() {
    return p(this, yr);
  }
  trackResult(t, r) {
    const i = {};
    return Object.keys(t).forEach((n) => {
      Object.defineProperty(i, n, {
        configurable: !1,
        enumerable: !0,
        get: () => (this.trackProp(n), r == null || r(n), t[n])
      });
    }), i;
  }
  trackProp(t) {
    p(this, Xo).add(t);
  }
  getCurrentQuery() {
    return p(this, st);
  }
  refetch({ ...t } = {}) {
    return this.fetch({
      ...t
    });
  }
  fetchOptimistic(t) {
    const r = p(this, Cr).defaultQueryOptions(t), i = p(this, Cr).getQueryCache().build(p(this, Cr), r);
    return i.isFetchingOptimistic = !0, i.fetch().then(() => this.createResult(i, r));
  }
  fetch(t) {
    return j(this, no, Ua).call(this, {
      ...t,
      cancelRefetch: t.cancelRefetch ?? !0
    }).then(() => (this.updateResult(), p(this, yr)));
  }
  createResult(t, r) {
    var S;
    const i = p(this, st), n = this.options, o = p(this, yr), a = p(this, to), s = p(this, Zo), l = t !== i ? t.state : p(this, Fs), { state: d } = t;
    let h = { ...d }, y = !1, w;
    if (r._optimisticResults) {
      const L = this.hasListeners(), R = !L && Hh(t, r), U = L && jh(t, i, r, n);
      (R || U) && (h = {
        ...h,
        ...Ip(d.data, t.options)
      }), r._optimisticResults === "isRestoring" && (h.fetchStatus = "idle");
    }
    let { error: b, errorUpdatedAt: C, status: E } = h;
    if (r.select && h.data !== void 0)
      if (o && h.data === (a == null ? void 0 : a.data) && r.select === p(this, zs))
        w = p(this, Yo);
      else
        try {
          B(this, zs, r.select), w = r.select(h.data), w = td(o == null ? void 0 : o.data, w, r), B(this, Yo, w), B(this, $i, null);
        } catch (L) {
          B(this, $i, L);
        }
    else
      w = h.data;
    if (r.placeholderData !== void 0 && w === void 0 && E === "pending") {
      let L;
      if (o != null && o.isPlaceholderData && r.placeholderData === (s == null ? void 0 : s.placeholderData))
        L = o.data;
      else if (L = typeof r.placeholderData == "function" ? r.placeholderData(
        (S = p(this, Go)) == null ? void 0 : S.state.data,
        p(this, Go)
      ) : r.placeholderData, r.select && L !== void 0)
        try {
          L = r.select(L), B(this, $i, null);
        } catch (R) {
          B(this, $i, R);
        }
      L !== void 0 && (E = "success", w = td(
        o == null ? void 0 : o.data,
        L,
        r
      ), y = !0);
    }
    p(this, $i) && (b = p(this, $i), w = p(this, Yo), C = Date.now(), E = "error");
    const A = h.fetchStatus === "fetching", _ = E === "pending", x = E === "error", T = _ && A, k = w !== void 0;
    return {
      status: E,
      fetchStatus: h.fetchStatus,
      isPending: _,
      isSuccess: E === "success",
      isError: x,
      isInitialLoading: T,
      isLoading: T,
      data: w,
      dataUpdatedAt: h.dataUpdatedAt,
      error: b,
      errorUpdatedAt: C,
      failureCount: h.fetchFailureCount,
      failureReason: h.fetchFailureReason,
      errorUpdateCount: h.errorUpdateCount,
      isFetched: h.dataUpdateCount > 0 || h.errorUpdateCount > 0,
      isFetchedAfterMount: h.dataUpdateCount > l.dataUpdateCount || h.errorUpdateCount > l.errorUpdateCount,
      isFetching: A,
      isRefetching: A && !_,
      isLoadingError: x && !k,
      isPaused: h.fetchStatus === "paused",
      isPlaceholderData: y,
      isRefetchError: x && k,
      isStale: bu(t, r),
      refetch: this.refetch
    };
  }
  updateResult(t) {
    const r = p(this, yr), i = this.createResult(p(this, st), this.options);
    if (B(this, to, p(this, st).state), B(this, Zo, this.options), p(this, to).data !== void 0 && B(this, Go, p(this, st)), Uc(i, r))
      return;
    B(this, yr, i);
    const n = {}, o = () => {
      if (!r)
        return !0;
      const { notifyOnChangeProps: a } = this.options, s = typeof a == "function" ? a() : a;
      if (s === "all" || !s && !p(this, Xo).size)
        return !0;
      const c = new Set(
        s ?? p(this, Xo)
      );
      return this.options.throwOnError && c.add("error"), Object.keys(p(this, yr)).some((l) => {
        const d = l;
        return p(this, yr)[d] !== r[d] && c.has(d);
      });
    };
    (t == null ? void 0 : t.listeners) !== !1 && o() && (n.listeners = !0), j(this, ul, Fp).call(this, { ...n, ...t });
  }
  onQueryUpdate() {
    this.updateResult(), this.hasListeners() && j(this, Hs, sd).call(this);
  }
}, Cr = new WeakMap(), st = new WeakMap(), Fs = new WeakMap(), yr = new WeakMap(), to = new WeakMap(), Zo = new WeakMap(), $i = new WeakMap(), zs = new WeakMap(), Yo = new WeakMap(), Go = new WeakMap(), ro = new WeakMap(), io = new WeakMap(), fn = new WeakMap(), Xo = new WeakMap(), no = new WeakSet(), Ua = function(t) {
  j(this, Ws, dd).call(this);
  let r = p(this, st).fetch(
    this.options,
    t
  );
  return t != null && t.throwOnError || (r = r.catch(qr)), r;
}, Vs = new WeakSet(), nd = function() {
  if (j(this, js, cd).call(this), ta || p(this, yr).isStale || !Jl(this.options.staleTime))
    return;
  const r = Ap(
    p(this, yr).dataUpdatedAt,
    this.options.staleTime
  ) + 1;
  B(this, ro, setTimeout(() => {
    p(this, yr).isStale || this.updateResult();
  }, r));
}, Ns = new WeakSet(), od = function() {
  return (typeof this.options.refetchInterval == "function" ? this.options.refetchInterval(p(this, st)) : this.options.refetchInterval) ?? !1;
}, Bs = new WeakSet(), ad = function(t) {
  j(this, Us, ld).call(this), B(this, fn, t), !(ta || this.options.enabled === !1 || !Jl(p(this, fn)) || p(this, fn) === 0) && B(this, io, setInterval(() => {
    (this.options.refetchIntervalInBackground || vu.isFocused()) && j(this, no, Ua).call(this);
  }, p(this, fn)));
}, Hs = new WeakSet(), sd = function() {
  j(this, Vs, nd).call(this), j(this, Bs, ad).call(this, j(this, Ns, od).call(this));
}, js = new WeakSet(), cd = function() {
  p(this, ro) && (clearTimeout(p(this, ro)), B(this, ro, void 0));
}, Us = new WeakSet(), ld = function() {
  p(this, io) && (clearInterval(p(this, io)), B(this, io, void 0));
}, Ws = new WeakSet(), dd = function() {
  const t = p(this, Cr).getQueryCache().build(p(this, Cr), this.options);
  if (t === p(this, st))
    return;
  const r = p(this, st);
  B(this, st, t), B(this, Fs, t.state), this.hasListeners() && (r == null || r.removeObserver(this), t.addObserver(this));
}, ul = new WeakSet(), Fp = function(t) {
  er.batch(() => {
    t.listeners && this.listeners.forEach((r) => {
      r(p(this, yr));
    }), p(this, Cr).getQueryCache().notify({
      query: p(this, st),
      type: "observerResultsUpdated"
    });
  });
}, cp);
function Gm(e, t) {
  return t.enabled !== !1 && e.state.data === void 0 && !(e.state.status === "error" && t.retryOnMount === !1);
}
function Hh(e, t) {
  return Gm(e, t) || e.state.data !== void 0 && ud(e, t, t.refetchOnMount);
}
function ud(e, t, r) {
  if (t.enabled !== !1) {
    const i = typeof r == "function" ? r(e) : r;
    return i === "always" || i !== !1 && bu(e, t);
  }
  return !1;
}
function jh(e, t, r, i) {
  return (e !== t || i.enabled === !1) && (!r.suspense || e.state.status !== "error") && bu(e, r);
}
function bu(e, t) {
  return t.enabled !== !1 && e.isStaleByTime(t.staleTime);
}
function Xm(e, t) {
  return !Uc(e.getCurrentResult(), t);
}
var Jm = class extends Dp {
  constructor(e, t) {
    super(e, t);
  }
  bindMethods() {
    super.bindMethods(), this.fetchNextPage = this.fetchNextPage.bind(this), this.fetchPreviousPage = this.fetchPreviousPage.bind(this);
  }
  setOptions(e, t) {
    super.setOptions(
      {
        ...e,
        behavior: rd()
      },
      t
    );
  }
  getOptimisticResult(e) {
    return e.behavior = rd(), super.getOptimisticResult(e);
  }
  fetchNextPage(e) {
    return this.fetch({
      ...e,
      meta: {
        fetchMore: { direction: "forward" }
      }
    });
  }
  fetchPreviousPage(e) {
    return this.fetch({
      ...e,
      meta: {
        fetchMore: { direction: "backward" }
      }
    });
  }
  createResult(e, t) {
    var c, l, d, h;
    const { state: r } = e, i = super.createResult(e, t), { isFetching: n, isRefetching: o } = i, a = n && ((l = (c = r.fetchMeta) == null ? void 0 : c.fetchMore) == null ? void 0 : l.direction) === "forward", s = n && ((h = (d = r.fetchMeta) == null ? void 0 : d.fetchMore) == null ? void 0 : h.direction) === "backward";
    return {
      ...i,
      fetchNextPage: this.fetchNextPage,
      fetchPreviousPage: this.fetchPreviousPage,
      hasNextPage: Km(t, r.data),
      hasPreviousPage: Zm(t, r.data),
      isFetchingNextPage: a,
      isFetchingPreviousPage: s,
      isRefetching: o && !a && !s
    };
  }
}, mn, vn, $r, Ui, Jo, Ec, qs, hd, lp, rt = (lp = class extends ba {
  constructor(r, i) {
    super();
    D(this, Jo);
    D(this, qs);
    D(this, mn, void 0);
    D(this, vn, void 0);
    D(this, $r, void 0);
    D(this, Ui, void 0);
    B(this, mn, r), this.setOptions(i), this.bindMethods(), j(this, Jo, Ec).call(this);
  }
  bindMethods() {
    this.mutate = this.mutate.bind(this), this.reset = this.reset.bind(this);
  }
  setOptions(r) {
    var n;
    const i = this.options;
    this.options = p(this, mn).defaultMutationOptions(r), Uc(this.options, i) || p(this, mn).getMutationCache().notify({
      type: "observerOptionsUpdated",
      mutation: p(this, $r),
      observer: this
    }), i != null && i.mutationKey && this.options.mutationKey && uo(i.mutationKey) !== uo(this.options.mutationKey) ? this.reset() : ((n = p(this, $r)) == null ? void 0 : n.state.status) === "pending" && p(this, $r).setOptions(this.options);
  }
  onUnsubscribe() {
    var r;
    this.hasListeners() || (r = p(this, $r)) == null || r.removeObserver(this);
  }
  onMutationUpdate(r) {
    j(this, Jo, Ec).call(this), j(this, qs, hd).call(this, r);
  }
  getCurrentResult() {
    return p(this, vn);
  }
  reset() {
    var r;
    (r = p(this, $r)) == null || r.removeObserver(this), B(this, $r, void 0), j(this, Jo, Ec).call(this), j(this, qs, hd).call(this);
  }
  mutate(r, i) {
    var n;
    return B(this, Ui, i), (n = p(this, $r)) == null || n.removeObserver(this), B(this, $r, p(this, mn).getMutationCache().build(p(this, mn), this.options)), p(this, $r).addObserver(this), p(this, $r).execute(r);
  }
}, mn = new WeakMap(), vn = new WeakMap(), $r = new WeakMap(), Ui = new WeakMap(), Jo = new WeakSet(), Ec = function() {
  var i;
  const r = ((i = p(this, $r)) == null ? void 0 : i.state) ?? Tp();
  B(this, vn, {
    ...r,
    isPending: r.status === "pending",
    isSuccess: r.status === "success",
    isError: r.status === "error",
    isIdle: r.status === "idle",
    mutate: this.mutate,
    reset: this.reset
  });
}, qs = new WeakSet(), hd = function(r) {
  er.batch(() => {
    var i, n, o, a, s, c, l, d;
    if (p(this, Ui) && this.hasListeners()) {
      const h = p(this, vn).variables, y = p(this, vn).context;
      (r == null ? void 0 : r.type) === "success" ? ((n = (i = p(this, Ui)).onSuccess) == null || n.call(i, r.data, h, y), (a = (o = p(this, Ui)).onSettled) == null || a.call(o, r.data, null, h, y)) : (r == null ? void 0 : r.type) === "error" && ((c = (s = p(this, Ui)).onError) == null || c.call(s, r.error, h, y), (d = (l = p(this, Ui)).onSettled) == null || d.call(
        l,
        void 0,
        r.error,
        h,
        y
      ));
    }
    this.listeners.forEach((h) => {
      h(p(this, vn));
    });
  });
}, lp);
function ev(e) {
  return {
    mutationKey: e.options.mutationKey,
    state: e.state,
    ...e.meta && { meta: e.meta }
  };
}
function tv(e) {
  return {
    state: e.state,
    queryKey: e.queryKey,
    queryHash: e.queryHash,
    ...e.meta && { meta: e.meta }
  };
}
function rv(e) {
  return e.state.isPaused;
}
function iv(e) {
  return e.state.status === "success";
}
function nv(e, t = {}) {
  const r = t.shouldDehydrateMutation ?? rv, i = e.getMutationCache().getAll().flatMap(
    (a) => r(a) ? [ev(a)] : []
  ), n = t.shouldDehydrateQuery ?? iv, o = e.getQueryCache().getAll().flatMap((a) => n(a) ? [tv(a)] : []);
  return { mutations: i, queries: o };
}
function ov(e, t, r) {
  if (typeof t != "object" || t === null)
    return;
  const i = e.getMutationCache(), n = e.getQueryCache(), o = t.mutations || [], a = t.queries || [];
  o.forEach((s) => {
    var c;
    i.build(
      e,
      {
        ...(c = r == null ? void 0 : r.defaultOptions) == null ? void 0 : c.mutations,
        mutationKey: s.mutationKey,
        meta: s.meta
      },
      s.state
    );
  }), a.forEach(({ queryKey: s, state: c, queryHash: l, meta: d }) => {
    var y;
    const h = n.get(l);
    if (h) {
      if (h.state.dataUpdatedAt < c.dataUpdatedAt) {
        const { fetchStatus: w, ...b } = c;
        h.setState(b);
      }
      return;
    }
    n.build(
      e,
      {
        ...(y = r == null ? void 0 : r.defaultOptions) == null ? void 0 : y.queries,
        queryKey: s,
        queryHash: l,
        meta: d
      },
      // Reset fetch status to idle to avoid
      // query being stuck in fetching state upon hydration
      {
        ...c,
        fetchStatus: "idle"
      }
    );
  });
}
function Uh() {
}
function av({
  storage: e,
  key: t = "REACT_QUERY_OFFLINE_CACHE",
  throttleTime: r = 1e3,
  serialize: i = JSON.stringify,
  deserialize: n = JSON.parse,
  retry: o
}) {
  if (e) {
    const a = (s) => {
      try {
        e.setItem(t, i(s));
        return;
      } catch (c) {
        return c;
      }
    };
    return {
      persistClient: sv((s) => {
        let c = s, l = a(c), d = 0;
        for (; l && c; )
          d++, c = o == null ? void 0 : o({
            persistedClient: c,
            error: l,
            errorCount: d
          }), c && (l = a(c));
      }, r),
      restoreClient: () => {
        const s = e.getItem(t);
        if (s)
          return n(s);
      },
      removeClient: () => {
        e.removeItem(t);
      }
    };
  }
  return {
    persistClient: Uh,
    restoreClient: () => {
    },
    removeClient: Uh
  };
}
function sv(e, t = 100) {
  let r = null, i;
  return function(...n) {
    i = n, r === null && (r = setTimeout(() => {
      e(...i), r = null;
    }, t));
  };
}
var cv = ["added", "removed", "updated"];
function Wh(e) {
  return cv.includes(e);
}
async function lv({
  queryClient: e,
  persister: t,
  maxAge: r = 1e3 * 60 * 60 * 24,
  buster: i = "",
  hydrateOptions: n
}) {
  try {
    const o = await t.restoreClient();
    if (o)
      if (o.timestamp) {
        const a = Date.now() - o.timestamp > r, s = o.buster !== i;
        a || s ? t.removeClient() : ov(e, o.clientState, n);
      } else
        t.removeClient();
  } catch {
    t.removeClient();
  }
}
async function qh({
  queryClient: e,
  persister: t,
  buster: r = "",
  dehydrateOptions: i
}) {
  const n = {
    buster: r,
    timestamp: Date.now(),
    clientState: nv(e, i)
  };
  await t.persistClient(n);
}
function dv(e) {
  const t = e.queryClient.getQueryCache().subscribe((i) => {
    Wh(i.type) && qh(e);
  }), r = e.queryClient.getMutationCache().subscribe((i) => {
    Wh(i.type) && qh(e);
  });
  return () => {
    t(), r();
  };
}
function uv(e) {
  document.readyState !== "loading" ? e() : document.addEventListener("DOMContentLoaded", e, {
    once: !0
  });
}
const xu = (e) => {
  e && requestAnimationFrame(() => {
    var t;
    return (t = e == null ? void 0 : e.focus) == null ? void 0 : t.call(e);
  });
};
async function Ti(e, t = "wy-") {
  const r = [];
  for (let i = e; i = i.parentElement; )
    i.matches(":not(:defined)") && i.localName.startsWith(t) && (console.log("Waiting for defining", i.localName), r.push(customElements.whenDefined(i.localName)));
  await Promise.all(r);
}
const hv = (e, t) => {
  let r;
  const i = new ResizeObserver(() => {
    const { isConnected: n } = e;
    n !== r && (r = n, t(n, e));
  });
  return i.observe(e), i;
};
async function yv() {
  document.hidden && await new Promise((e) => {
    window.addEventListener(
      "visibilitychange",
      () => {
        document.hidden || e(!0);
      },
      { once: !0 }
    );
  });
}
const pv = (e) => class extends e {
  // QUERY CLIENT
  constructor(r) {
    super(r), this.createQueryClient(), this.host.isConnected && this._queryClient.mount(), this._hostIsConnectedObserver = hv(this.host, (i) => {
      this.isDestroyed || (i ? (console.log(this.weavyId, "Query client mounted"), this._queryClient.mount()) : (console.log(this.weavyId, "Query client unmounted"), this._queryClient.unmount()));
    });
  }
  get queryClient() {
    return this._queryClient;
  }
  async createQueryClient() {
    if (this.isDestroyed)
      throw new Nt();
    this._queryClient = new Ym({
      defaultOptions: {
        queries: {
          staleTime: this.staleTime,
          gcTime: this.gcTime
        }
      }
    });
    try {
      this._sessionStoragePersister = av({
        key: "WEAVY_QUERY_OFFLINE_CACHE",
        storage: window.sessionStorage,
        throttleTime: this.staleTime
      });
      const r = {
        queryClient: this._queryClient,
        persister: this._sessionStoragePersister,
        maxAge: this.gcTime,
        // 24h - should match gcTime
        buster: ft.version,
        // Cache busting parameter (build hash or similar)
        hydrateOptions: void 0,
        dehydrateOptions: {
          shouldDehydrateMutation: (i) => {
            var o, a;
            const n = ((a = (o = i.state.context) == null ? void 0 : o.status) == null ? void 0 : a.state) === "pending";
            return !!(i.state.context && !n || i.state.isPaused);
          }
        }
      };
      await lv(r), this._unsubscribeQueryClient = dv(r);
    } catch {
      console.warn(this.weavyId, "Query cache persister not available.");
    }
  }
  async disconnectQueryClient() {
    var r, i;
    console.log(this.weavyId, "Query client disconnected"), await this._queryClient.cancelQueries(), this.queryClient.setQueriesData({}, void 0), this.queryClient.resetQueries(), (r = this._sessionStoragePersister) == null || r.removeClient(), (i = this._unsubscribeQueryClient) == null || i.call(this), this._queryClient.unmount(), this._queryClient.clear();
  }
  destroy() {
    super.destroy(), this._hostIsConnectedObserver.disconnect(), this.disconnectQueryClient();
  }
}, wv = (e) => class extends e {
  constructor(r) {
    super(r), this.version = ft.version, this.whenUrl().then(() => {
      this.isDestroyed || this.checkVersion();
    });
  }
  /**
   * Checks the version of the Weavy Context against the Weavy Environment version.
   *
   * @param {string} [version] - Optional version to check against the environment version.
   */
  async checkVersion(r = this.version) {
    var o, a;
    await this.whenUrl(), this.networkStateIsPending = !0;
    let i;
    try {
      if (i = await fetch(new URL("/version", this.url), await this.fetchOptions(!1)), !i.ok)
        throw new Error("Could not verify environment version.");
      this.networkStateIsPending = !1, this.serverState = "ok";
    } catch (s) {
      this.networkStateIsPending = !1, this.serverState = "unreachable", console.warn("Could not check version: " + s.toString());
      return;
    }
    const n = await i.text();
    if (!r || !n || r !== n)
      try {
        const s = r.split(".").slice(0, 2), c = n.split(".").slice(0, 2);
        if (s[0] !== c[0])
          throw new Error();
        s[1] !== c[1] && console.warn(
          `Version inconsistency: ${ft.sourceName}@${this.version} ≠ ${(o = this.url) == null ? void 0 : o.hostname}@${n}`
        );
      } catch {
        throw new Error(
          `Version mismatch! ${ft.sourceName}@${this.version} ≠ ${(a = this.url) == null ? void 0 : a.hostname}@${n}`
        );
      }
  }
};
const fe = (e) => (t, r) => {
  r !== void 0 ? r.addInitializer(() => {
    customElements.define(e, t);
  }) : customElements.define(e, t);
};
const fv = { attribute: !0, type: String, converter: Hc, reflect: !1, hasChanged: hu }, mv = (e = fv, t, r) => {
  const { kind: i, metadata: n } = r;
  let o = globalThis.litPropertyMetadata.get(n);
  if (o === void 0 && globalThis.litPropertyMetadata.set(n, o = /* @__PURE__ */ new Map()), o.set(r.name, e), i === "accessor") {
    const { name: a } = r;
    return { set(s) {
      const c = t.get.call(this);
      t.set.call(this, s), this.requestUpdate(a, c, e);
    }, init(s) {
      return s !== void 0 && this.P(a, void 0, e), s;
    } };
  }
  if (i === "setter") {
    const { name: a } = r;
    return function(s) {
      const c = this[a];
      t.call(this, s), this.requestUpdate(a, c, e);
    };
  }
  throw Error("Unsupported decorator location: " + i);
};
function m(e) {
  return (t, r) => typeof r == "object" ? mv(e, t, r) : ((i, n, o) => {
    const a = n.hasOwnProperty(o);
    return n.constructor.createProperty(o, a ? { ...i, wrapped: !0 } : i), a ? Object.getOwnPropertyDescriptor(n, o) : void 0;
  })(e, t, r);
}
function te(e) {
  return m({ ...e, state: !0, attribute: !1 });
}
const vv = (e, t, r) => (r.configurable = !0, r.enumerable = !0, Reflect.decorate && typeof t != "object" && Object.defineProperty(e, t, r), r);
function gv(e) {
  return (t, r) => {
    const { slot: i, selector: n } = e ?? {}, o = "slot" + (i ? `[name=${i}]` : ":not([name])");
    return vv(t, r, { get() {
      var c;
      const a = (c = this.renderRoot) == null ? void 0 : c.querySelector(o), s = (a == null ? void 0 : a.assignedElements(e)) ?? [];
      return n === void 0 ? s : s.filter((l) => l.matches(n));
    } });
  };
}
const Ys = { ATTRIBUTE: 1, CHILD: 2, PROPERTY: 3, BOOLEAN_ATTRIBUTE: 4, EVENT: 5, ELEMENT: 6 }, Tn = (e) => (...t) => ({ _$litDirective$: e, values: t });
let Rn = class {
  constructor(t) {
  }
  get _$AU() {
    return this._$AM._$AU;
  }
  _$AT(t, r, i) {
    this._$Ct = t, this._$AM = r, this._$Ci = i;
  }
  _$AS(t, r) {
    return this.update(t, r);
  }
  update(t, r) {
    return this.render(...r);
  }
};
const { I: bv } = $m, Qh = (e, t) => t === void 0 ? (e == null ? void 0 : e._$litType$) !== void 0 : (e == null ? void 0 : e._$litType$) === t, xv = (e) => {
  var t;
  return ((t = e == null ? void 0 : e._$litType$) == null ? void 0 : t.h) != null;
}, _v = (e) => e.strings === void 0, Kh = () => document.createComment(""), Kn = (e, t, r) => {
  var o;
  const i = e._$AA.parentNode, n = t === void 0 ? e._$AB : t._$AA;
  if (r === void 0) {
    const a = i.insertBefore(Kh(), n), s = i.insertBefore(Kh(), n);
    r = new bv(a, s, e, e.options);
  } else {
    const a = r._$AB.nextSibling, s = r._$AM, c = s !== e;
    if (c) {
      let l;
      (o = r._$AQ) == null || o.call(r, e), r._$AM = e, r._$AP !== void 0 && (l = e._$AU) !== s._$AU && r._$AP(l);
    }
    if (a !== n || c) {
      let l = r._$AA;
      for (; l !== a; ) {
        const d = l.nextSibling;
        i.insertBefore(l, n), l = d;
      }
    }
  }
  return r;
}, Wn = (e, t, r = e) => (e._$AI(t, r), e), kv = {}, qc = (e, t = kv) => e._$AH = t, yd = (e) => e._$AH, Bl = (e) => {
  var i;
  (i = e._$AP) == null || i.call(e, !1, !0);
  let t = e._$AA;
  const r = e._$AB.nextSibling;
  for (; t !== r; ) {
    const n = t.nextSibling;
    t.remove(), t = n;
  }
}, Cv = (e) => {
  e._$AR();
};
const Zh = (e, t, r) => {
  const i = /* @__PURE__ */ new Map();
  for (let n = t; n <= r; n++)
    i.set(e[n], n);
  return i;
}, Ar = Tn(class extends Rn {
  constructor(e) {
    if (super(e), e.type !== Ys.CHILD)
      throw Error("repeat() can only be used in text expressions");
  }
  dt(e, t, r) {
    let i;
    r === void 0 ? r = t : t !== void 0 && (i = t);
    const n = [], o = [];
    let a = 0;
    for (const s of e)
      n[a] = i ? i(s, a) : a, o[a] = r(s, a), a++;
    return { values: o, keys: n };
  }
  render(e, t, r) {
    return this.dt(e, t, r).values;
  }
  update(e, [t, r, i]) {
    const n = yd(e), { values: o, keys: a } = this.dt(t, r, i);
    if (!Array.isArray(n))
      return this.ut = a, o;
    const s = this.ut ?? (this.ut = []), c = [];
    let l, d, h = 0, y = n.length - 1, w = 0, b = o.length - 1;
    for (; h <= y && w <= b; )
      if (n[h] === null)
        h++;
      else if (n[y] === null)
        y--;
      else if (s[h] === a[w])
        c[w] = Wn(n[h], o[w]), h++, w++;
      else if (s[y] === a[b])
        c[b] = Wn(n[y], o[b]), y--, b--;
      else if (s[h] === a[b])
        c[b] = Wn(n[h], o[b]), Kn(e, c[b + 1], n[h]), h++, b--;
      else if (s[y] === a[w])
        c[w] = Wn(n[y], o[w]), Kn(e, n[h], n[y]), y--, w++;
      else if (l === void 0 && (l = Zh(a, w, b), d = Zh(s, h, y)), l.has(s[h]))
        if (l.has(s[y])) {
          const C = d.get(a[w]), E = C !== void 0 ? n[C] : null;
          if (E === null) {
            const A = Kn(e, n[h]);
            Wn(A, o[w]), c[w] = A;
          } else
            c[w] = Wn(E, o[w]), Kn(e, n[h], E), n[C] = null;
          w++;
        } else
          Bl(n[y]), y--;
      else
        Bl(n[h]), h++;
    for (; w <= b; ) {
      const C = Kn(e, c[b + 1]);
      Wn(C, o[w]), c[w++] = C;
    }
    for (; h <= y; ) {
      const C = n[h++];
      C !== null && Bl(C);
    }
    return this.ut = a, qc(e, c), Pi;
  }
});
const is = (e, t) => {
  var i;
  const r = e._$AN;
  if (r === void 0)
    return !1;
  for (const n of r)
    (i = n._$AO) == null || i.call(n, t, !1), is(n, t);
  return !0;
}, Qc = (e) => {
  let t, r;
  do {
    if ((t = e._$AM) === void 0)
      break;
    r = t._$AN, r.delete(e), e = t;
  } while ((r == null ? void 0 : r.size) === 0);
}, zp = (e) => {
  for (let t; t = e._$AM; e = t) {
    let r = t._$AN;
    if (r === void 0)
      t._$AN = r = /* @__PURE__ */ new Set();
    else if (r.has(e))
      break;
    r.add(e), Sv(t);
  }
};
function $v(e) {
  this._$AN !== void 0 ? (Qc(this), this._$AM = e, zp(this)) : this._$AM = e;
}
function Ev(e, t = !1, r = 0) {
  const i = this._$AH, n = this._$AN;
  if (n !== void 0 && n.size !== 0)
    if (t)
      if (Array.isArray(i))
        for (let o = r; o < i.length; o++)
          is(i[o], !1), Qc(i[o]);
      else
        i != null && (is(i, !1), Qc(i));
    else
      is(this, e);
}
const Sv = (e) => {
  e.type == Ys.CHILD && (e._$AP ?? (e._$AP = Ev), e._$AQ ?? (e._$AQ = $v));
};
class Pv extends Rn {
  constructor() {
    super(...arguments), this._$AN = void 0;
  }
  _$AT(t, r, i) {
    super._$AT(t, r, i), zp(this), this.isConnected = t._$AU;
  }
  _$AO(t, r = !0) {
    var i, n;
    t !== this.isConnected && (this.isConnected = t, t ? (i = this.reconnected) == null || i.call(this) : (n = this.disconnected) == null || n.call(this)), r && (is(this, t), Qc(this));
  }
  setValue(t) {
    if (_v(this._$Ct))
      this._$Ct._$AI(t, this);
    else {
      const r = [...this._$Ct._$AH];
      r[this._$Ci] = t, this._$Ct._$AI(r, this, 0);
    }
  }
  disconnected() {
  }
  reconnected() {
  }
}
const Ve = () => new Av();
let Av = class {
};
const Hl = /* @__PURE__ */ new WeakMap(), Pe = Tn(class extends Pv {
  render(e) {
    return F;
  }
  update(e, [t]) {
    var i;
    const r = t !== this.Y;
    return r && this.Y !== void 0 && this.rt(void 0), (r || this.lt !== this.ct) && (this.Y = t, this.ht = (i = e.options) == null ? void 0 : i.host, this.rt(this.ct = e.element)), F;
  }
  rt(e) {
    if (typeof this.Y == "function") {
      const t = this.ht ?? globalThis;
      let r = Hl.get(t);
      r === void 0 && (r = /* @__PURE__ */ new WeakMap(), Hl.set(t, r)), r.get(this.Y) !== void 0 && this.Y.call(this.ht, void 0), r.set(this.Y, e), e !== void 0 && this.Y.call(this.ht, e);
    } else
      this.Y.value = e;
  }
  get lt() {
    var e, t;
    return typeof this.Y == "function" ? (e = Hl.get(this.ht ?? globalThis)) == null ? void 0 : e.get(this.Y) : (t = this.Y) == null ? void 0 : t.value;
  }
  disconnected() {
    this.lt === this.ct && this.rt(void 0);
  }
  reconnected() {
    this.rt(this.ct);
  }
});
var Gs = "delete", mt = 5, Qr = 1 << mt, wr = Qr - 1, Be = {};
function pd() {
  return { value: !1 };
}
function Kr(e) {
  e && (e.value = !0);
}
function _u() {
}
function ra(e) {
  return e.size === void 0 && (e.size = e.__iterate(Vp)), e.size;
}
function Cn(e, t) {
  if (typeof t != "number") {
    var r = t >>> 0;
    if ("" + r !== t || r === 4294967295)
      return NaN;
    t = r;
  }
  return t < 0 ? ra(e) + t : t;
}
function Vp() {
  return !0;
}
function yl(e, t, r) {
  return (e === 0 && !Bp(e) || r !== void 0 && e <= -r) && (t === void 0 || r !== void 0 && t >= r);
}
function Xs(e, t) {
  return Np(e, t, 0);
}
function pl(e, t) {
  return Np(e, t, t);
}
function Np(e, t, r) {
  return e === void 0 ? r : Bp(e) ? t === 1 / 0 ? t : Math.max(0, t + e) | 0 : t === void 0 || t === e ? e : Math.min(t, e) | 0;
}
function Bp(e) {
  return e < 0 || e === 0 && 1 / e === -1 / 0;
}
var Hp = "@@__IMMUTABLE_ITERABLE__@@";
function Lr(e) {
  return !!(e && e[Hp]);
}
var jp = "@@__IMMUTABLE_KEYED__@@";
function xt(e) {
  return !!(e && e[jp]);
}
var Up = "@@__IMMUTABLE_INDEXED__@@";
function Er(e) {
  return !!(e && e[Up]);
}
function wl(e) {
  return xt(e) || Er(e);
}
var Ft = function(t) {
  return Lr(t) ? t : Vr(t);
}, ii = /* @__PURE__ */ function(e) {
  function t(r) {
    return xt(r) ? r : Dn(r);
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t;
}(Ft), $o = /* @__PURE__ */ function(e) {
  function t(r) {
    return Er(r) ? r : vi(r);
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t;
}(Ft), xa = /* @__PURE__ */ function(e) {
  function t(r) {
    return Lr(r) && !wl(r) ? r : $a(r);
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t;
}(Ft);
Ft.Keyed = ii;
Ft.Indexed = $o;
Ft.Set = xa;
var Wp = "@@__IMMUTABLE_SEQ__@@";
function ku(e) {
  return !!(e && e[Wp]);
}
var qp = "@@__IMMUTABLE_RECORD__@@";
function _a(e) {
  return !!(e && e[qp]);
}
function Ri(e) {
  return Lr(e) || _a(e);
}
var ka = "@@__IMMUTABLE_ORDERED__@@";
function di(e) {
  return !!(e && e[ka]);
}
var Js = 0, hi = 1, Gr = 2, wd = typeof Symbol == "function" && Symbol.iterator, Qp = "@@iterator", fl = wd || Qp, Ze = function(t) {
  this.next = t;
};
Ze.prototype.toString = function() {
  return "[Iterator]";
};
Ze.KEYS = Js;
Ze.VALUES = hi;
Ze.ENTRIES = Gr;
Ze.prototype.inspect = Ze.prototype.toSource = function() {
  return this.toString();
};
Ze.prototype[fl] = function() {
  return this;
};
function _t(e, t, r, i) {
  var n = e === 0 ? t : e === 1 ? r : [t, r];
  return i ? i.value = n : i = {
    value: n,
    done: !1
  }, i;
}
function Mr() {
  return { value: void 0, done: !0 };
}
function Kp(e) {
  return Array.isArray(e) ? !0 : !!ml(e);
}
function Yh(e) {
  return e && typeof e.next == "function";
}
function fd(e) {
  var t = ml(e);
  return t && t.call(e);
}
function ml(e) {
  var t = e && (wd && e[wd] || e[Qp]);
  if (typeof t == "function")
    return t;
}
function Lv(e) {
  var t = ml(e);
  return t && t === e.entries;
}
function Mv(e) {
  var t = ml(e);
  return t && t === e.keys;
}
var Ca = Object.prototype.hasOwnProperty;
function Zp(e) {
  return Array.isArray(e) || typeof e == "string" ? !0 : e && typeof e == "object" && Number.isInteger(e.length) && e.length >= 0 && (e.length === 0 ? (
    // Only {length: 0} is considered Array-like.
    Object.keys(e).length === 1
  ) : (
    // An object is only Array-like if it has a property where the last value
    // in the array-like may be found (which could be undefined).
    e.hasOwnProperty(e.length - 1)
  ));
}
var Vr = /* @__PURE__ */ function(e) {
  function t(r) {
    return r == null ? $u() : Ri(r) ? r.toSeq() : Iv(r);
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.toSeq = function() {
    return this;
  }, t.prototype.toString = function() {
    return this.__toString("Seq {", "}");
  }, t.prototype.cacheResult = function() {
    return !this._cache && this.__iterateUncached && (this._cache = this.entrySeq().toArray(), this.size = this._cache.length), this;
  }, t.prototype.__iterate = function(i, n) {
    var o = this._cache;
    if (o) {
      for (var a = o.length, s = 0; s !== a; ) {
        var c = o[n ? a - ++s : s++];
        if (i(c[1], c[0], this) === !1)
          break;
      }
      return s;
    }
    return this.__iterateUncached(i, n);
  }, t.prototype.__iterator = function(i, n) {
    var o = this._cache;
    if (o) {
      var a = o.length, s = 0;
      return new Ze(function() {
        if (s === a)
          return Mr();
        var c = o[n ? a - ++s : s++];
        return _t(i, c[0], c[1]);
      });
    }
    return this.__iteratorUncached(i, n);
  }, t;
}(Ft), Dn = /* @__PURE__ */ function(e) {
  function t(r) {
    return r == null ? $u().toKeyedSeq() : Lr(r) ? xt(r) ? r.toSeq() : r.fromEntrySeq() : _a(r) ? r.toSeq() : Eu(r);
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.toKeyedSeq = function() {
    return this;
  }, t;
}(Vr), vi = /* @__PURE__ */ function(e) {
  function t(r) {
    return r == null ? $u() : Lr(r) ? xt(r) ? r.entrySeq() : r.toIndexedSeq() : _a(r) ? r.toSeq().entrySeq() : Yp(r);
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function() {
    return t(arguments);
  }, t.prototype.toIndexedSeq = function() {
    return this;
  }, t.prototype.toString = function() {
    return this.__toString("Seq [", "]");
  }, t;
}(Vr), $a = /* @__PURE__ */ function(e) {
  function t(r) {
    return (Lr(r) && !wl(r) ? r : vi(r)).toSetSeq();
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function() {
    return t(arguments);
  }, t.prototype.toSetSeq = function() {
    return this;
  }, t;
}(Vr);
Vr.isSeq = ku;
Vr.Keyed = Dn;
Vr.Set = $a;
Vr.Indexed = vi;
Vr.prototype[Wp] = !0;
var ho = /* @__PURE__ */ function(e) {
  function t(r) {
    this._array = r, this.size = r.length;
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.get = function(i, n) {
    return this.has(i) ? this._array[Cn(this, i)] : n;
  }, t.prototype.__iterate = function(i, n) {
    for (var o = this._array, a = o.length, s = 0; s !== a; ) {
      var c = n ? a - ++s : s++;
      if (i(o[c], c, this) === !1)
        break;
    }
    return s;
  }, t.prototype.__iterator = function(i, n) {
    var o = this._array, a = o.length, s = 0;
    return new Ze(function() {
      if (s === a)
        return Mr();
      var c = n ? a - ++s : s++;
      return _t(i, c, o[c]);
    });
  }, t;
}(vi), Cu = /* @__PURE__ */ function(e) {
  function t(r) {
    var i = Object.keys(r).concat(
      Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(r) : []
    );
    this._object = r, this._keys = i, this.size = i.length;
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.get = function(i, n) {
    return n !== void 0 && !this.has(i) ? n : this._object[i];
  }, t.prototype.has = function(i) {
    return Ca.call(this._object, i);
  }, t.prototype.__iterate = function(i, n) {
    for (var o = this._object, a = this._keys, s = a.length, c = 0; c !== s; ) {
      var l = a[n ? s - ++c : c++];
      if (i(o[l], l, this) === !1)
        break;
    }
    return c;
  }, t.prototype.__iterator = function(i, n) {
    var o = this._object, a = this._keys, s = a.length, c = 0;
    return new Ze(function() {
      if (c === s)
        return Mr();
      var l = a[n ? s - ++c : c++];
      return _t(i, l, o[l]);
    });
  }, t;
}(Dn);
Cu.prototype[ka] = !0;
var Ov = /* @__PURE__ */ function(e) {
  function t(r) {
    this._collection = r, this.size = r.length || r.size;
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.__iterateUncached = function(i, n) {
    if (n)
      return this.cacheResult().__iterate(i, n);
    var o = this._collection, a = fd(o), s = 0;
    if (Yh(a))
      for (var c; !(c = a.next()).done && i(c.value, s++, this) !== !1; )
        ;
    return s;
  }, t.prototype.__iteratorUncached = function(i, n) {
    if (n)
      return this.cacheResult().__iterator(i, n);
    var o = this._collection, a = fd(o);
    if (!Yh(a))
      return new Ze(Mr);
    var s = 0;
    return new Ze(function() {
      var c = a.next();
      return c.done ? c : _t(i, s++, c.value);
    });
  }, t;
}(vi), Gh;
function $u() {
  return Gh || (Gh = new ho([]));
}
function Eu(e) {
  var t = Su(e);
  if (t)
    return t.fromEntrySeq();
  if (typeof e == "object")
    return new Cu(e);
  throw new TypeError(
    "Expected Array or collection object of [k, v] entries, or keyed object: " + e
  );
}
function Yp(e) {
  var t = Su(e);
  if (t)
    return t;
  throw new TypeError(
    "Expected Array or collection object of values: " + e
  );
}
function Iv(e) {
  var t = Su(e);
  if (t)
    return Lv(e) ? t.fromEntrySeq() : Mv(e) ? t.toSetSeq() : t;
  if (typeof e == "object")
    return new Cu(e);
  throw new TypeError(
    "Expected Array or collection object of values, or keyed object: " + e
  );
}
function Su(e) {
  return Zp(e) ? new ho(e) : Kp(e) ? new Ov(e) : void 0;
}
var Gp = "@@__IMMUTABLE_MAP__@@";
function Pu(e) {
  return !!(e && e[Gp]);
}
function Xp(e) {
  return Pu(e) && di(e);
}
function Xh(e) {
  return !!(e && typeof e.equals == "function" && typeof e.hashCode == "function");
}
function fr(e, t) {
  if (e === t || e !== e && t !== t)
    return !0;
  if (!e || !t)
    return !1;
  if (typeof e.valueOf == "function" && typeof t.valueOf == "function") {
    if (e = e.valueOf(), t = t.valueOf(), e === t || e !== e && t !== t)
      return !0;
    if (!e || !t)
      return !1;
  }
  return !!(Xh(e) && Xh(t) && e.equals(t));
}
var Va = typeof Math.imul == "function" && Math.imul(4294967295, 2) === -2 ? Math.imul : function(t, r) {
  t |= 0, r |= 0;
  var i = t & 65535, n = r & 65535;
  return i * n + ((t >>> 16) * n + i * (r >>> 16) << 16 >>> 0) | 0;
};
function vl(e) {
  return e >>> 1 & 1073741824 | e & 3221225471;
}
var Tv = Object.prototype.valueOf;
function Fr(e) {
  if (e == null)
    return Jh(e);
  if (typeof e.hashCode == "function")
    return vl(e.hashCode(e));
  var t = Nv(e);
  if (t == null)
    return Jh(t);
  switch (typeof t) {
    case "boolean":
      return t ? 1108378657 : 1108378656;
    case "number":
      return Rv(t);
    case "string":
      return t.length > Bv ? Dv(t) : md(t);
    case "object":
    case "function":
      return zv(t);
    case "symbol":
      return Fv(t);
    default:
      if (typeof t.toString == "function")
        return md(t.toString());
      throw new Error("Value type " + typeof t + " cannot be hashed.");
  }
}
function Jh(e) {
  return e === null ? 1108378658 : (
    /* undefined */
    1108378659
  );
}
function Rv(e) {
  if (e !== e || e === 1 / 0)
    return 0;
  var t = e | 0;
  for (t !== e && (t ^= e * 4294967295); e > 4294967295; )
    e /= 4294967295, t ^= e;
  return vl(t);
}
function Dv(e) {
  var t = Wl[e];
  return t === void 0 && (t = md(e), Ul === Hv && (Ul = 0, Wl = {}), Ul++, Wl[e] = t), t;
}
function md(e) {
  for (var t = 0, r = 0; r < e.length; r++)
    t = 31 * t + e.charCodeAt(r) | 0;
  return vl(t);
}
function Fv(e) {
  var t = ry[e];
  return t !== void 0 || (t = Jp(), ry[e] = t), t;
}
function zv(e) {
  var t;
  if (vd && (t = gd.get(e), t !== void 0) || (t = e[Zn], t !== void 0) || !ty && (t = e.propertyIsEnumerable && e.propertyIsEnumerable[Zn], t !== void 0 || (t = Vv(e), t !== void 0)))
    return t;
  if (t = Jp(), vd)
    gd.set(e, t);
  else {
    if (ey !== void 0 && ey(e) === !1)
      throw new Error("Non-extensible objects are not allowed as keys.");
    if (ty)
      Object.defineProperty(e, Zn, {
        enumerable: !1,
        configurable: !1,
        writable: !1,
        value: t
      });
    else if (e.propertyIsEnumerable !== void 0 && e.propertyIsEnumerable === e.constructor.prototype.propertyIsEnumerable)
      e.propertyIsEnumerable = function() {
        return this.constructor.prototype.propertyIsEnumerable.apply(
          this,
          arguments
        );
      }, e.propertyIsEnumerable[Zn] = t;
    else if (e.nodeType !== void 0)
      e[Zn] = t;
    else
      throw new Error("Unable to set a non-enumerable property on object.");
  }
  return t;
}
var ey = Object.isExtensible, ty = function() {
  try {
    return Object.defineProperty({}, "@", {}), !0;
  } catch {
    return !1;
  }
}();
function Vv(e) {
  if (e && e.nodeType > 0)
    switch (e.nodeType) {
      case 1:
        return e.uniqueID;
      case 9:
        return e.documentElement && e.documentElement.uniqueID;
    }
}
function Nv(e) {
  return e.valueOf !== Tv && typeof e.valueOf == "function" ? e.valueOf(e) : e;
}
function Jp() {
  var e = ++jl;
  return jl & 1073741824 && (jl = 0), e;
}
var vd = typeof WeakMap == "function", gd;
vd && (gd = /* @__PURE__ */ new WeakMap());
var ry = /* @__PURE__ */ Object.create(null), jl = 0, Zn = "__immutablehash__";
typeof Symbol == "function" && (Zn = Symbol(Zn));
var Bv = 16, Hv = 255, Ul = 0, Wl = {}, gl = /* @__PURE__ */ function(e) {
  function t(r, i) {
    this._iter = r, this._useKeys = i, this.size = r.size;
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.get = function(i, n) {
    return this._iter.get(i, n);
  }, t.prototype.has = function(i) {
    return this._iter.has(i);
  }, t.prototype.valueSeq = function() {
    return this._iter.valueSeq();
  }, t.prototype.reverse = function() {
    var i = this, n = Au(this, !0);
    return this._useKeys || (n.valueSeq = function() {
      return i._iter.toSeq().reverse();
    }), n;
  }, t.prototype.map = function(i, n) {
    var o = this, a = nw(this, i, n);
    return this._useKeys || (a.valueSeq = function() {
      return o._iter.toSeq().map(i, n);
    }), a;
  }, t.prototype.__iterate = function(i, n) {
    var o = this;
    return this._iter.__iterate(function(a, s) {
      return i(a, s, o);
    }, n);
  }, t.prototype.__iterator = function(i, n) {
    return this._iter.__iterator(i, n);
  }, t;
}(Dn);
gl.prototype[ka] = !0;
var ew = /* @__PURE__ */ function(e) {
  function t(r) {
    this._iter = r, this.size = r.size;
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.includes = function(i) {
    return this._iter.includes(i);
  }, t.prototype.__iterate = function(i, n) {
    var o = this, a = 0;
    return n && ra(this), this._iter.__iterate(
      function(s) {
        return i(s, n ? o.size - ++a : a++, o);
      },
      n
    );
  }, t.prototype.__iterator = function(i, n) {
    var o = this, a = this._iter.__iterator(hi, n), s = 0;
    return n && ra(this), new Ze(function() {
      var c = a.next();
      return c.done ? c : _t(
        i,
        n ? o.size - ++s : s++,
        c.value,
        c
      );
    });
  }, t;
}(vi), tw = /* @__PURE__ */ function(e) {
  function t(r) {
    this._iter = r, this.size = r.size;
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.has = function(i) {
    return this._iter.includes(i);
  }, t.prototype.__iterate = function(i, n) {
    var o = this;
    return this._iter.__iterate(function(a) {
      return i(a, a, o);
    }, n);
  }, t.prototype.__iterator = function(i, n) {
    var o = this._iter.__iterator(hi, n);
    return new Ze(function() {
      var a = o.next();
      return a.done ? a : _t(i, a.value, a.value, a);
    });
  }, t;
}($a), rw = /* @__PURE__ */ function(e) {
  function t(r) {
    this._iter = r, this.size = r.size;
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.entrySeq = function() {
    return this._iter.toSeq();
  }, t.prototype.__iterate = function(i, n) {
    var o = this;
    return this._iter.__iterate(function(a) {
      if (a) {
        ny(a);
        var s = Lr(a);
        return i(
          s ? a.get(1) : a[1],
          s ? a.get(0) : a[0],
          o
        );
      }
    }, n);
  }, t.prototype.__iterator = function(i, n) {
    var o = this._iter.__iterator(hi, n);
    return new Ze(function() {
      for (; ; ) {
        var a = o.next();
        if (a.done)
          return a;
        var s = a.value;
        if (s) {
          ny(s);
          var c = Lr(s);
          return _t(
            i,
            c ? s.get(0) : s[0],
            c ? s.get(1) : s[1],
            a
          );
        }
      }
    });
  }, t;
}(Dn);
ew.prototype.cacheResult = gl.prototype.cacheResult = tw.prototype.cacheResult = rw.prototype.cacheResult = Ou;
function iw(e) {
  var t = Di(e);
  return t._iter = e, t.size = e.size, t.flip = function() {
    return e;
  }, t.reverse = function() {
    var r = e.reverse.apply(this);
    return r.flip = function() {
      return e.reverse();
    }, r;
  }, t.has = function(r) {
    return e.includes(r);
  }, t.includes = function(r) {
    return e.has(r);
  }, t.cacheResult = Ou, t.__iterateUncached = function(r, i) {
    var n = this;
    return e.__iterate(function(o, a) {
      return r(a, o, n) !== !1;
    }, i);
  }, t.__iteratorUncached = function(r, i) {
    if (r === Gr) {
      var n = e.__iterator(r, i);
      return new Ze(function() {
        var o = n.next();
        if (!o.done) {
          var a = o.value[0];
          o.value[0] = o.value[1], o.value[1] = a;
        }
        return o;
      });
    }
    return e.__iterator(
      r === hi ? Js : hi,
      i
    );
  }, t;
}
function nw(e, t, r) {
  var i = Di(e);
  return i.size = e.size, i.has = function(n) {
    return e.has(n);
  }, i.get = function(n, o) {
    var a = e.get(n, Be);
    return a === Be ? o : t.call(r, a, n, e);
  }, i.__iterateUncached = function(n, o) {
    var a = this;
    return e.__iterate(
      function(s, c, l) {
        return n(t.call(r, s, c, l), c, a) !== !1;
      },
      o
    );
  }, i.__iteratorUncached = function(n, o) {
    var a = e.__iterator(Gr, o);
    return new Ze(function() {
      var s = a.next();
      if (s.done)
        return s;
      var c = s.value, l = c[0];
      return _t(
        n,
        l,
        t.call(r, c[1], l, e),
        s
      );
    });
  }, i;
}
function Au(e, t) {
  var r = this, i = Di(e);
  return i._iter = e, i.size = e.size, i.reverse = function() {
    return e;
  }, e.flip && (i.flip = function() {
    var n = iw(e);
    return n.reverse = function() {
      return e.flip();
    }, n;
  }), i.get = function(n, o) {
    return e.get(t ? n : -1 - n, o);
  }, i.has = function(n) {
    return e.has(t ? n : -1 - n);
  }, i.includes = function(n) {
    return e.includes(n);
  }, i.cacheResult = Ou, i.__iterate = function(n, o) {
    var a = this, s = 0;
    return o && ra(e), e.__iterate(
      function(c, l) {
        return n(c, t ? l : o ? a.size - ++s : s++, a);
      },
      !o
    );
  }, i.__iterator = function(n, o) {
    var a = 0;
    o && ra(e);
    var s = e.__iterator(Gr, !o);
    return new Ze(function() {
      var c = s.next();
      if (c.done)
        return c;
      var l = c.value;
      return _t(
        n,
        t ? l[0] : o ? r.size - ++a : a++,
        l[1],
        c
      );
    });
  }, i;
}
function ow(e, t, r, i) {
  var n = Di(e);
  return i && (n.has = function(o) {
    var a = e.get(o, Be);
    return a !== Be && !!t.call(r, a, o, e);
  }, n.get = function(o, a) {
    var s = e.get(o, Be);
    return s !== Be && t.call(r, s, o, e) ? s : a;
  }), n.__iterateUncached = function(o, a) {
    var s = this, c = 0;
    return e.__iterate(function(l, d, h) {
      if (t.call(r, l, d, h))
        return c++, o(l, i ? d : c - 1, s);
    }, a), c;
  }, n.__iteratorUncached = function(o, a) {
    var s = e.__iterator(Gr, a), c = 0;
    return new Ze(function() {
      for (; ; ) {
        var l = s.next();
        if (l.done)
          return l;
        var d = l.value, h = d[0], y = d[1];
        if (t.call(r, y, h, e))
          return _t(o, i ? h : c++, y, l);
      }
    });
  }, n;
}
function jv(e, t, r) {
  var i = Ai().asMutable();
  return e.__iterate(function(n, o) {
    i.update(t.call(r, n, o, e), 0, function(a) {
      return a + 1;
    });
  }), i.asImmutable();
}
function Uv(e, t, r) {
  var i = xt(e), n = (di(e) ? Zi() : Ai()).asMutable();
  e.__iterate(function(a, s) {
    n.update(
      t.call(r, a, s, e),
      function(c) {
        return c = c || [], c.push(i ? [s, a] : a), c;
      }
    );
  });
  var o = Mu(e);
  return n.map(function(a) {
    return nt(e, o(a));
  }).asImmutable();
}
function Wv(e, t, r) {
  var i = xt(e), n = [[], []];
  e.__iterate(function(a, s) {
    n[t.call(r, a, s, e) ? 1 : 0].push(
      i ? [s, a] : a
    );
  });
  var o = Mu(e);
  return n.map(function(a) {
    return nt(e, o(a));
  });
}
function Lu(e, t, r, i) {
  var n = e.size;
  if (yl(t, r, n))
    return e;
  var o = Xs(t, n), a = pl(r, n);
  if (o !== o || a !== a)
    return Lu(e.toSeq().cacheResult(), t, r, i);
  var s = a - o, c;
  s === s && (c = s < 0 ? 0 : s);
  var l = Di(e);
  return l.size = c === 0 ? c : e.size && c || void 0, !i && ku(e) && c >= 0 && (l.get = function(d, h) {
    return d = Cn(this, d), d >= 0 && d < c ? e.get(d + o, h) : h;
  }), l.__iterateUncached = function(d, h) {
    var y = this;
    if (c === 0)
      return 0;
    if (h)
      return this.cacheResult().__iterate(d, h);
    var w = 0, b = !0, C = 0;
    return e.__iterate(function(E, A) {
      if (!(b && (b = w++ < o)))
        return C++, d(E, i ? A : C - 1, y) !== !1 && C !== c;
    }), C;
  }, l.__iteratorUncached = function(d, h) {
    if (c !== 0 && h)
      return this.cacheResult().__iterator(d, h);
    if (c === 0)
      return new Ze(Mr);
    var y = e.__iterator(d, h), w = 0, b = 0;
    return new Ze(function() {
      for (; w++ < o; )
        y.next();
      if (++b > c)
        return Mr();
      var C = y.next();
      return i || d === hi || C.done ? C : d === Js ? _t(d, b - 1, void 0, C) : _t(d, b - 1, C.value[1], C);
    });
  }, l;
}
function qv(e, t, r) {
  var i = Di(e);
  return i.__iterateUncached = function(n, o) {
    var a = this;
    if (o)
      return this.cacheResult().__iterate(n, o);
    var s = 0;
    return e.__iterate(
      function(c, l, d) {
        return t.call(r, c, l, d) && ++s && n(c, l, a);
      }
    ), s;
  }, i.__iteratorUncached = function(n, o) {
    var a = this;
    if (o)
      return this.cacheResult().__iterator(n, o);
    var s = e.__iterator(Gr, o), c = !0;
    return new Ze(function() {
      if (!c)
        return Mr();
      var l = s.next();
      if (l.done)
        return l;
      var d = l.value, h = d[0], y = d[1];
      return t.call(r, y, h, a) ? n === Gr ? l : _t(n, h, y, l) : (c = !1, Mr());
    });
  }, i;
}
function aw(e, t, r, i) {
  var n = Di(e);
  return n.__iterateUncached = function(o, a) {
    var s = this;
    if (a)
      return this.cacheResult().__iterate(o, a);
    var c = !0, l = 0;
    return e.__iterate(function(d, h, y) {
      if (!(c && (c = t.call(r, d, h, y))))
        return l++, o(d, i ? h : l - 1, s);
    }), l;
  }, n.__iteratorUncached = function(o, a) {
    var s = this;
    if (a)
      return this.cacheResult().__iterator(o, a);
    var c = e.__iterator(Gr, a), l = !0, d = 0;
    return new Ze(function() {
      var h, y, w;
      do {
        if (h = c.next(), h.done)
          return i || o === hi ? h : o === Js ? _t(o, d++, void 0, h) : _t(o, d++, h.value[1], h);
        var b = h.value;
        y = b[0], w = b[1], l && (l = t.call(r, w, y, s));
      } while (l);
      return o === Gr ? h : _t(o, y, w, h);
    });
  }, n;
}
function Qv(e, t) {
  var r = xt(e), i = [e].concat(t).map(function(a) {
    return Lr(a) ? r && (a = ii(a)) : a = r ? Eu(a) : Yp(Array.isArray(a) ? a : [a]), a;
  }).filter(function(a) {
    return a.size !== 0;
  });
  if (i.length === 0)
    return e;
  if (i.length === 1) {
    var n = i[0];
    if (n === e || r && xt(n) || Er(e) && Er(n))
      return n;
  }
  var o = new ho(i);
  return r ? o = o.toKeyedSeq() : Er(e) || (o = o.toSetSeq()), o = o.flatten(!0), o.size = i.reduce(function(a, s) {
    if (a !== void 0) {
      var c = s.size;
      if (c !== void 0)
        return a + c;
    }
  }, 0), o;
}
function sw(e, t, r) {
  var i = Di(e);
  return i.__iterateUncached = function(n, o) {
    if (o)
      return this.cacheResult().__iterate(n, o);
    var a = 0, s = !1;
    function c(l, d) {
      l.__iterate(function(h, y) {
        return (!t || d < t) && Lr(h) ? c(h, d + 1) : (a++, n(h, r ? y : a - 1, i) === !1 && (s = !0)), !s;
      }, o);
    }
    return c(e, 0), a;
  }, i.__iteratorUncached = function(n, o) {
    if (o)
      return this.cacheResult().__iterator(n, o);
    var a = e.__iterator(n, o), s = [], c = 0;
    return new Ze(function() {
      for (; a; ) {
        var l = a.next();
        if (l.done !== !1) {
          a = s.pop();
          continue;
        }
        var d = l.value;
        if (n === Gr && (d = d[1]), (!t || s.length < t) && Lr(d))
          s.push(a), a = d.__iterator(n, o);
        else
          return r ? l : _t(n, c++, d, l);
      }
      return Mr();
    });
  }, i;
}
function Kv(e, t, r) {
  var i = Mu(e);
  return e.toSeq().map(function(n, o) {
    return i(t.call(r, n, o, e));
  }).flatten(!0);
}
function Zv(e, t) {
  var r = Di(e);
  return r.size = e.size && e.size * 2 - 1, r.__iterateUncached = function(i, n) {
    var o = this, a = 0;
    return e.__iterate(
      function(s) {
        return (!a || i(t, a++, o) !== !1) && i(s, a++, o) !== !1;
      },
      n
    ), a;
  }, r.__iteratorUncached = function(i, n) {
    var o = e.__iterator(hi, n), a = 0, s;
    return new Ze(function() {
      return (!s || a % 2) && (s = o.next(), s.done) ? s : a % 2 ? _t(i, a++, t) : _t(i, a++, s.value, s);
    });
  }, r;
}
function ia(e, t, r) {
  t || (t = cw);
  var i = xt(e), n = 0, o = e.toSeq().map(function(a, s) {
    return [s, a, n++, r ? r(a, s, e) : a];
  }).valueSeq().toArray();
  return o.sort(function(a, s) {
    return t(a[3], s[3]) || a[2] - s[2];
  }).forEach(
    i ? function(a, s) {
      o[s].length = 2;
    } : function(a, s) {
      o[s] = a[1];
    }
  ), i ? Dn(o) : Er(e) ? vi(o) : $a(o);
}
function gc(e, t, r) {
  if (t || (t = cw), r) {
    var i = e.toSeq().map(function(n, o) {
      return [n, r(n, o, e)];
    }).reduce(function(n, o) {
      return iy(t, n[1], o[1]) ? o : n;
    });
    return i && i[0];
  }
  return e.reduce(function(n, o) {
    return iy(t, n, o) ? o : n;
  });
}
function iy(e, t, r) {
  var i = e(r, t);
  return i === 0 && r !== t && (r == null || r !== r) || i > 0;
}
function bc(e, t, r, i) {
  var n = Di(e), o = new ho(r).map(function(a) {
    return a.size;
  });
  return n.size = i ? o.max() : o.min(), n.__iterate = function(a, s) {
    for (var c = this.__iterator(hi, s), l, d = 0; !(l = c.next()).done && a(l.value, d++, this) !== !1; )
      ;
    return d;
  }, n.__iteratorUncached = function(a, s) {
    var c = r.map(
      function(h) {
        return h = Ft(h), fd(s ? h.reverse() : h);
      }
    ), l = 0, d = !1;
    return new Ze(function() {
      var h;
      return d || (h = c.map(function(y) {
        return y.next();
      }), d = i ? h.every(function(y) {
        return y.done;
      }) : h.some(function(y) {
        return y.done;
      })), d ? Mr() : _t(
        a,
        l++,
        t.apply(
          null,
          h.map(function(y) {
            return y.value;
          })
        )
      );
    });
  }, n;
}
function nt(e, t) {
  return e === t ? e : ku(e) ? t : e.constructor(t);
}
function ny(e) {
  if (e !== Object(e))
    throw new TypeError("Expected [K, V] tuple: " + e);
}
function Mu(e) {
  return xt(e) ? ii : Er(e) ? $o : xa;
}
function Di(e) {
  return Object.create(
    (xt(e) ? Dn : Er(e) ? vi : $a).prototype
  );
}
function Ou() {
  return this._iter.cacheResult ? (this._iter.cacheResult(), this.size = this._iter.size, this) : Vr.prototype.cacheResult.call(this);
}
function cw(e, t) {
  return e === void 0 && t === void 0 ? 0 : e === void 0 ? 1 : t === void 0 ? -1 : e > t ? 1 : e < t ? -1 : 0;
}
function Ei(e, t) {
  t = t || 0;
  for (var r = Math.max(0, e.length - t), i = new Array(r), n = 0; n < r; n++)
    i[n] = e[n + t];
  return i;
}
function Iu(e, t) {
  if (!e)
    throw new Error(t);
}
function zr(e) {
  Iu(
    e !== 1 / 0,
    "Cannot perform this action with an infinite size."
  );
}
function lw(e) {
  if (Zp(e) && typeof e != "string")
    return e;
  if (di(e))
    return e.toArray();
  throw new TypeError(
    "Invalid keyPath: expected Ordered Collection or Array: " + e
  );
}
var Yv = Object.prototype.toString;
function Gv(e) {
  if (!e || typeof e != "object" || Yv.call(e) !== "[object Object]")
    return !1;
  var t = Object.getPrototypeOf(e);
  if (t === null)
    return !0;
  for (var r = t, i = Object.getPrototypeOf(t); i !== null; )
    r = i, i = Object.getPrototypeOf(r);
  return r === t;
}
function $n(e) {
  return typeof e == "object" && (Ri(e) || Array.isArray(e) || Gv(e));
}
function ps(e) {
  try {
    return typeof e == "string" ? JSON.stringify(e) : String(e);
  } catch {
    return JSON.stringify(e);
  }
}
function Xv(e, t) {
  return Ri(e) ? e.has(t) : $n(e) && Ca.call(e, t);
}
function dw(e, t, r) {
  return Ri(e) ? e.get(t, r) : Xv(e, t) ? typeof e.get == "function" ? e.get(t) : e[t] : r;
}
function Kc(e) {
  if (Array.isArray(e))
    return Ei(e);
  var t = {};
  for (var r in e)
    Ca.call(e, r) && (t[r] = e[r]);
  return t;
}
function Jv(e, t) {
  if (!$n(e))
    throw new TypeError(
      "Cannot update non-data-structure value: " + e
    );
  if (Ri(e)) {
    if (!e.remove)
      throw new TypeError(
        "Cannot update immutable value without .remove() method: " + e
      );
    return e.remove(t);
  }
  if (!Ca.call(e, t))
    return e;
  var r = Kc(e);
  return Array.isArray(r) ? r.splice(t, 1) : delete r[t], r;
}
function eg(e, t, r) {
  if (!$n(e))
    throw new TypeError(
      "Cannot update non-data-structure value: " + e
    );
  if (Ri(e)) {
    if (!e.set)
      throw new TypeError(
        "Cannot update immutable value without .set() method: " + e
      );
    return e.set(t, r);
  }
  if (Ca.call(e, t) && r === e[t])
    return e;
  var i = Kc(e);
  return i[t] = r, i;
}
function Ea(e, t, r, i) {
  i || (i = r, r = void 0);
  var n = uw(
    Ri(e),
    e,
    lw(t),
    0,
    r,
    i
  );
  return n === Be ? r : n;
}
function uw(e, t, r, i, n, o) {
  var a = t === Be;
  if (i === r.length) {
    var s = a ? n : t, c = o(s);
    return c === s ? t : c;
  }
  if (!a && !$n(t))
    throw new TypeError(
      "Cannot update within non-data-structure value in path [" + r.slice(0, i).map(ps) + "]: " + t
    );
  var l = r[i], d = a ? Be : dw(t, l, Be), h = uw(
    d === Be ? e : Ri(d),
    d,
    r,
    i + 1,
    n,
    o
  );
  return h === d ? t : h === Be ? Jv(t, l) : eg(
    a ? e ? ci() : {} : t,
    l,
    h
  );
}
function tg(e, t, r) {
  return Ea(e, t, Be, function() {
    return r;
  });
}
function Tu(e, t) {
  return tg(this, e, t);
}
function rg(e, t) {
  return Ea(e, t, function() {
    return Be;
  });
}
function Ru(e) {
  return rg(this, e);
}
function hw(e, t, r, i) {
  return Ea(e, [t], r, i);
}
function Du(e, t, r) {
  return arguments.length === 1 ? e(this) : hw(this, e, t, r);
}
function Fu(e, t, r) {
  return Ea(this, e, t, r);
}
function yw() {
  for (var e = [], t = arguments.length; t--; )
    e[t] = arguments[t];
  return ww(this, e);
}
function pw(e) {
  for (var t = [], r = arguments.length - 1; r-- > 0; )
    t[r] = arguments[r + 1];
  if (typeof e != "function")
    throw new TypeError("Invalid merger function: " + e);
  return ww(this, t, e);
}
function ww(e, t, r) {
  for (var i = [], n = 0; n < t.length; n++) {
    var o = ii(t[n]);
    o.size !== 0 && i.push(o);
  }
  return i.length === 0 ? e : e.toSeq().size === 0 && !e.__ownerID && i.length === 1 ? e.constructor(i[0]) : e.withMutations(function(a) {
    for (var s = r ? function(l, d) {
      hw(
        a,
        d,
        Be,
        function(h) {
          return h === Be ? l : r(h, l, d);
        }
      );
    } : function(l, d) {
      a.set(d, l);
    }, c = 0; c < i.length; c++)
      i[c].forEach(s);
  });
}
function zu(e, t, r) {
  return Vu(e, t, ig(r));
}
function Vu(e, t, r) {
  if (!$n(e))
    throw new TypeError(
      "Cannot merge into non-data-structure value: " + e
    );
  if (Ri(e))
    return typeof r == "function" && e.mergeWith ? e.mergeWith.apply(e, [r].concat(t)) : e.merge ? e.merge.apply(e, t) : e.concat.apply(e, t);
  for (var i = Array.isArray(e), n = e, o = i ? $o : ii, a = i ? function(c) {
    n === e && (n = Kc(n)), n.push(c);
  } : function(c, l) {
    var d = Ca.call(n, l), h = d && r ? r(n[l], c, l) : c;
    (!d || h !== n[l]) && (n === e && (n = Kc(n)), n[l] = h);
  }, s = 0; s < t.length; s++)
    o(t[s]).forEach(a);
  return n;
}
function ig(e) {
  function t(r, i, n) {
    return $n(r) && $n(i) && ng(r, i) ? Vu(r, [i], t) : e ? e(r, i, n) : i;
  }
  return t;
}
function ng(e, t) {
  var r = Vr(e), i = Vr(t);
  return Er(r) === Er(i) && xt(r) === xt(i);
}
function fw() {
  for (var e = [], t = arguments.length; t--; )
    e[t] = arguments[t];
  return zu(this, e);
}
function mw(e) {
  for (var t = [], r = arguments.length - 1; r-- > 0; )
    t[r] = arguments[r + 1];
  return zu(this, t, e);
}
function Nu(e) {
  for (var t = [], r = arguments.length - 1; r-- > 0; )
    t[r] = arguments[r + 1];
  return Ea(this, e, ci(), function(i) {
    return Vu(i, t);
  });
}
function Bu(e) {
  for (var t = [], r = arguments.length - 1; r-- > 0; )
    t[r] = arguments[r + 1];
  return Ea(
    this,
    e,
    ci(),
    function(i) {
      return zu(i, t);
    }
  );
}
function ec(e) {
  var t = this.asMutable();
  return e(t), t.wasAltered() ? t.__ensureOwner(this.__ownerID) : this;
}
function tc() {
  return this.__ownerID ? this : this.__ensureOwner(new _u());
}
function rc() {
  return this.__ensureOwner();
}
function Hu() {
  return this.__altered;
}
var Ai = /* @__PURE__ */ function(e) {
  function t(r) {
    return r == null ? ci() : Pu(r) && !di(r) ? r : ci().withMutations(function(i) {
      var n = e(r);
      zr(n.size), n.forEach(function(o, a) {
        return i.set(a, o);
      });
    });
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function() {
    for (var i = [], n = arguments.length; n--; )
      i[n] = arguments[n];
    return ci().withMutations(function(o) {
      for (var a = 0; a < i.length; a += 2) {
        if (a + 1 >= i.length)
          throw new Error("Missing value for key: " + i[a]);
        o.set(i[a], i[a + 1]);
      }
    });
  }, t.prototype.toString = function() {
    return this.__toString("Map {", "}");
  }, t.prototype.get = function(i, n) {
    return this._root ? this._root.get(0, void 0, i, n) : n;
  }, t.prototype.set = function(i, n) {
    return sy(this, i, n);
  }, t.prototype.remove = function(i) {
    return sy(this, i, Be);
  }, t.prototype.deleteAll = function(i) {
    var n = Ft(i);
    return n.size === 0 ? this : this.withMutations(function(o) {
      n.forEach(function(a) {
        return o.remove(a);
      });
    });
  }, t.prototype.clear = function() {
    return this.size === 0 ? this : this.__ownerID ? (this.size = 0, this._root = null, this.__hash = void 0, this.__altered = !0, this) : ci();
  }, t.prototype.sort = function(i) {
    return Zi(ia(this, i));
  }, t.prototype.sortBy = function(i, n) {
    return Zi(ia(this, n, i));
  }, t.prototype.map = function(i, n) {
    var o = this;
    return this.withMutations(function(a) {
      a.forEach(function(s, c) {
        a.set(c, i.call(n, s, c, o));
      });
    });
  }, t.prototype.__iterator = function(i, n) {
    return new og(this, i, n);
  }, t.prototype.__iterate = function(i, n) {
    var o = this, a = 0;
    return this._root && this._root.iterate(function(s) {
      return a++, i(s[1], s[0], o);
    }, n), a;
  }, t.prototype.__ensureOwner = function(i) {
    return i === this.__ownerID ? this : i ? ju(this.size, this._root, i, this.__hash) : this.size === 0 ? ci() : (this.__ownerID = i, this.__altered = !1, this);
  }, t;
}(ii);
Ai.isMap = Pu;
var vt = Ai.prototype;
vt[Gp] = !0;
vt[Gs] = vt.remove;
vt.removeAll = vt.deleteAll;
vt.setIn = Tu;
vt.removeIn = vt.deleteIn = Ru;
vt.update = Du;
vt.updateIn = Fu;
vt.merge = vt.concat = yw;
vt.mergeWith = pw;
vt.mergeDeep = fw;
vt.mergeDeepWith = mw;
vt.mergeIn = Nu;
vt.mergeDeepIn = Bu;
vt.withMutations = ec;
vt.wasAltered = Hu;
vt.asImmutable = rc;
vt["@@transducer/init"] = vt.asMutable = tc;
vt["@@transducer/step"] = function(e, t) {
  return e.set(t[0], t[1]);
};
vt["@@transducer/result"] = function(e) {
  return e.asImmutable();
};
var ws = function(t, r) {
  this.ownerID = t, this.entries = r;
};
ws.prototype.get = function(t, r, i, n) {
  for (var o = this.entries, a = 0, s = o.length; a < s; a++)
    if (fr(i, o[a][0]))
      return o[a][1];
  return n;
};
ws.prototype.update = function(t, r, i, n, o, a, s) {
  for (var c = o === Be, l = this.entries, d = 0, h = l.length; d < h && !fr(n, l[d][0]); d++)
    ;
  var y = d < h;
  if (y ? l[d][1] === o : c)
    return this;
  if (Kr(s), (c || !y) && Kr(a), !(c && l.length === 1)) {
    if (!y && !c && l.length >= ug)
      return ag(t, l, n, o);
    var w = t && t === this.ownerID, b = w ? l : Ei(l);
    return y ? c ? d === h - 1 ? b.pop() : b[d] = b.pop() : b[d] = [n, o] : b.push([n, o]), w ? (this.entries = b, this) : new ws(t, b);
  }
};
var na = function(t, r, i) {
  this.ownerID = t, this.bitmap = r, this.nodes = i;
};
na.prototype.get = function(t, r, i, n) {
  r === void 0 && (r = Fr(i));
  var o = 1 << ((t === 0 ? r : r >>> t) & wr), a = this.bitmap;
  return a & o ? this.nodes[vw(a & o - 1)].get(
    t + mt,
    r,
    i,
    n
  ) : n;
};
na.prototype.update = function(t, r, i, n, o, a, s) {
  i === void 0 && (i = Fr(n));
  var c = (r === 0 ? i : i >>> r) & wr, l = 1 << c, d = this.bitmap, h = (d & l) !== 0;
  if (!h && o === Be)
    return this;
  var y = vw(d & l - 1), w = this.nodes, b = h ? w[y] : void 0, C = Uu(
    b,
    t,
    r + mt,
    i,
    n,
    o,
    a,
    s
  );
  if (C === b)
    return this;
  if (!h && C && w.length >= hg)
    return cg(t, w, d, c, C);
  if (h && !C && w.length === 2 && cy(w[y ^ 1]))
    return w[y ^ 1];
  if (h && C && w.length === 1 && cy(C))
    return C;
  var E = t && t === this.ownerID, A = h ? C ? d : d ^ l : d | l, _ = h ? C ? gw(w, y, C, E) : dg(w, y, E) : lg(w, y, C, E);
  return E ? (this.bitmap = A, this.nodes = _, this) : new na(t, A, _);
};
var fs = function(t, r, i) {
  this.ownerID = t, this.count = r, this.nodes = i;
};
fs.prototype.get = function(t, r, i, n) {
  r === void 0 && (r = Fr(i));
  var o = (t === 0 ? r : r >>> t) & wr, a = this.nodes[o];
  return a ? a.get(t + mt, r, i, n) : n;
};
fs.prototype.update = function(t, r, i, n, o, a, s) {
  i === void 0 && (i = Fr(n));
  var c = (r === 0 ? i : i >>> r) & wr, l = o === Be, d = this.nodes, h = d[c];
  if (l && !h)
    return this;
  var y = Uu(
    h,
    t,
    r + mt,
    i,
    n,
    o,
    a,
    s
  );
  if (y === h)
    return this;
  var w = this.count;
  if (!h)
    w++;
  else if (!y && (w--, w < yg))
    return sg(t, d, w, c);
  var b = t && t === this.ownerID, C = gw(d, c, y, b);
  return b ? (this.count = w, this.nodes = C, this) : new fs(t, w, C);
};
var oa = function(t, r, i) {
  this.ownerID = t, this.keyHash = r, this.entries = i;
};
oa.prototype.get = function(t, r, i, n) {
  for (var o = this.entries, a = 0, s = o.length; a < s; a++)
    if (fr(i, o[a][0]))
      return o[a][1];
  return n;
};
oa.prototype.update = function(t, r, i, n, o, a, s) {
  i === void 0 && (i = Fr(n));
  var c = o === Be;
  if (i !== this.keyHash)
    return c ? this : (Kr(s), Kr(a), Wu(this, t, r, i, [n, o]));
  for (var l = this.entries, d = 0, h = l.length; d < h && !fr(n, l[d][0]); d++)
    ;
  var y = d < h;
  if (y ? l[d][1] === o : c)
    return this;
  if (Kr(s), (c || !y) && Kr(a), c && h === 2)
    return new Ki(t, this.keyHash, l[d ^ 1]);
  var w = t && t === this.ownerID, b = w ? l : Ei(l);
  return y ? c ? d === h - 1 ? b.pop() : b[d] = b.pop() : b[d] = [n, o] : b.push([n, o]), w ? (this.entries = b, this) : new oa(t, this.keyHash, b);
};
var Ki = function(t, r, i) {
  this.ownerID = t, this.keyHash = r, this.entry = i;
};
Ki.prototype.get = function(t, r, i, n) {
  return fr(i, this.entry[0]) ? this.entry[1] : n;
};
Ki.prototype.update = function(t, r, i, n, o, a, s) {
  var c = o === Be, l = fr(n, this.entry[0]);
  if (l ? o === this.entry[1] : c)
    return this;
  if (Kr(s), c) {
    Kr(a);
    return;
  }
  return l ? t && t === this.ownerID ? (this.entry[1] = o, this) : new Ki(t, this.keyHash, [n, o]) : (Kr(a), Wu(this, t, r, Fr(n), [n, o]));
};
ws.prototype.iterate = oa.prototype.iterate = function(e, t) {
  for (var r = this.entries, i = 0, n = r.length - 1; i <= n; i++)
    if (e(r[t ? n - i : i]) === !1)
      return !1;
};
na.prototype.iterate = fs.prototype.iterate = function(e, t) {
  for (var r = this.nodes, i = 0, n = r.length - 1; i <= n; i++) {
    var o = r[t ? n - i : i];
    if (o && o.iterate(e, t) === !1)
      return !1;
  }
};
Ki.prototype.iterate = function(e, t) {
  return e(this.entry);
};
var og = /* @__PURE__ */ function(e) {
  function t(r, i, n) {
    this._type = i, this._reverse = n, this._stack = r._root && oy(r._root);
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.next = function() {
    for (var i = this._type, n = this._stack; n; ) {
      var o = n.node, a = n.index++, s = void 0;
      if (o.entry) {
        if (a === 0)
          return ql(i, o.entry);
      } else if (o.entries) {
        if (s = o.entries.length - 1, a <= s)
          return ql(
            i,
            o.entries[this._reverse ? s - a : a]
          );
      } else if (s = o.nodes.length - 1, a <= s) {
        var c = o.nodes[this._reverse ? s - a : a];
        if (c) {
          if (c.entry)
            return ql(i, c.entry);
          n = this._stack = oy(c, n);
        }
        continue;
      }
      n = this._stack = this._stack.__prev;
    }
    return Mr();
  }, t;
}(Ze);
function ql(e, t) {
  return _t(e, t[0], t[1]);
}
function oy(e, t) {
  return {
    node: e,
    index: 0,
    __prev: t
  };
}
function ju(e, t, r, i) {
  var n = Object.create(vt);
  return n.size = e, n._root = t, n.__ownerID = r, n.__hash = i, n.__altered = !1, n;
}
var ay;
function ci() {
  return ay || (ay = ju(0));
}
function sy(e, t, r) {
  var i, n;
  if (e._root) {
    var o = pd(), a = pd();
    if (i = Uu(
      e._root,
      e.__ownerID,
      0,
      void 0,
      t,
      r,
      o,
      a
    ), !a.value)
      return e;
    n = e.size + (o.value ? r === Be ? -1 : 1 : 0);
  } else {
    if (r === Be)
      return e;
    n = 1, i = new ws(e.__ownerID, [[t, r]]);
  }
  return e.__ownerID ? (e.size = n, e._root = i, e.__hash = void 0, e.__altered = !0, e) : i ? ju(n, i) : ci();
}
function Uu(e, t, r, i, n, o, a, s) {
  return e ? e.update(
    t,
    r,
    i,
    n,
    o,
    a,
    s
  ) : o === Be ? e : (Kr(s), Kr(a), new Ki(t, i, [n, o]));
}
function cy(e) {
  return e.constructor === Ki || e.constructor === oa;
}
function Wu(e, t, r, i, n) {
  if (e.keyHash === i)
    return new oa(t, i, [e.entry, n]);
  var o = (r === 0 ? e.keyHash : e.keyHash >>> r) & wr, a = (r === 0 ? i : i >>> r) & wr, s, c = o === a ? [Wu(e, t, r + mt, i, n)] : (s = new Ki(t, i, n), o < a ? [e, s] : [s, e]);
  return new na(t, 1 << o | 1 << a, c);
}
function ag(e, t, r, i) {
  e || (e = new _u());
  for (var n = new Ki(e, Fr(r), [r, i]), o = 0; o < t.length; o++) {
    var a = t[o];
    n = n.update(e, 0, void 0, a[0], a[1]);
  }
  return n;
}
function sg(e, t, r, i) {
  for (var n = 0, o = 0, a = new Array(r), s = 0, c = 1, l = t.length; s < l; s++, c <<= 1) {
    var d = t[s];
    d !== void 0 && s !== i && (n |= c, a[o++] = d);
  }
  return new na(e, n, a);
}
function cg(e, t, r, i, n) {
  for (var o = 0, a = new Array(Qr), s = 0; r !== 0; s++, r >>>= 1)
    a[s] = r & 1 ? t[o++] : void 0;
  return a[i] = n, new fs(e, o + 1, a);
}
function vw(e) {
  return e -= e >> 1 & 1431655765, e = (e & 858993459) + (e >> 2 & 858993459), e = e + (e >> 4) & 252645135, e += e >> 8, e += e >> 16, e & 127;
}
function gw(e, t, r, i) {
  var n = i ? e : Ei(e);
  return n[t] = r, n;
}
function lg(e, t, r, i) {
  var n = e.length + 1;
  if (i && t + 1 === n)
    return e[t] = r, e;
  for (var o = new Array(n), a = 0, s = 0; s < n; s++)
    s === t ? (o[s] = r, a = -1) : o[s] = e[s + a];
  return o;
}
function dg(e, t, r) {
  var i = e.length - 1;
  if (r && t === i)
    return e.pop(), e;
  for (var n = new Array(i), o = 0, a = 0; a < i; a++)
    a === t && (o = 1), n[a] = e[a + o];
  return n;
}
var ug = Qr / 4, hg = Qr / 2, yg = Qr / 4, bw = "@@__IMMUTABLE_LIST__@@";
function xw(e) {
  return !!(e && e[bw]);
}
var En = /* @__PURE__ */ function(e) {
  function t(r) {
    var i = Sc();
    if (r == null)
      return i;
    if (xw(r))
      return r;
    var n = e(r), o = n.size;
    return o === 0 ? i : (zr(o), o > 0 && o < Qr ? ms(0, o, mt, null, new _n(n.toArray())) : i.withMutations(function(a) {
      a.setSize(o), n.forEach(function(s, c) {
        return a.set(c, s);
      });
    }));
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function() {
    return this(arguments);
  }, t.prototype.toString = function() {
    return this.__toString("List [", "]");
  }, t.prototype.get = function(i, n) {
    if (i = Cn(this, i), i >= 0 && i < this.size) {
      i += this._origin;
      var o = _w(this, i);
      return o && o.array[i & wr];
    }
    return n;
  }, t.prototype.set = function(i, n) {
    return pg(this, i, n);
  }, t.prototype.remove = function(i) {
    return this.has(i) ? i === 0 ? this.shift() : i === this.size - 1 ? this.pop() : this.splice(i, 1) : this;
  }, t.prototype.insert = function(i, n) {
    return this.splice(i, 0, n);
  }, t.prototype.clear = function() {
    return this.size === 0 ? this : this.__ownerID ? (this.size = this._origin = this._capacity = 0, this._level = mt, this._root = this._tail = this.__hash = void 0, this.__altered = !0, this) : Sc();
  }, t.prototype.push = function() {
    var i = arguments, n = this.size;
    return this.withMutations(function(o) {
      ln(o, 0, n + i.length);
      for (var a = 0; a < i.length; a++)
        o.set(n + a, i[a]);
    });
  }, t.prototype.pop = function() {
    return ln(this, 0, -1);
  }, t.prototype.unshift = function() {
    var i = arguments;
    return this.withMutations(function(n) {
      ln(n, -i.length);
      for (var o = 0; o < i.length; o++)
        n.set(o, i[o]);
    });
  }, t.prototype.shift = function() {
    return ln(this, 1);
  }, t.prototype.concat = function() {
    for (var i = arguments, n = [], o = 0; o < arguments.length; o++) {
      var a = i[o], s = e(
        typeof a != "string" && Kp(a) ? a : [a]
      );
      s.size !== 0 && n.push(s);
    }
    return n.length === 0 ? this : this.size === 0 && !this.__ownerID && n.length === 1 ? this.constructor(n[0]) : this.withMutations(function(c) {
      n.forEach(function(l) {
        return l.forEach(function(d) {
          return c.push(d);
        });
      });
    });
  }, t.prototype.setSize = function(i) {
    return ln(this, 0, i);
  }, t.prototype.map = function(i, n) {
    var o = this;
    return this.withMutations(function(a) {
      for (var s = 0; s < o.size; s++)
        a.set(s, i.call(n, a.get(s), s, o));
    });
  }, t.prototype.slice = function(i, n) {
    var o = this.size;
    return yl(i, n, o) ? this : ln(
      this,
      Xs(i, o),
      pl(n, o)
    );
  }, t.prototype.__iterator = function(i, n) {
    var o = n ? this.size : 0, a = ly(this, n);
    return new Ze(function() {
      var s = a();
      return s === ns ? Mr() : _t(i, n ? --o : o++, s);
    });
  }, t.prototype.__iterate = function(i, n) {
    for (var o = n ? this.size : 0, a = ly(this, n), s; (s = a()) !== ns && i(s, n ? --o : o++, this) !== !1; )
      ;
    return o;
  }, t.prototype.__ensureOwner = function(i) {
    return i === this.__ownerID ? this : i ? ms(
      this._origin,
      this._capacity,
      this._level,
      this._root,
      this._tail,
      i,
      this.__hash
    ) : this.size === 0 ? Sc() : (this.__ownerID = i, this.__altered = !1, this);
  }, t;
}($o);
En.isList = xw;
var Ht = En.prototype;
Ht[bw] = !0;
Ht[Gs] = Ht.remove;
Ht.merge = Ht.concat;
Ht.setIn = Tu;
Ht.deleteIn = Ht.removeIn = Ru;
Ht.update = Du;
Ht.updateIn = Fu;
Ht.mergeIn = Nu;
Ht.mergeDeepIn = Bu;
Ht.withMutations = ec;
Ht.wasAltered = Hu;
Ht.asImmutable = rc;
Ht["@@transducer/init"] = Ht.asMutable = tc;
Ht["@@transducer/step"] = function(e, t) {
  return e.push(t);
};
Ht["@@transducer/result"] = function(e) {
  return e.asImmutable();
};
var _n = function(t, r) {
  this.array = t, this.ownerID = r;
};
_n.prototype.removeBefore = function(t, r, i) {
  if (i === r ? 1 << r : this.array.length === 0)
    return this;
  var n = i >>> r & wr;
  if (n >= this.array.length)
    return new _n([], t);
  var o = n === 0, a;
  if (r > 0) {
    var s = this.array[n];
    if (a = s && s.removeBefore(t, r - mt, i), a === s && o)
      return this;
  }
  if (o && !a)
    return this;
  var c = aa(this, t);
  if (!o)
    for (var l = 0; l < n; l++)
      c.array[l] = void 0;
  return a && (c.array[n] = a), c;
};
_n.prototype.removeAfter = function(t, r, i) {
  if (i === (r ? 1 << r : 0) || this.array.length === 0)
    return this;
  var n = i - 1 >>> r & wr;
  if (n >= this.array.length)
    return this;
  var o;
  if (r > 0) {
    var a = this.array[n];
    if (o = a && a.removeAfter(t, r - mt, i), o === a && n === this.array.length - 1)
      return this;
  }
  var s = aa(this, t);
  return s.array.splice(n + 1), o && (s.array[n] = o), s;
};
var ns = {};
function ly(e, t) {
  var r = e._origin, i = e._capacity, n = vs(i), o = e._tail;
  return a(e._root, e._level, 0);
  function a(l, d, h) {
    return d === 0 ? s(l, h) : c(l, d, h);
  }
  function s(l, d) {
    var h = d === n ? o && o.array : l && l.array, y = d > r ? 0 : r - d, w = i - d;
    return w > Qr && (w = Qr), function() {
      if (y === w)
        return ns;
      var b = t ? --w : y++;
      return h && h[b];
    };
  }
  function c(l, d, h) {
    var y, w = l && l.array, b = h > r ? 0 : r - h >> d, C = (i - h >> d) + 1;
    return C > Qr && (C = Qr), function() {
      for (; ; ) {
        if (y) {
          var E = y();
          if (E !== ns)
            return E;
          y = null;
        }
        if (b === C)
          return ns;
        var A = t ? --C : b++;
        y = a(
          w && w[A],
          d - mt,
          h + (A << d)
        );
      }
    };
  }
}
function ms(e, t, r, i, n, o, a) {
  var s = Object.create(Ht);
  return s.size = t - e, s._origin = e, s._capacity = t, s._level = r, s._root = i, s._tail = n, s.__ownerID = o, s.__hash = a, s.__altered = !1, s;
}
var dy;
function Sc() {
  return dy || (dy = ms(0, 0, mt));
}
function pg(e, t, r) {
  if (t = Cn(e, t), t !== t)
    return e;
  if (t >= e.size || t < 0)
    return e.withMutations(function(a) {
      t < 0 ? ln(a, t).set(0, r) : ln(a, 0, t + 1).set(t, r);
    });
  t += e._origin;
  var i = e._tail, n = e._root, o = pd();
  return t >= vs(e._capacity) ? i = bd(i, e.__ownerID, 0, t, r, o) : n = bd(
    n,
    e.__ownerID,
    e._level,
    t,
    r,
    o
  ), o.value ? e.__ownerID ? (e._root = n, e._tail = i, e.__hash = void 0, e.__altered = !0, e) : ms(e._origin, e._capacity, e._level, n, i) : e;
}
function bd(e, t, r, i, n, o) {
  var a = i >>> r & wr, s = e && a < e.array.length;
  if (!s && n === void 0)
    return e;
  var c;
  if (r > 0) {
    var l = e && e.array[a], d = bd(
      l,
      t,
      r - mt,
      i,
      n,
      o
    );
    return d === l ? e : (c = aa(e, t), c.array[a] = d, c);
  }
  return s && e.array[a] === n ? e : (o && Kr(o), c = aa(e, t), n === void 0 && a === c.array.length - 1 ? c.array.pop() : c.array[a] = n, c);
}
function aa(e, t) {
  return t && e && t === e.ownerID ? e : new _n(e ? e.array.slice() : [], t);
}
function _w(e, t) {
  if (t >= vs(e._capacity))
    return e._tail;
  if (t < 1 << e._level + mt) {
    for (var r = e._root, i = e._level; r && i > 0; )
      r = r.array[t >>> i & wr], i -= mt;
    return r;
  }
}
function ln(e, t, r) {
  t !== void 0 && (t |= 0), r !== void 0 && (r |= 0);
  var i = e.__ownerID || new _u(), n = e._origin, o = e._capacity, a = n + t, s = r === void 0 ? o : r < 0 ? o + r : n + r;
  if (a === n && s === o)
    return e;
  if (a >= s)
    return e.clear();
  for (var c = e._level, l = e._root, d = 0; a + d < 0; )
    l = new _n(
      l && l.array.length ? [void 0, l] : [],
      i
    ), c += mt, d += 1 << c;
  d && (a += d, n += d, s += d, o += d);
  for (var h = vs(o), y = vs(s); y >= 1 << c + mt; )
    l = new _n(
      l && l.array.length ? [l] : [],
      i
    ), c += mt;
  var w = e._tail, b = y < h ? _w(e, s - 1) : y > h ? new _n([], i) : w;
  if (w && y > h && a < o && w.array.length) {
    l = aa(l, i);
    for (var C = l, E = c; E > mt; E -= mt) {
      var A = h >>> E & wr;
      C = C.array[A] = aa(C.array[A], i);
    }
    C.array[h >>> mt & wr] = w;
  }
  if (s < o && (b = b && b.removeAfter(i, 0, s)), a >= y)
    a -= y, s -= y, c = mt, l = null, b = b && b.removeBefore(i, 0, a);
  else if (a > n || y < h) {
    for (d = 0; l; ) {
      var _ = a >>> c & wr;
      if (_ !== y >>> c & wr)
        break;
      _ && (d += (1 << c) * _), c -= mt, l = l.array[_];
    }
    l && a > n && (l = l.removeBefore(i, c, a - d)), l && y < h && (l = l.removeAfter(
      i,
      c,
      y - d
    )), d && (a -= d, s -= d);
  }
  return e.__ownerID ? (e.size = s - a, e._origin = a, e._capacity = s, e._level = c, e._root = l, e._tail = b, e.__hash = void 0, e.__altered = !0, e) : ms(a, s, c, l, b);
}
function vs(e) {
  return e < Qr ? 0 : e - 1 >>> mt << mt;
}
var Zi = /* @__PURE__ */ function(e) {
  function t(r) {
    return r == null ? Wa() : Xp(r) ? r : Wa().withMutations(function(i) {
      var n = ii(r);
      zr(n.size), n.forEach(function(o, a) {
        return i.set(a, o);
      });
    });
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function() {
    return this(arguments);
  }, t.prototype.toString = function() {
    return this.__toString("OrderedMap {", "}");
  }, t.prototype.get = function(i, n) {
    var o = this._map.get(i);
    return o !== void 0 ? this._list.get(o)[1] : n;
  }, t.prototype.clear = function() {
    return this.size === 0 ? this : this.__ownerID ? (this.size = 0, this._map.clear(), this._list.clear(), this.__altered = !0, this) : Wa();
  }, t.prototype.set = function(i, n) {
    return hy(this, i, n);
  }, t.prototype.remove = function(i) {
    return hy(this, i, Be);
  }, t.prototype.__iterate = function(i, n) {
    var o = this;
    return this._list.__iterate(
      function(a) {
        return a && i(a[1], a[0], o);
      },
      n
    );
  }, t.prototype.__iterator = function(i, n) {
    return this._list.fromEntrySeq().__iterator(i, n);
  }, t.prototype.__ensureOwner = function(i) {
    if (i === this.__ownerID)
      return this;
    var n = this._map.__ensureOwner(i), o = this._list.__ensureOwner(i);
    return i ? qu(n, o, i, this.__hash) : this.size === 0 ? Wa() : (this.__ownerID = i, this.__altered = !1, this._map = n, this._list = o, this);
  }, t;
}(Ai);
Zi.isOrderedMap = Xp;
Zi.prototype[ka] = !0;
Zi.prototype[Gs] = Zi.prototype.remove;
function qu(e, t, r, i) {
  var n = Object.create(Zi.prototype);
  return n.size = e ? e.size : 0, n._map = e, n._list = t, n.__ownerID = r, n.__hash = i, n.__altered = !1, n;
}
var uy;
function Wa() {
  return uy || (uy = qu(ci(), Sc()));
}
function hy(e, t, r) {
  var i = e._map, n = e._list, o = i.get(t), a = o !== void 0, s, c;
  if (r === Be) {
    if (!a)
      return e;
    n.size >= Qr && n.size >= i.size * 2 ? (c = n.filter(function(l, d) {
      return l !== void 0 && o !== d;
    }), s = c.toKeyedSeq().map(function(l) {
      return l[0];
    }).flip().toMap(), e.__ownerID && (s.__ownerID = c.__ownerID = e.__ownerID)) : (s = i.remove(t), c = o === n.size - 1 ? n.pop() : n.set(o, void 0));
  } else if (a) {
    if (r === n.get(o)[1])
      return e;
    s = i, c = n.set(o, [t, r]);
  } else
    s = i.set(t, n.size), c = n.set(n.size, [t, r]);
  return e.__ownerID ? (e.size = s.size, e._map = s, e._list = c, e.__hash = void 0, e.__altered = !0, e) : qu(s, c);
}
var kw = "@@__IMMUTABLE_STACK__@@";
function xd(e) {
  return !!(e && e[kw]);
}
var Qu = /* @__PURE__ */ function(e) {
  function t(r) {
    return r == null ? xc() : xd(r) ? r : xc().pushAll(r);
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function() {
    return this(arguments);
  }, t.prototype.toString = function() {
    return this.__toString("Stack [", "]");
  }, t.prototype.get = function(i, n) {
    var o = this._head;
    for (i = Cn(this, i); o && i--; )
      o = o.next;
    return o ? o.value : n;
  }, t.prototype.peek = function() {
    return this._head && this._head.value;
  }, t.prototype.push = function() {
    var i = arguments;
    if (arguments.length === 0)
      return this;
    for (var n = this.size + arguments.length, o = this._head, a = arguments.length - 1; a >= 0; a--)
      o = {
        value: i[a],
        next: o
      };
    return this.__ownerID ? (this.size = n, this._head = o, this.__hash = void 0, this.__altered = !0, this) : qa(n, o);
  }, t.prototype.pushAll = function(i) {
    if (i = e(i), i.size === 0)
      return this;
    if (this.size === 0 && xd(i))
      return i;
    zr(i.size);
    var n = this.size, o = this._head;
    return i.__iterate(
      function(a) {
        n++, o = {
          value: a,
          next: o
        };
      },
      /* reverse */
      !0
    ), this.__ownerID ? (this.size = n, this._head = o, this.__hash = void 0, this.__altered = !0, this) : qa(n, o);
  }, t.prototype.pop = function() {
    return this.slice(1);
  }, t.prototype.clear = function() {
    return this.size === 0 ? this : this.__ownerID ? (this.size = 0, this._head = void 0, this.__hash = void 0, this.__altered = !0, this) : xc();
  }, t.prototype.slice = function(i, n) {
    if (yl(i, n, this.size))
      return this;
    var o = Xs(i, this.size), a = pl(n, this.size);
    if (a !== this.size)
      return e.prototype.slice.call(this, i, n);
    for (var s = this.size - o, c = this._head; o--; )
      c = c.next;
    return this.__ownerID ? (this.size = s, this._head = c, this.__hash = void 0, this.__altered = !0, this) : qa(s, c);
  }, t.prototype.__ensureOwner = function(i) {
    return i === this.__ownerID ? this : i ? qa(this.size, this._head, i, this.__hash) : this.size === 0 ? xc() : (this.__ownerID = i, this.__altered = !1, this);
  }, t.prototype.__iterate = function(i, n) {
    var o = this;
    if (n)
      return new ho(this.toArray()).__iterate(
        function(c, l) {
          return i(c, l, o);
        },
        n
      );
    for (var a = 0, s = this._head; s && i(s.value, a++, this) !== !1; )
      s = s.next;
    return a;
  }, t.prototype.__iterator = function(i, n) {
    if (n)
      return new ho(this.toArray()).__iterator(i, n);
    var o = 0, a = this._head;
    return new Ze(function() {
      if (a) {
        var s = a.value;
        return a = a.next, _t(i, o++, s);
      }
      return Mr();
    });
  }, t;
}($o);
Qu.isStack = xd;
var mr = Qu.prototype;
mr[kw] = !0;
mr.shift = mr.pop;
mr.unshift = mr.push;
mr.unshiftAll = mr.pushAll;
mr.withMutations = ec;
mr.wasAltered = Hu;
mr.asImmutable = rc;
mr["@@transducer/init"] = mr.asMutable = tc;
mr["@@transducer/step"] = function(e, t) {
  return e.unshift(t);
};
mr["@@transducer/result"] = function(e) {
  return e.asImmutable();
};
function qa(e, t, r, i) {
  var n = Object.create(mr);
  return n.size = e, n._head = t, n.__ownerID = r, n.__hash = i, n.__altered = !1, n;
}
var yy;
function xc() {
  return yy || (yy = qa(0));
}
var Cw = "@@__IMMUTABLE_SET__@@";
function Ku(e) {
  return !!(e && e[Cw]);
}
function $w(e) {
  return Ku(e) && di(e);
}
function Ew(e, t) {
  if (e === t)
    return !0;
  if (!Lr(t) || e.size !== void 0 && t.size !== void 0 && e.size !== t.size || e.__hash !== void 0 && t.__hash !== void 0 && e.__hash !== t.__hash || xt(e) !== xt(t) || Er(e) !== Er(t) || di(e) !== di(t))
    return !1;
  if (e.size === 0 && t.size === 0)
    return !0;
  var r = !wl(e);
  if (di(e)) {
    var i = e.entries();
    return t.every(function(c, l) {
      var d = i.next().value;
      return d && fr(d[1], c) && (r || fr(d[0], l));
    }) && i.next().done;
  }
  var n = !1;
  if (e.size === void 0)
    if (t.size === void 0)
      typeof e.cacheResult == "function" && e.cacheResult();
    else {
      n = !0;
      var o = e;
      e = t, t = o;
    }
  var a = !0, s = t.__iterate(function(c, l) {
    if (r ? !e.has(c) : n ? !fr(c, e.get(l, Be)) : !fr(e.get(l, Be), c))
      return a = !1, !1;
  });
  return a && e.size === s;
}
function Eo(e, t) {
  var r = function(i) {
    e.prototype[i] = t[i];
  };
  return Object.keys(t).forEach(r), Object.getOwnPropertySymbols && Object.getOwnPropertySymbols(t).forEach(r), e;
}
function Zc(e) {
  if (!e || typeof e != "object")
    return e;
  if (!Lr(e)) {
    if (!$n(e))
      return e;
    e = Vr(e);
  }
  if (xt(e)) {
    var t = {};
    return e.__iterate(function(i, n) {
      t[n] = Zc(i);
    }), t;
  }
  var r = [];
  return e.__iterate(function(i) {
    r.push(Zc(i));
  }), r;
}
var bl = /* @__PURE__ */ function(e) {
  function t(r) {
    return r == null ? Qa() : Ku(r) && !di(r) ? r : Qa().withMutations(function(i) {
      var n = e(r);
      zr(n.size), n.forEach(function(o) {
        return i.add(o);
      });
    });
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function() {
    return this(arguments);
  }, t.fromKeys = function(i) {
    return this(ii(i).keySeq());
  }, t.intersect = function(i) {
    return i = Ft(i).toArray(), i.length ? tr.intersect.apply(t(i.pop()), i) : Qa();
  }, t.union = function(i) {
    return i = Ft(i).toArray(), i.length ? tr.union.apply(t(i.pop()), i) : Qa();
  }, t.prototype.toString = function() {
    return this.__toString("Set {", "}");
  }, t.prototype.has = function(i) {
    return this._map.has(i);
  }, t.prototype.add = function(i) {
    return _c(this, this._map.set(i, i));
  }, t.prototype.remove = function(i) {
    return _c(this, this._map.remove(i));
  }, t.prototype.clear = function() {
    return _c(this, this._map.clear());
  }, t.prototype.map = function(i, n) {
    var o = this, a = !1, s = _c(
      this,
      this._map.mapEntries(function(c) {
        var l = c[1], d = i.call(n, l, l, o);
        return d !== l && (a = !0), [d, d];
      }, n)
    );
    return a ? s : this;
  }, t.prototype.union = function() {
    for (var i = [], n = arguments.length; n--; )
      i[n] = arguments[n];
    return i = i.filter(function(o) {
      return o.size !== 0;
    }), i.length === 0 ? this : this.size === 0 && !this.__ownerID && i.length === 1 ? this.constructor(i[0]) : this.withMutations(function(o) {
      for (var a = 0; a < i.length; a++)
        typeof i[a] == "string" ? o.add(i[a]) : e(i[a]).forEach(function(s) {
          return o.add(s);
        });
    });
  }, t.prototype.intersect = function() {
    for (var i = [], n = arguments.length; n--; )
      i[n] = arguments[n];
    if (i.length === 0)
      return this;
    i = i.map(function(a) {
      return e(a);
    });
    var o = [];
    return this.forEach(function(a) {
      i.every(function(s) {
        return s.includes(a);
      }) || o.push(a);
    }), this.withMutations(function(a) {
      o.forEach(function(s) {
        a.remove(s);
      });
    });
  }, t.prototype.subtract = function() {
    for (var i = [], n = arguments.length; n--; )
      i[n] = arguments[n];
    if (i.length === 0)
      return this;
    i = i.map(function(a) {
      return e(a);
    });
    var o = [];
    return this.forEach(function(a) {
      i.some(function(s) {
        return s.includes(a);
      }) && o.push(a);
    }), this.withMutations(function(a) {
      o.forEach(function(s) {
        a.remove(s);
      });
    });
  }, t.prototype.sort = function(i) {
    return gs(ia(this, i));
  }, t.prototype.sortBy = function(i, n) {
    return gs(ia(this, n, i));
  }, t.prototype.wasAltered = function() {
    return this._map.wasAltered();
  }, t.prototype.__iterate = function(i, n) {
    var o = this;
    return this._map.__iterate(function(a) {
      return i(a, a, o);
    }, n);
  }, t.prototype.__iterator = function(i, n) {
    return this._map.__iterator(i, n);
  }, t.prototype.__ensureOwner = function(i) {
    if (i === this.__ownerID)
      return this;
    var n = this._map.__ensureOwner(i);
    return i ? this.__make(n, i) : this.size === 0 ? this.__empty() : (this.__ownerID = i, this._map = n, this);
  }, t;
}(xa);
bl.isSet = Ku;
var tr = bl.prototype;
tr[Cw] = !0;
tr[Gs] = tr.remove;
tr.merge = tr.concat = tr.union;
tr.withMutations = ec;
tr.asImmutable = rc;
tr["@@transducer/init"] = tr.asMutable = tc;
tr["@@transducer/step"] = function(e, t) {
  return e.add(t);
};
tr["@@transducer/result"] = function(e) {
  return e.asImmutable();
};
tr.__empty = Qa;
tr.__make = Sw;
function _c(e, t) {
  return e.__ownerID ? (e.size = t.size, e._map = t, e) : t === e._map ? e : t.size === 0 ? e.__empty() : e.__make(t);
}
function Sw(e, t) {
  var r = Object.create(tr);
  return r.size = e ? e.size : 0, r._map = e, r.__ownerID = t, r;
}
var py;
function Qa() {
  return py || (py = Sw(ci()));
}
var wg = /* @__PURE__ */ function(e) {
  function t(r, i, n) {
    if (!(this instanceof t))
      return new t(r, i, n);
    if (Iu(n !== 0, "Cannot step a Range by 0"), r = r || 0, i === void 0 && (i = 1 / 0), n = n === void 0 ? 1 : Math.abs(n), i < r && (n = -n), this._start = r, this._end = i, this._step = n, this.size = Math.max(0, Math.ceil((i - r) / n - 1) + 1), this.size === 0) {
      if (Ql)
        return Ql;
      Ql = this;
    }
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.toString = function() {
    return this.size === 0 ? "Range []" : "Range [ " + this._start + "..." + this._end + (this._step !== 1 ? " by " + this._step : "") + " ]";
  }, t.prototype.get = function(i, n) {
    return this.has(i) ? this._start + Cn(this, i) * this._step : n;
  }, t.prototype.includes = function(i) {
    var n = (i - this._start) / this._step;
    return n >= 0 && n < this.size && n === Math.floor(n);
  }, t.prototype.slice = function(i, n) {
    return yl(i, n, this.size) ? this : (i = Xs(i, this.size), n = pl(n, this.size), n <= i ? new t(0, 0) : new t(
      this.get(i, this._end),
      this.get(n, this._end),
      this._step
    ));
  }, t.prototype.indexOf = function(i) {
    var n = i - this._start;
    if (n % this._step === 0) {
      var o = n / this._step;
      if (o >= 0 && o < this.size)
        return o;
    }
    return -1;
  }, t.prototype.lastIndexOf = function(i) {
    return this.indexOf(i);
  }, t.prototype.__iterate = function(i, n) {
    for (var o = this.size, a = this._step, s = n ? this._start + (o - 1) * a : this._start, c = 0; c !== o && i(s, n ? o - ++c : c++, this) !== !1; )
      s += n ? -a : a;
    return c;
  }, t.prototype.__iterator = function(i, n) {
    var o = this.size, a = this._step, s = n ? this._start + (o - 1) * a : this._start, c = 0;
    return new Ze(function() {
      if (c === o)
        return Mr();
      var l = s;
      return s += n ? -a : a, _t(i, n ? o - ++c : c++, l);
    });
  }, t.prototype.equals = function(i) {
    return i instanceof t ? this._start === i._start && this._end === i._end && this._step === i._step : Ew(this, i);
  }, t;
}(vi), Ql;
function Pw(e, t, r) {
  for (var i = lw(t), n = 0; n !== i.length; )
    if (e = dw(e, i[n++], Be), e === Be)
      return r;
  return e;
}
function Aw(e, t) {
  return Pw(this, e, t);
}
function fg(e, t) {
  return Pw(e, t, Be) !== Be;
}
function mg(e) {
  return fg(this, e);
}
function Lw() {
  zr(this.size);
  var e = {};
  return this.__iterate(function(t, r) {
    e[r] = t;
  }), e;
}
Ft.isIterable = Lr;
Ft.isKeyed = xt;
Ft.isIndexed = Er;
Ft.isAssociative = wl;
Ft.isOrdered = di;
Ft.Iterator = Ze;
Eo(Ft, {
  // ### Conversion to other types
  toArray: function() {
    zr(this.size);
    var t = new Array(this.size || 0), r = xt(this), i = 0;
    return this.__iterate(function(n, o) {
      t[i++] = r ? [o, n] : n;
    }), t;
  },
  toIndexedSeq: function() {
    return new ew(this);
  },
  toJS: function() {
    return Zc(this);
  },
  toKeyedSeq: function() {
    return new gl(this, !0);
  },
  toMap: function() {
    return Ai(this.toKeyedSeq());
  },
  toObject: Lw,
  toOrderedMap: function() {
    return Zi(this.toKeyedSeq());
  },
  toOrderedSet: function() {
    return gs(xt(this) ? this.valueSeq() : this);
  },
  toSet: function() {
    return bl(xt(this) ? this.valueSeq() : this);
  },
  toSetSeq: function() {
    return new tw(this);
  },
  toSeq: function() {
    return Er(this) ? this.toIndexedSeq() : xt(this) ? this.toKeyedSeq() : this.toSetSeq();
  },
  toStack: function() {
    return Qu(xt(this) ? this.valueSeq() : this);
  },
  toList: function() {
    return En(xt(this) ? this.valueSeq() : this);
  },
  // ### Common JavaScript methods and properties
  toString: function() {
    return "[Collection]";
  },
  __toString: function(t, r) {
    return this.size === 0 ? t + r : t + " " + this.toSeq().map(this.__toStringMapper).join(", ") + " " + r;
  },
  // ### ES6 Collection methods (ES6 Array and Map)
  concat: function() {
    for (var t = [], r = arguments.length; r--; )
      t[r] = arguments[r];
    return nt(this, Qv(this, t));
  },
  includes: function(t) {
    return this.some(function(r) {
      return fr(r, t);
    });
  },
  entries: function() {
    return this.__iterator(Gr);
  },
  every: function(t, r) {
    zr(this.size);
    var i = !0;
    return this.__iterate(function(n, o, a) {
      if (!t.call(r, n, o, a))
        return i = !1, !1;
    }), i;
  },
  filter: function(t, r) {
    return nt(this, ow(this, t, r, !0));
  },
  partition: function(t, r) {
    return Wv(this, t, r);
  },
  find: function(t, r, i) {
    var n = this.findEntry(t, r);
    return n ? n[1] : i;
  },
  forEach: function(t, r) {
    return zr(this.size), this.__iterate(r ? t.bind(r) : t);
  },
  join: function(t) {
    zr(this.size), t = t !== void 0 ? "" + t : ",";
    var r = "", i = !0;
    return this.__iterate(function(n) {
      i ? i = !1 : r += t, r += n != null ? n.toString() : "";
    }), r;
  },
  keys: function() {
    return this.__iterator(Js);
  },
  map: function(t, r) {
    return nt(this, nw(this, t, r));
  },
  reduce: function(t, r, i) {
    return wy(
      this,
      t,
      r,
      i,
      arguments.length < 2,
      !1
    );
  },
  reduceRight: function(t, r, i) {
    return wy(
      this,
      t,
      r,
      i,
      arguments.length < 2,
      !0
    );
  },
  reverse: function() {
    return nt(this, Au(this, !0));
  },
  slice: function(t, r) {
    return nt(this, Lu(this, t, r, !0));
  },
  some: function(t, r) {
    zr(this.size);
    var i = !1;
    return this.__iterate(function(n, o, a) {
      if (t.call(r, n, o, a))
        return i = !0, !1;
    }), i;
  },
  sort: function(t) {
    return nt(this, ia(this, t));
  },
  values: function() {
    return this.__iterator(hi);
  },
  // ### More sequential methods
  butLast: function() {
    return this.slice(0, -1);
  },
  isEmpty: function() {
    return this.size !== void 0 ? this.size === 0 : !this.some(function() {
      return !0;
    });
  },
  count: function(t, r) {
    return ra(
      t ? this.toSeq().filter(t, r) : this
    );
  },
  countBy: function(t, r) {
    return jv(this, t, r);
  },
  equals: function(t) {
    return Ew(this, t);
  },
  entrySeq: function() {
    var t = this;
    if (t._cache)
      return new ho(t._cache);
    var r = t.toSeq().map(gg).toIndexedSeq();
    return r.fromEntrySeq = function() {
      return t.toSeq();
    }, r;
  },
  filterNot: function(t, r) {
    return this.filter(Kl(t), r);
  },
  findEntry: function(t, r, i) {
    var n = i;
    return this.__iterate(function(o, a, s) {
      if (t.call(r, o, a, s))
        return n = [a, o], !1;
    }), n;
  },
  findKey: function(t, r) {
    var i = this.findEntry(t, r);
    return i && i[0];
  },
  findLast: function(t, r, i) {
    return this.toKeyedSeq().reverse().find(t, r, i);
  },
  findLastEntry: function(t, r, i) {
    return this.toKeyedSeq().reverse().findEntry(t, r, i);
  },
  findLastKey: function(t, r) {
    return this.toKeyedSeq().reverse().findKey(t, r);
  },
  first: function(t) {
    return this.find(Vp, null, t);
  },
  flatMap: function(t, r) {
    return nt(this, Kv(this, t, r));
  },
  flatten: function(t) {
    return nt(this, sw(this, t, !0));
  },
  fromEntrySeq: function() {
    return new rw(this);
  },
  get: function(t, r) {
    return this.find(function(i, n) {
      return fr(n, t);
    }, void 0, r);
  },
  getIn: Aw,
  groupBy: function(t, r) {
    return Uv(this, t, r);
  },
  has: function(t) {
    return this.get(t, Be) !== Be;
  },
  hasIn: mg,
  isSubset: function(t) {
    return t = typeof t.includes == "function" ? t : Ft(t), this.every(function(r) {
      return t.includes(r);
    });
  },
  isSuperset: function(t) {
    return t = typeof t.isSubset == "function" ? t : Ft(t), t.isSubset(this);
  },
  keyOf: function(t) {
    return this.findKey(function(r) {
      return fr(r, t);
    });
  },
  keySeq: function() {
    return this.toSeq().map(vg).toIndexedSeq();
  },
  last: function(t) {
    return this.toSeq().reverse().first(t);
  },
  lastKeyOf: function(t) {
    return this.toKeyedSeq().reverse().keyOf(t);
  },
  max: function(t) {
    return gc(this, t);
  },
  maxBy: function(t, r) {
    return gc(this, r, t);
  },
  min: function(t) {
    return gc(
      this,
      t ? fy(t) : vy
    );
  },
  minBy: function(t, r) {
    return gc(
      this,
      r ? fy(r) : vy,
      t
    );
  },
  rest: function() {
    return this.slice(1);
  },
  skip: function(t) {
    return t === 0 ? this : this.slice(Math.max(0, t));
  },
  skipLast: function(t) {
    return t === 0 ? this : this.slice(0, -Math.max(0, t));
  },
  skipWhile: function(t, r) {
    return nt(this, aw(this, t, r, !0));
  },
  skipUntil: function(t, r) {
    return this.skipWhile(Kl(t), r);
  },
  sortBy: function(t, r) {
    return nt(this, ia(this, r, t));
  },
  take: function(t) {
    return this.slice(0, Math.max(0, t));
  },
  takeLast: function(t) {
    return this.slice(-Math.max(0, t));
  },
  takeWhile: function(t, r) {
    return nt(this, qv(this, t, r));
  },
  takeUntil: function(t, r) {
    return this.takeWhile(Kl(t), r);
  },
  update: function(t) {
    return t(this);
  },
  valueSeq: function() {
    return this.toIndexedSeq();
  },
  // ### Hashable Object
  hashCode: function() {
    return this.__hash || (this.__hash = bg(this));
  }
  // ### Internal
  // abstract __iterate(fn, reverse)
  // abstract __iterator(type, reverse)
});
var ar = Ft.prototype;
ar[Hp] = !0;
ar[fl] = ar.values;
ar.toJSON = ar.toArray;
ar.__toStringMapper = ps;
ar.inspect = ar.toSource = function() {
  return this.toString();
};
ar.chain = ar.flatMap;
ar.contains = ar.includes;
Eo(ii, {
  // ### More sequential methods
  flip: function() {
    return nt(this, iw(this));
  },
  mapEntries: function(t, r) {
    var i = this, n = 0;
    return nt(
      this,
      this.toSeq().map(function(o, a) {
        return t.call(r, [a, o], n++, i);
      }).fromEntrySeq()
    );
  },
  mapKeys: function(t, r) {
    var i = this;
    return nt(
      this,
      this.toSeq().flip().map(function(n, o) {
        return t.call(r, n, o, i);
      }).flip()
    );
  }
});
var ic = ii.prototype;
ic[jp] = !0;
ic[fl] = ar.entries;
ic.toJSON = Lw;
ic.__toStringMapper = function(e, t) {
  return ps(t) + ": " + ps(e);
};
Eo($o, {
  // ### Conversion to other types
  toKeyedSeq: function() {
    return new gl(this, !1);
  },
  // ### ES6 Collection methods (ES6 Array and Map)
  filter: function(t, r) {
    return nt(this, ow(this, t, r, !1));
  },
  findIndex: function(t, r) {
    var i = this.findEntry(t, r);
    return i ? i[0] : -1;
  },
  indexOf: function(t) {
    var r = this.keyOf(t);
    return r === void 0 ? -1 : r;
  },
  lastIndexOf: function(t) {
    var r = this.lastKeyOf(t);
    return r === void 0 ? -1 : r;
  },
  reverse: function() {
    return nt(this, Au(this, !1));
  },
  slice: function(t, r) {
    return nt(this, Lu(this, t, r, !1));
  },
  splice: function(t, r) {
    var i = arguments.length;
    if (r = Math.max(r || 0, 0), i === 0 || i === 2 && !r)
      return this;
    t = Xs(t, t < 0 ? this.count() : this.size);
    var n = this.slice(0, t);
    return nt(
      this,
      i === 1 ? n : n.concat(Ei(arguments, 2), this.slice(t + r))
    );
  },
  // ### More collection methods
  findLastIndex: function(t, r) {
    var i = this.findLastEntry(t, r);
    return i ? i[0] : -1;
  },
  first: function(t) {
    return this.get(0, t);
  },
  flatten: function(t) {
    return nt(this, sw(this, t, !1));
  },
  get: function(t, r) {
    return t = Cn(this, t), t < 0 || this.size === 1 / 0 || this.size !== void 0 && t > this.size ? r : this.find(function(i, n) {
      return n === t;
    }, void 0, r);
  },
  has: function(t) {
    return t = Cn(this, t), t >= 0 && (this.size !== void 0 ? this.size === 1 / 0 || t < this.size : this.indexOf(t) !== -1);
  },
  interpose: function(t) {
    return nt(this, Zv(this, t));
  },
  interleave: function() {
    var t = [this].concat(Ei(arguments)), r = bc(this.toSeq(), vi.of, t), i = r.flatten(!0);
    return r.size && (i.size = r.size * t.length), nt(this, i);
  },
  keySeq: function() {
    return wg(0, this.size);
  },
  last: function(t) {
    return this.get(-1, t);
  },
  skipWhile: function(t, r) {
    return nt(this, aw(this, t, r, !1));
  },
  zip: function() {
    var t = [this].concat(Ei(arguments));
    return nt(this, bc(this, my, t));
  },
  zipAll: function() {
    var t = [this].concat(Ei(arguments));
    return nt(this, bc(this, my, t, !0));
  },
  zipWith: function(t) {
    var r = Ei(arguments);
    return r[0] = this, nt(this, bc(this, t, r));
  }
});
var Sa = $o.prototype;
Sa[Up] = !0;
Sa[ka] = !0;
Eo(xa, {
  // ### ES6 Collection methods (ES6 Array and Map)
  get: function(t, r) {
    return this.has(t) ? t : r;
  },
  includes: function(t) {
    return this.has(t);
  },
  // ### More sequential methods
  keySeq: function() {
    return this.valueSeq();
  }
});
var sa = xa.prototype;
sa.has = ar.includes;
sa.contains = sa.includes;
sa.keys = sa.values;
Eo(Dn, ic);
Eo(vi, Sa);
Eo($a, sa);
function wy(e, t, r, i, n, o) {
  return zr(e.size), e.__iterate(function(a, s, c) {
    n ? (n = !1, r = a) : r = t.call(i, r, a, s, c);
  }, o), r;
}
function vg(e, t) {
  return t;
}
function gg(e, t) {
  return [t, e];
}
function Kl(e) {
  return function() {
    return !e.apply(this, arguments);
  };
}
function fy(e) {
  return function() {
    return -e.apply(this, arguments);
  };
}
function my() {
  return Ei(arguments);
}
function vy(e, t) {
  return e < t ? 1 : e > t ? -1 : 0;
}
function bg(e) {
  if (e.size === 1 / 0)
    return 0;
  var t = di(e), r = xt(e), i = t ? 1 : 0, n = e.__iterate(
    r ? t ? function(o, a) {
      i = 31 * i + gy(Fr(o), Fr(a)) | 0;
    } : function(o, a) {
      i = i + gy(Fr(o), Fr(a)) | 0;
    } : t ? function(o) {
      i = 31 * i + Fr(o) | 0;
    } : function(o) {
      i = i + Fr(o) | 0;
    }
  );
  return xg(n, i);
}
function xg(e, t) {
  return t = Va(t, 3432918353), t = Va(t << 15 | t >>> -15, 461845907), t = Va(t << 13 | t >>> -13, 5), t = (t + 3864292196 | 0) ^ e, t = Va(t ^ t >>> 16, 2246822507), t = Va(t ^ t >>> 13, 3266489909), t = vl(t ^ t >>> 16), t;
}
function gy(e, t) {
  return e ^ t + 2654435769 + (e << 6) + (e >> 2) | 0;
}
var gs = /* @__PURE__ */ function(e) {
  function t(r) {
    return r == null ? _d() : $w(r) ? r : _d().withMutations(function(i) {
      var n = xa(r);
      zr(n.size), n.forEach(function(o) {
        return i.add(o);
      });
    });
  }
  return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function() {
    return this(arguments);
  }, t.fromKeys = function(i) {
    return this(ii(i).keySeq());
  }, t.prototype.toString = function() {
    return this.__toString("OrderedSet {", "}");
  }, t;
}(bl);
gs.isOrderedSet = $w;
var So = gs.prototype;
So[ka] = !0;
So.zip = Sa.zip;
So.zipWith = Sa.zipWith;
So.zipAll = Sa.zipAll;
So.__empty = _d;
So.__make = Mw;
function Mw(e, t) {
  var r = Object.create(So);
  return r.size = e ? e.size : 0, r._map = e, r.__ownerID = t, r;
}
var by;
function _d() {
  return by || (by = Mw(Wa()));
}
function _g(e) {
  if (_a(e))
    throw new Error(
      "Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead."
    );
  if (Ri(e))
    throw new Error(
      "Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead."
    );
  if (e === null || typeof e != "object")
    throw new Error(
      "Can not call `Record` with a non-object as default values. Use a plain javascript object instead."
    );
}
var Jt = function(t, r) {
  var i;
  _g(t);
  var n = function(s) {
    var c = this;
    if (s instanceof n)
      return s;
    if (!(this instanceof n))
      return new n(s);
    if (!i) {
      i = !0;
      var l = Object.keys(t), d = o._indices = {};
      o._name = r, o._keys = l, o._defaultValues = t;
      for (var h = 0; h < l.length; h++) {
        var y = l[h];
        d[y] = h, o[y] ? typeof console == "object" && console.warn && console.warn(
          "Cannot define " + Yu(this) + ' with property "' + y + '" since that property name is part of the Record API.'
        ) : kg(o, y);
      }
    }
    return this.__ownerID = void 0, this._values = En().withMutations(function(w) {
      w.setSize(c._keys.length), ii(s).forEach(function(b, C) {
        w.set(c._indices[C], b === c._defaultValues[C] ? void 0 : b);
      });
    }), this;
  }, o = n.prototype = Object.create(ut);
  return o.constructor = n, r && (n.displayName = r), n;
};
Jt.prototype.toString = function() {
  for (var t = Yu(this) + " { ", r = this._keys, i, n = 0, o = r.length; n !== o; n++)
    i = r[n], t += (n ? ", " : "") + i + ": " + ps(this.get(i));
  return t + " }";
};
Jt.prototype.equals = function(t) {
  return this === t || _a(t) && ca(this).equals(ca(t));
};
Jt.prototype.hashCode = function() {
  return ca(this).hashCode();
};
Jt.prototype.has = function(t) {
  return this._indices.hasOwnProperty(t);
};
Jt.prototype.get = function(t, r) {
  if (!this.has(t))
    return r;
  var i = this._indices[t], n = this._values.get(i);
  return n === void 0 ? this._defaultValues[t] : n;
};
Jt.prototype.set = function(t, r) {
  if (this.has(t)) {
    var i = this._values.set(
      this._indices[t],
      r === this._defaultValues[t] ? void 0 : r
    );
    if (i !== this._values && !this.__ownerID)
      return Zu(this, i);
  }
  return this;
};
Jt.prototype.remove = function(t) {
  return this.set(t);
};
Jt.prototype.clear = function() {
  var t = this._values.clear().setSize(this._keys.length);
  return this.__ownerID ? this : Zu(this, t);
};
Jt.prototype.wasAltered = function() {
  return this._values.wasAltered();
};
Jt.prototype.toSeq = function() {
  return ca(this);
};
Jt.prototype.toJS = function() {
  return Zc(this);
};
Jt.prototype.entries = function() {
  return this.__iterator(Gr);
};
Jt.prototype.__iterator = function(t, r) {
  return ca(this).__iterator(t, r);
};
Jt.prototype.__iterate = function(t, r) {
  return ca(this).__iterate(t, r);
};
Jt.prototype.__ensureOwner = function(t) {
  if (t === this.__ownerID)
    return this;
  var r = this._values.__ensureOwner(t);
  return t ? Zu(this, r, t) : (this.__ownerID = t, this._values = r, this);
};
Jt.isRecord = _a;
Jt.getDescriptiveName = Yu;
var ut = Jt.prototype;
ut[qp] = !0;
ut[Gs] = ut.remove;
ut.deleteIn = ut.removeIn = Ru;
ut.getIn = Aw;
ut.hasIn = ar.hasIn;
ut.merge = yw;
ut.mergeWith = pw;
ut.mergeIn = Nu;
ut.mergeDeep = fw;
ut.mergeDeepWith = mw;
ut.mergeDeepIn = Bu;
ut.setIn = Tu;
ut.update = Du;
ut.updateIn = Fu;
ut.withMutations = ec;
ut.asMutable = tc;
ut.asImmutable = rc;
ut[fl] = ut.entries;
ut.toJSON = ut.toObject = ar.toObject;
ut.inspect = ut.toSource = function() {
  return this.toString();
};
function Zu(e, t, r) {
  var i = Object.create(Object.getPrototypeOf(e));
  return i._values = t, i.__ownerID = r, i;
}
function Yu(e) {
  return e.constructor.displayName || e.constructor.name || "Record";
}
function ca(e) {
  return Eu(e._keys.map(function(t) {
    return [t, e.get(t)];
  }));
}
function kg(e, t) {
  try {
    Object.defineProperty(e, t, {
      get: function() {
        return this.get(t);
      },
      set: function(r) {
        Iu(this.__ownerID, "Cannot set on an immutable record."), this.set(t, r);
      }
    });
  } catch {
  }
}
const Cg = `10000000-1000-4000-8000-${1e11}`, $g = (e) => (e ^ Math.random() * 16 >> e / 4).toString(16);
function Ow(e) {
  return e ? $g(Number(e)) : Cg.replace(/[018]/g, Ow);
}
function Yc(e, t) {
  return t === void 0 || Object.keys(t).length == 0 ? e : e.merge(Object.entries(t));
}
function Eg(e, t, r) {
  return e.has(t) && !fr(e.get(t), r);
}
function Iw(e, t) {
  const r = e;
  return r.key = t, r;
}
let xy = Ai({
  modalStack: En(),
  modalNodes: En(),
  closeCallbacks: Ai()
});
function Zl(e) {
  var t;
  if (e >= 0) {
    const r = (t = this.modalStack.get(e)) == null ? void 0 : t.key, i = this.closeCallbacks.get(r);
    i !== void 0 && i(), this.modalState = Yc(this.modalState, {
      modalStack: this.modalStack.delete(e),
      modalNodes: this.modalNodes.delete(e),
      closeCallbacks: this.closeCallbacks.delete(r)
    });
  }
}
function Sg(e, t, r) {
  const i = this.modalStack.findIndex((n) => n.key === e);
  i >= 0 && (this.modalState = Yc(this.modalState, {
    modalStack: this.modalStack.set(i, Iw(t, e)),
    closeCallbacks: r !== void 0 ? this.closeCallbacks.set(e, r) : this.closeCallbacks.delete(e)
  }));
}
const Pg = {
  host: void 0,
  set modalState(e) {
    Eg(e, "modalStack", this.modalStack) && this.host.offerState(
      Ai({
        modalStack: e.get("modalStack")
      })
    ), xy = e;
  },
  get modalState() {
    return xy;
  },
  get modalStack() {
    return this.modalState.get("modalStack");
  },
  get modalNodes() {
    return this.modalState.get("modalNodes");
  },
  get closeCallbacks() {
    return this.modalState.get("closeCallbacks");
  },
  attach(e) {
    this.host === void 0 ? (this.host = e).addController(this) : console.error("You attempted to attach a singleton controller to more than one host.");
  },
  hostConnected() {
    this.host.offerState(Ai({ modalStack: this.modalStack }));
  },
  hostUpdated() {
    this.modalState = Yc(this.modalState, {
      modalNodes: En(this.host.modalNodes)
    });
  },
  push(e, t) {
    const r = Ow();
    return this.modalState = Yc(this.modalState, {
      modalStack: this.modalStack.push(Iw(e, r)),
      closeCallbacks: t !== void 0 ? this.closeCallbacks.set(r, t) : this.closeCallbacks
    }), {
      remove: () => this.removeByKey(r),
      replace: (i, n) => Sg.call(this, r, i, n)
    };
  },
  pop() {
    Zl.call(this, this.modalStack.size - 1);
  },
  removeByNode(e) {
    Zl.call(this, this.modalNodes.indexOf(e));
  },
  removeByKey(e) {
    Zl.call(
      this,
      this.modalStack.findIndex((t) => t.key === e)
    );
  },
  removeAll() {
    for (; this.modalStack.size > 0; )
      this.pop();
  }
};
var kn = Pg, Ag = Object.defineProperty, Lg = Object.getOwnPropertyDescriptor, Tw = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? Lg(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Ag(t, r, n), n;
};
let bs = class extends we {
  constructor() {
    super(), this.modalStack = En(), this.portalRef = Ve(), this.removeModal = (e) => {
      e.stopImmediatePropagation(), e.preventDefault();
      const t = e.composedPath(), r = t.findIndex((i) => i === this.portalRef.value);
      if (r < 1)
        console.warn(
          "Could not locate modal portal at appropriate depth in the @removeModal event path"
        );
      else {
        const i = t[r - 1];
        kn.removeByNode(i);
      }
    }, kn.attach(this);
  }
  /**
   * A list of the modals currently present in the DOM. Used by the [[ModalController]].
   */
  get modalNodes() {
    var e;
    return (e = this.portalRef.value) == null ? void 0 : e.children;
  }
  /**
   * Used by the [[ModalController]] when a modal is added or removed.
   * Updates the `<body>` element to have the `"modal-portal-active"` class
   * precisely when the `<modal-portal>` contains at least one modal.
   */
  offerState(e) {
    fr(this.modalStack, e.get("modalStack")) || (this.modalStack = e.get("modalStack"), this.modalStack.size > 0 ? document.querySelector("body").classList.add("modal-portal-active") : document.querySelector("body").classList.remove("modal-portal-active"));
  }
  connectedCallback() {
    super.connectedCallback(), this.addEventListener("removeModal", this.removeModal);
  }
  render() {
    var e;
    return v`
      <div id="portal" ${Pe(this.portalRef)}>
        ${Ar(
      (e = this.modalStack) == null ? void 0 : e.values(),
      (t) => t.key,
      (t) => v`<div class="modal-node">${t}</div>`
    )}
      </div>
    `;
  }
};
bs.styles = We`
    #portal {
      isolation: isolate;
    }
  `;
Tw([
  te()
], bs.prototype, "modalStack", 2);
bs = Tw([
  fe("modal-portal")
], bs);
class Mg extends Rn {
  /** Resolves the template argument if it is a supplier function. */
  getTemplate(t) {
    return t instanceof Function ? t() : t;
  }
  /**
   * The core logic of the [[portal | `portal`]] directive.
   *
   * If `showModal` is true, or if it is a Function that produces a truthy result,
   * then the given `template` and optional `closeCallback` will be pushed to the [[ModalPortal | `<modal-portal>`]].
   *
   * If there already exists a registry for a modal sent using this exact directive,
   * then it will be replaced using the new arguments.
   *
   * If `showModal` is falsy, then the modal is removed and the registry is reset.
   */
  render(t, r, i) {
    t instanceof Function && (t = t()), this.modalRegistry ? t ? this.modalRegistry.replace(this.getTemplate(r), i) : (this.modalRegistry.remove(), this.modalRegistry = void 0) : t && (this.modalRegistry = kn.push(this.getTemplate(r), i));
  }
}
const Yi = Tn(Mg), Og = `@charset "UTF-8";.wy-light :where(wy-chat),.wy-light :where(wy-comments),.wy-light :where(wy-files),.wy-light :where(wy-messenger),.wy-light :where(wy-posts),.wy-light :where(wy-portal),:host(.wy-light),:host .wy-light,::slotted(.wy-light){color-scheme:light;--wy-primary: var(--wy-primary-40, #006399);--wy-on-primary: var(--wy-white, #ffffff);--wy-primary-container: var(--wy-primary-90, #cde5ff);--wy-on-primary-container: var(--wy-primary-10, #001d32);--wy-secondary: var(--wy-secondary-40, #3b6a1c);--wy-on-secondary: var(--wy-white, #ffffff);--wy-secondary-container: var(--wy-secondary-90, #bbf294);--wy-on-secondary-container: var(--wy-secondary-10, #0a2100);--wy-tertiary: var(--wy-tertiary-40, #3b6a1c);--wy-on-tertiary: var(--wy-white, #ffffff);--wy-tertiary-container: var(--wy-tertiary-90, #bbf294);--wy-on-tertiary-container: var(--wy-tertiary-10, #0a2100);--wy-error: var(--wy-error-40, #ba1824);--wy-on-error: var(--wy-white, #ffffff);--wy-error-container: var(--wy-error-90, #ffdad7);--wy-on-error-container: var(--wy-error-10, #410004);--wy-warning: var(--wy-warning-70, #afb140);--wy-on-warning: var(--wy-black, #000000);--wy-warning-container: var(--wy-warning-90, #e7e971);--wy-on-warning-container: var(--wy-warning-10, #1c1d00);--wy-background: var(--wy-neutral-99, #fcfcff);--wy-on-background: var(--wy-neutral-10, #1a1c1e);--wy-surface: var(--wy-neutral-99, #fcfcff);--wy-on-surface: var(--wy-neutral-10, #1a1c1e);--wy-surface-variant: var(--wy-neutral-variant-90, #dee3eb);--wy-on-surface-variant: var(--wy-neutral-variant-30, #42474e);--wy-outline: var(--wy-neutral-variant-50, #72777e);--wy-outline-variant: var(--wy-neutral-variant-80, #c2c7ce);--wy-inverse-surface: var(--wy-neutral-20, #2f3033);--wy-on-inverse-surface: var(--wy-neutral-95, #f0f0f4);--wy-inverse-primary: var(--wy-primary-80, #95ccff);--wy-surface-1: var(--wy-surface-1-light, #f1f2f7);--wy-surface-2: var(--wy-surface-2-light, #eaedf3);--wy-surface-3: var(--wy-surface-3-light, #e3e7ee);--wy-surface-4: var(--wy-surface-4-light, #e1e6ed);--wy-surface-5: var(--wy-surface-5-light, #dce2ea);--wy-link: var(--wy-primary-40, #006399);--wy-blue: var(--wy-blue-light, #89a9fc);--wy-indigo: var(--wy-indigo-light, #9185de);--wy-purple: var(--wy-purple-light, #c675b7);--wy-pink: var(--wy-pink-light, #d57194);--wy-red: var(--wy-red-light, #db726c);--wy-orange: var(--wy-orange-light, #e89a3a);--wy-yellow: var(--wy-yellow-light, #afb140);--wy-green: var(--wy-green-light, #00a38b);--wy-teal: var(--wy-teal-light, #00a0a8);--wy-cyan: var(--wy-cyan-light, #0082a1);--wy-gray: var(--wy-gray-light, #76777a);--wy-presence-active: var(--wy-green-light, #00a38b);--wy-code-text: var(--wy-code-text-light, #3b3b3b);--wy-code-variable: var(--wy-code-variable-light, #001080);--wy-code-operator: var(--wy-code-operator-light, #000000);--wy-code-prolog: var(--wy-code-prolog-light, #000080);--wy-code-comment: var(--wy-code-comment-light, #008000);--wy-code-builtin: var(--wy-code-builtin-light, #0070C1);--wy-code-number: var(--wy-code-number-light, #098658);--wy-code-inserted: var(--wy-code-inserted-light, #098658);--wy-code-constant: var(--wy-code-constant-light, #811F3F);--wy-code-hexcode: var(--wy-code-hexcode-light, #811F3F);--wy-code-regex: var(--wy-code-regex-light, #811F3F);--wy-code-char: var(--wy-code-char-light, #811F3F);--wy-code-tag: var(--wy-code-tag-light, #800000);--wy-code-attr-name: var(--wy-code-attr-name-light, #E50000);--wy-code-selector: var(--wy-code-selector-light, #E50000);--wy-code-property: var(--wy-code-property-light, #E50000);--wy-code-deleted: var(--wy-code-deleted-light, #A31515);--wy-code-string: var(--wy-code-string-light, #A31515);--wy-code-changed: var(--wy-code-changed-light, #0451A5);--wy-code-punctuation: var(--wy-code-punctuation-light, #000000);--wy-code-function: var(--wy-code-function-light, #0000FF);--wy-code-keyword: var(--wy-code-keyword-light, #AF00DB);--wy-code-class-name: var(--wy-code-class-name-light, #267F99)}.wy-dark:not(.wy-light) :where(wy-chat),.wy-dark:not(.wy-light) :where(wy-comments),.wy-dark:not(.wy-light) :where(wy-files),.wy-dark:not(.wy-light) :where(wy-messenger),.wy-dark:not(.wy-light) :where(wy-posts),.wy-dark:not(.wy-light) :where(wy-portal),:host(.wy-dark:not(.wy-light)),:host .wy-dark:not(.wy-light),::slotted(.wy-dark:not(.wy-light)){color-scheme:dark;--wy-primary: var(--wy-primary-80, #95ccff);--wy-on-primary: var(--wy-primary-20, #003352);--wy-primary-container: var(--wy-primary-30, #004a75);--wy-on-primary-container: var(--wy-primary-90, #cde5ff);--wy-secondary: var(--wy-secondary-80, #a0d57b);--wy-on-secondary: var(--wy-secondary-20, #163800);--wy-secondary-container: var(--wy-secondary-30, #245103);--wy-on-secondary-container: var(--wy-secondary-90, #bbf294);--wy-tertiary: var(--wy-tertiary-80, #a0d57b);--wy-on-tertiary: var(--wy-tertiary-20, #163800);--wy-tertiary-container: var(--wy-tertiary-30, #245103);--wy-on-tertiary-container: var(--wy-tertiary-90, #bbf294);--wy-error: var(--wy-error-80, #ffb3ae);--wy-on-error: var(--wy-error-20, #68000b);--wy-error-container: var(--wy-error-30, #930014);--wy-on-error-container: var(--wy-error-90, #ffdad7);--wy-warning: var(--wy-warning-90, #e7e971);--wy-on-warning: var(--wy-warning-30, #484a00);--wy-warning-container: var(--wy-warning-50, #7a7c05);--wy-on-warning-container: var(--wy-warning-95, #f5f77d);--wy-background: var(--wy-neutral-10, #1a1c1e);--wy-on-background: var(--wy-neutral-90, #e2e2e5);--wy-surface: var(--wy-neutral-10, #1a1c1e);--wy-on-surface: var(--wy-neutral-90, #e2e2e5);--wy-surface-variant: var(--wy-neutral-variant-30, #42474e);--wy-on-surface-variant: var(--wy-neutral-variant-80, #c2c7ce);--wy-outline: var(--wy-neutral-variant-60, #8c9198);--wy-outline-variant: var(--wy-neutral-variant-30, #42474e);--wy-inverse-surface: var(--wy-neutral-90, #e2e2e5);--wy-on-inverse-surface: var(--wy-neutral-20, #2f3033);--wy-inverse-primary: var(--wy-primary-40, #006399);--wy-surface-1: var(--wy-surface-1-dark, #212427);--wy-surface-2: var(--wy-surface-2-dark, #25292d);--wy-surface-3: var(--wy-surface-3-dark, #292e33);--wy-surface-4: var(--wy-surface-4-dark, #2b3035);--wy-surface-5: var(--wy-surface-5-dark, #2d3338);--wy-link: var(--wy-primary-80, #95ccff);--wy-blue: var(--wy-blue-dark, #b1c5ff);--wy-indigo: var(--wy-indigo-dark, #9185de);--wy-purple: var(--wy-purple-dark, #e38fd3);--wy-pink: var(--wy-pink-dark, #f48bae);--wy-red: var(--wy-red-dark, #db726c);--wy-orange: var(--wy-orange-dark, #e89a3a);--wy-yellow: var(--wy-yellow-dark, #cacc58);--wy-green: var(--wy-green-dark, #00a38b);--wy-teal: var(--wy-teal-dark, #00a0a8);--wy-cyan: var(--wy-cyan-dark, #009dc3);--wy-gray: var(--wy-gray-dark, #909194);--wy-presence-active: var(--wy-green-dark, #00a38b);--wy-code-text: var(--wy-code-text-dark, #cccccc);--wy-code-variable: var(--wy-code-variable-dark, #9CDCFE);--wy-code-operator: var(--wy-code-operator-dark, #d4d4d4);--wy-code-prolog: var(--wy-code-prolog-dark, #569CD6);--wy-code-comment: var(--wy-code-comment-dark, #6a9955);--wy-code-builtin: var(--wy-code-builtin-dark, #4fc1ff);--wy-code-number: var(--wy-code-number-dark, #b5cea8);--wy-code-inserted: var(--wy-code-inserted-dark, #b5cea8);--wy-code-constant: var(--wy-code-constant-dark, #646695);--wy-code-hexcode: var(--wy-code-hexcode-dark, #646695);--wy-code-regex: var(--wy-code-regex-dark, #d16969);--wy-code-char: var(--wy-code-char-dark, #d16969);--wy-code-tag: var(--wy-code-tag-dark, #569cd6);--wy-code-attr-name: var(--wy-code-attr-name-dark, #9cdcfe);--wy-code-selector: var(--wy-code-selector-dark, #9cdcfe);--wy-code-property: var(--wy-code-property-dark, #9cdcfe);--wy-code-deleted: var(--wy-code-deleted-dark, #ce9178);--wy-code-string: var(--wy-code-string-dark, #ce9178);--wy-code-changed: var(--wy-code-changed-dark, #569cd6);--wy-code-punctuation: var(--wy-code-punctuation-dark, #D4D4D4);--wy-code-function: var(--wy-code-function-dark, #569cd6);--wy-code-keyword: var(--wy-code-keyword-dark, #C586C0);--wy-code-class-name: var(--wy-code-class-name-dark, #4ec9b0)}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]){box-sizing:border-box;text-align:initial;font-size:var(--wy-font-size-base, var(--wy-font-size, 1em))}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:before,:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:after{box-sizing:inherit}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where(a),:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where(a){text-decoration:var(--wy-link-decoration, none);color:var(--wy-link, var(--wy-primary-40, #006399))}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where(a):hover,:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where(a):hover{text-decoration:var(--wy-link-hover-decoration, unset)}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where(a):where(:not([href]):not([class])),:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where(a):where(:not([href]):not([class])):hover,:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where(a):where(:not([href]):not([class])),:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where(a):where(:not([href]):not([class])):hover{text-decoration:none}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where(p),:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where(p){margin-top:0;margin-bottom:calc(1 * var(--wy-rem, 1rem))}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where(label),:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where(label){cursor:inherit}:where(:host,:host>*,[class^=wy-],[class*=" wy-"])[hidden],:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *[hidden]{display:none!important}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where([role=button]),:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where([role=button]){cursor:pointer}.wy-scroll-y{overflow-y:auto;touch-action:pan-y,pan-x;will-change:scroll-position,opacity;backface-visibility:hidden;max-height:100%;scroll-padding-top:var(--wy-scrollbar-adjust-top, 0);scroll-padding-bottom:var(--wy-scrollbar-adjust-bottom, 0)}.wy-scroll-y:not(body){-webkit-overflow-scrolling:touch}.wy-scroll-y:not(.wy-scroll-x){overflow-x:hidden;touch-action:pan-y}.wy-scroll-x{overflow-x:auto;touch-action:pan-y,pan-x;will-change:scroll-position,opacity;backface-visibility:hidden;max-width:100%}.wy-scroll-x:not(.wy-scroll-y){overflow-y:hidden;touch-action:pan-x}.wy-scrollbars.wy-scroll-y,.wy-scrollbars .wy-scroll-y{scrollbar-width:thin;scrollbar-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e)) transparent}@supports (overflow-y: overlay){.wy-scrollbars.wy-scroll-y,.wy-scrollbars .wy-scroll-y{overflow-y:overlay}}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar{height:.625rem;width:.625rem;background:transparent;z-index:999}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar-track,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar-track{background:transparent}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar-thumb,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar-thumb{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));border:.125rem solid transparent;border-radius:.5rem;background-clip:padding-box;opacity:75%}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar-thumb:hover,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar-thumb:hover{background-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));opacity:75%}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar-thumb:window-inactive,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar-thumb:window-inactive{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));opacity:50%}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar-button:vertical:start:single-button,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar-button:vertical:start:single-button{height:var(--wy-scrollbar-adjust-top, 0)}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar-button:vertical:end:single-button,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar-button:vertical:end:single-button{height:var(--wy-scrollbar-adjust-bottom, 0)}.wy-block-scroll{overflow:hidden!important}.wy-scrollbar-detection{position:fixed;top:0;left:0;width:8rem;height:8rem;overflow:scroll;z-index:-99999;pointer-events:none;visibility:hidden}.wy-appbars{backface-visibility:hidden;--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));background-color:var(--wy-component-background-color);box-shadow:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce)) 0 -1px 0 0 inset}@supports (position: sticky){.wy-appbars{position:sticky;top:0;z-index:1020}}@supports (backdrop-filter: blur(calc(.5 * var(--wy-rem, 1rem)))){.wy-appbars{-webkit-backdrop-filter:blur(calc(.5 * var(--wy-rem, 1rem)));backdrop-filter:blur(calc(.5 * var(--wy-rem, 1rem)))}.wy-appbars>.wy-appbar{-webkit-backdrop-filter:none;backdrop-filter:none}}.wy-appbars>.wy-appbar,.wy-appbars>.wy-toolbar{background-color:transparent;box-shadow:none}.wy-appbar{--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));display:grid;align-items:center;justify-content:space-between;justify-items:center;height:var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)));padding:calc(.25 * var(--wy-rem, 1rem));flex:0 0 var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)));grid-template-columns:minmax(calc(2.5 * var(--wy-rem, 1rem)),max-content) minmax(0,max-content) minmax(calc(2.5 * var(--wy-rem, 1rem)),max-content);column-gap:calc(.5 * var(--wy-rem, 1rem));line-height:var(--wy-line-height-base, );background-color:var(--wy-component-background-color);color:var(--wy-component-color);box-shadow:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce)) 0 -1px 0 0 inset}.wy-appbar .wy-badge{align-self:center}.wy-appbar .wy-button{max-height:calc(2.5 * var(--wy-rem, 1rem))}.wy-appbar-buttons,.wy-toolbar-buttons{display:flex;flex:0 0 auto;align-items:center}.wy-toolbar-buttons-last{margin-inline-start:auto}.wy-appbar-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%;display:block;color:inherit!important;-webkit-user-select:none;user-select:none}.wy-appbar-text a,.wy-appbar-text a:hover{color:inherit}.wy-appbar-text-trashed{text-decoration:line-through}.wy-toolbars-bottom{position:absolute;z-index:1030;bottom:calc(var(--wy-footerbar-height, calc(4 * var(--wy-rem, 1rem))) / 2);left:0;right:0;min-height:var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)));display:flex;flex-direction:column;justify-content:center;justify-items:center}.wy-toolbar{--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-start;justify-items:center;min-height:var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)));padding:calc(.25 * var(--wy-rem, 1rem));flex:1 0 var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)));column-gap:calc(.25 * var(--wy-rem, 1rem));line-height:var(--wy-line-height-base, );background-color:var(--wy-component-background-color);color:var(--wy-component-color);box-shadow:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce)) 0 -1px 0 0 inset}.wy-toolbar-center{margin:0 auto;border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))}.wy-toolbar-center .wy-input{text-align:center}.wy-toolbar-text{margin-left:calc(.25 * var(--wy-rem, 1rem))}.wy-footerbars{padding-bottom:var(--wy-footerbar-height, calc(4 * var(--wy-rem, 1rem)))}.wy-footerbars>.wy-toolbar{box-shadow:none}.wy-footerbar{--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));position:absolute;bottom:0;left:0;right:0;z-index:1020}.wy-footerbar:after{content:"";background-color:var(--wy-component-background-color);color:var(--wy-component-color);box-shadow:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce)) 0 1px 0 0 inset;position:absolute;width:100%;left:0;bottom:0;height:100%;z-index:-1;backface-visibility:hidden}@supports (backdrop-filter: blur(calc(.5 * var(--wy-rem, 1rem)))){.wy-footerbar:after{-webkit-backdrop-filter:blur(calc(.5 * var(--wy-rem, 1rem)));backdrop-filter:blur(calc(.5 * var(--wy-rem, 1rem)))}}.wy-footerbar .wy-buttons{flex-direction:row-reverse}.wy-footerbar .wy-buttons>:not(:last-child){margin:0 0 0 calc(.5 * var(--wy-rem, 1rem))}.wy-footerbar-sticky{position:sticky}.wy-footerbars-fixed .wy-footerbar{position:fixed}.wy-footerbars-fixed .wy-footerbar:after{position:fixed;height:var(--wy-footerbar-height, calc(4 * var(--wy-rem, 1rem)))}wy-avatar{position:relative;display:block}.wy-avatar{border-radius:50%}.wy-avatar-img{width:var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem)));height:var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem)))}.wy-avatar-initials{background-color:var(--wy-component-avatar-background-color, var(--wy-primary, var(--wy-primary-40, #006399)));color:var(--wy-component-avatar-color, var(--wy-on-primary, var(--wy-white, #ffffff)));width:var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem)));height:var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem)));display:flex;align-items:center;align-content:center;justify-content:center;justify-items:center;font-size:calc(var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem))))}.wy-avatar-initials>span{font-size:max(8px,var(--wy-avatar-font-size, .382em));font-weight:var(--wy-avatar-font-weight, 600);line-height:1}.wy-avatar-type{display:flex;position:absolute;z-index:1;bottom:0;right:-8.3333333333%;border-radius:50%;background-color:var(--wy-primary, var(--wy-primary-40, #006399));color:var(--wy-on-primary, var(--wy-white, #ffffff))}.wy-avatar-header{padding:calc(1.5 * var(--wy-rem, 1rem));margin-left:auto;margin-right:auto;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.wy-avatar-presence{position:relative;display:flex}.wy-avatar-group{position:relative;display:inline-flex;flex-shrink:0;width:var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem)));height:var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem)))}.wy-avatar-group wy-avatar:first-child{position:absolute;top:0;left:0;display:unset;-webkit-mask-image:radial-gradient(at bottom right,rgba(0,0,0,0) calc(35% + .125 * var(--wy-rem, 1rem)),rgb(0,0,0) calc(35% + .1875 * var(--wy-rem, 1rem)));mask-image:radial-gradient(at bottom right,#0000 calc(35% + .125 * var(--wy-rem, 1rem)),#000 calc(35% + .1875 * var(--wy-rem, 1rem)))}.wy-avatar-group wy-avatar:last-child{position:absolute;bottom:0;right:0;display:unset}.wy-presence{background-color:var(--wy-component-background-color, transparent);width:calc(.75 * var(--wy-rem, 1rem));height:calc(.75 * var(--wy-rem, 1rem));border-radius:50%;position:absolute;bottom:0;right:-5%;box-sizing:border-box}.wy-presence:not(.wy-presence-active){display:none}.wy-presence:after{content:"";position:absolute;width:100%;height:100%;top:0;left:0;border-radius:inherit;background-color:var(--wy-presence-active, var(--wy-green-light, #00a38b));background-clip:content-box;padding:calc(.125 * var(--wy-rem, 1rem));box-sizing:border-box}.wy-presence-away:after{background-color:var(--wy-presence-away, var(, ))}.wy-presence-in-text{position:absolute;top:calc(.375 * var(--wy-rem, 1rem));left:calc(.25 * var(--wy-rem, 1rem));bottom:auto;right:auto}.wy-button{--wy-component-color: var(--wy-primary, var(--wy-primary-40, #006399));color:var(--wy-component-color);background:var(--wy-component-background-color, transparent);padding:var(--wy-btn-padding-y, .5em) var(--wy-btn-padding-x, 1.5em);font-family:var(--wy-btn-font-family, var(--wy-font-family, unset)),inherit;font-size:var(--wy-btn-font-size, var(--wy-font-size-base, 1em));font-weight:var(--wy-btn-font-weight, 400);line-height:var(--wy-btn-line-height, var(--wy-line-height, 1.5));text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;user-select:none;border:var(--wy-btn-border-width, 0) solid var(--wy-btn-border-color, transparent);border-radius:var(--wy-btn-border-radius, 1.25em);display:inline-flex;align-items:center;justify-content:center;gap:calc(.25 * var(--wy-rem, 1rem));position:relative}.wy-button:not(.wy-button-link,:disabled)>*{z-index:3}.wy-button:not(.wy-button-link,:disabled):before{content:"";z-index:2;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;background:var(--wy-component-color);opacity:0%}.wy-button:not(.wy-button-link,:disabled):hover:before{opacity:8%}.wy-button:not(.wy-button-link,:disabled):focus:before,.wy-button:not(.wy-button-link,:disabled):active:before,.wy-button:not(.wy-button-link,:disabled).wy-active:before{opacity:12%}.wy-button:disabled{opacity:var(--wy-opacity-disabled, 38%);cursor:unset;pointer-events:none}.wy-button-icon{--wy-component-color: var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e));width:calc(2.5 * var(--wy-rem, 1rem));height:calc(2.5 * var(--wy-rem, 1rem));padding:calc(.5 * var(--wy-rem, 1rem));line-height:1;border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));border-width:0;align-items:center;justify-content:center}.wy-button-icon.wy-active{--wy-component-color: var(--wy-primary, var(--wy-primary-40, #006399))}.wy-button-icon-inline{background:var(--wy-component-background-color);color:currentColor;border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));display:flex;width:auto;background-clip:content-box}.wy-button-inline{border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));padding:calc(.5 * var(--wy-rem, 1rem)) calc(.75 * var(--wy-rem, 1rem))}.wy-button-primary{--wy-component-background-color: var(--wy-primary, var(--wy-primary-40, #006399));--wy-component-color: var(--wy-on-primary, var(--wy-white, #ffffff))}.wy-button-variant{--wy-component-background-color: var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb));--wy-component-color: var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e))}.wy-button-primary-text{--wy-component-color: var(--wy-primary, var(--wy-primary-40, #006399))}.wy-button-link{padding:0;color:var(--wy-link-color, var(--wy-primary, var(--wy-primary-40, #006399)));text-decoration:var(--wy-link-decoration, none)}.wy-button-link:hover,.wy-button-link:focus{text-decoration:var(--wy-link-hover-decoration, unset)}.wy-buttons{display:flex;align-items:center;flex-wrap:wrap;gap:calc(.5 * var(--wy-rem, 1rem))}.wy-code pre,.wy-content pre{text-wrap:pretty}.wy-code code[class*=language-],.wy-code pre[class*=language-],.wy-content code[class*=language-],.wy-content pre[class*=language-]{color:var(--wy-code-text, var(--wy-code-text-light, #3b3b3b));font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:break-word;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}@media print{.wy-code code[class*=language-],.wy-code pre[class*=language-],.wy-content code[class*=language-],.wy-content pre[class*=language-]{text-shadow:none}}.wy-code pre[class*=language-],.wy-content pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}.wy-code :not(pre)>code[class*=language-],.wy-code pre[class*=language-],.wy-content :not(pre)>code[class*=language-],.wy-content pre[class*=language-]{color:var(--wy-code-text, var(--wy-code-text-light, #3b3b3b));background:var(--wy-background, var(--wy-neutral-99, #fcfcff))}.wy-code :not(pre)>code[class*=language-],.wy-content :not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.wy-code .token.variable,.wy-content .token.variable{color:var(--wy-code-variable, var(--wy-code-variable-light, #001080))}.wy-code .token.operator,.wy-content .token.operator{color:var(--wy-code-operator, var(--wy-code-operator-light, #000000))}.wy-code .token.prolog,.wy-content .token.prolog{color:var(--wy-code-prolog, var(--wy-code-prolog-light, #000080))}.wy-code .token.comment,.wy-content .token.comment{color:var(--wy-code-comment, var(--wy-code-comment-light, #008000))}.wy-code .token.builtin,.wy-content .token.builtin{color:var(--wy-code-builtin, var(--wy-code-builtin-light, #0070C1))}.wy-code .token.number,.wy-content .token.number{color:var(--wy-code-number, var(--wy-code-number-light, #098658))}.wy-code .token.inserted,.wy-content .token.inserted{color:var(--wy-code-inserted, var(--wy-code-inserted-light, #098658))}.wy-code .token.constant,.wy-content .token.constant{color:var(--wy-code-constant, var(--wy-code-constant-light, #811F3F))}.wy-code .token.hexcode,.wy-content .token.hexcode{color:var(--wy-code-hexcode, var(--wy-code-hexcode-light, #811F3F))}.wy-code .token.regex,.wy-content .token.regex{color:var(--wy-code-regex, var(--wy-code-regex-light, #811F3F))}.wy-code .token.char,.wy-content .token.char{color:var(--wy-code-char, var(--wy-code-char-light, #811F3F))}.wy-code .token.tag,.wy-content .token.tag{color:var(--wy-code-tag, var(--wy-code-tag-light, #800000))}.wy-code .token.attr-name,.wy-content .token.attr-name{color:var(--wy-code-attr-name, var(--wy-code-attr-name-light, #E50000))}.wy-code .token.selector,.wy-content .token.selector{color:var(--wy-code-selector, var(--wy-code-selector-light, #E50000))}.wy-code .token.property,.wy-content .token.property{color:var(--wy-code-property, var(--wy-code-property-light, #E50000))}.wy-code .token.deleted,.wy-content .token.deleted{color:var(--wy-code-deleted, var(--wy-code-deleted-light, #A31515))}.wy-code .token.string,.wy-content .token.string{color:var(--wy-code-string, var(--wy-code-string-light, #A31515))}.wy-code .token.changed,.wy-content .token.changed{color:var(--wy-code-changed, var(--wy-code-changed-light, #0451A5))}.wy-code .token.punctuation,.wy-content .token.punctuation{color:var(--wy-code-punctuation, var(--wy-code-punctuation-light, #000000))}.wy-code .token.function,.wy-content .token.function{color:var(--wy-code-function, var(--wy-code-function-light, #0000FF))}.wy-code .token.keyword,.wy-content .token.keyword{color:var(--wy-code-keyword, var(--wy-code-keyword-light, #AF00DB))}.wy-code .token.class-name,.wy-content .token.class-name{color:var(--wy-code-class-name, var(--wy-code-class-name-light, #267F99))}.wy-code .token.important,.wy-code .token.bold,.wy-content .token.important,.wy-content .token.bold{font-weight:700}.wy-code .token.italic,.wy-content .token.italic{font-style:italic}.wy-content{overflow-wrap:break-word;min-width:0}.wy-content :not(pre)>code{overflow-wrap:inherit}.wy-content pre,.wy-content pre>code[class*=language-]{white-space:pre-wrap}.wy-content :first-child{margin-top:0}.wy-content :last-child{margin-bottom:0}.wy-content:empty{display:none}.wy-hashtag{color:var(--wy-primary, var(--wy-primary-40, #006399))}.wy-mention{font-weight:700}.wy-dropdown,.wy-dropup{position:relative}.wy-dropdown-toggle{white-space:nowrap}.wy-dropdown-menu{--wy-component-background-color: var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);position:absolute;z-index:1000;min-width:calc(10 * var(--wy-rem, 1rem));padding:0;margin:0;font-size:var(--wy-font-size-base, var(--wy-font-size, 1em));text-align:left;list-style:none;background-clip:padding-box;border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level1, 0 calc(.125 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.1875 * var(--wy-rem, 1rem)) calc(.0625 * var(--wy-rem, 1rem)) calc(-.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12));overflow:hidden;display:block}.wy-dropdown-menu[data-bs-popper]{top:100%;left:0;margin-top:calc(.25 * var(--wy-rem, 1rem))}.wy-dropup .wy-dropdown-menu{top:auto;bottom:100%;margin-top:0;margin-bottom:0}[data-bs-toggle=dropdown]~.wy-dropdown-menu:not(.show){display:none}[data-bs-toggle=dropdown]~.wy-dropdown-menu[hidden].show{display:block!important}.wy-dropdown-menu-end{right:0}.wy-dropdown-item{background-color:transparent;color:var(--wy-component-color, var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e)));display:block;width:100%;padding:calc(.75 * var(--wy-rem, 1rem)) calc(1 * var(--wy-rem, 1rem));clear:both;font-family:var(--wy-font-family, unset),inherit;font-size:inherit;font-weight:400;line-height:1;text-align:inherit;text-decoration:none;white-space:nowrap;border:0;gap:calc(.25 * var(--wy-rem, 1rem));cursor:pointer;display:flex;align-items:center}.wy-dropdown-item:hover,.wy-dropdown-item:focus{--wy-component-color: var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e));--wy-component-background-color: var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb));color:var(--wy-component-color);background-color:var(--wy-component-background-color);text-decoration:none}.wy-dropdown-item.wy-active,.wy-dropdown-item:active{--wy-component-color: var(--wy-on-primary-container, var(--wy-primary-10, #001d32));--wy-component-background-color: var(--wy-primary-container, var(--wy-primary-90, #cde5ff));color:var(--wy-component-color);background-color:var(--wy-component-background-color);text-decoration:none}.wy-dropdown-item.wy-disabled,.wy-dropdown-item:disabled{color:var(--wy-component-color);background-color:var(--wy-component-background-color);pointer-events:none;opacity:var(--wy-opacity-disabled, 38%)}.wy-dropdown-item>img,.wy-dropdown-item>wy-icon{margin-right:calc(.5 * var(--wy-rem, 1rem))}.wy-dropdown-item>img,.wy-dropdown-item>img .wy-icon,.wy-dropdown-item>wy-icon,.wy-dropdown-item>wy-icon .wy-icon{color:inherit}.wy-dropdown-item:active>wy-icon,.wy-dropdown-item:active>wy-icon .wy-icon{color:inherit}.wy-dropdown-item.wy-option wy-icon{visibility:hidden}.wy-dropdown-item.wy-option.wy-selected wy-icon{visibility:visible}.wy-dropdown-divider{height:0;margin:0;overflow:hidden;border:none;border-top:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-emoji{font-size:1.25em;width:1em;height:1em;vertical-align:-.125em;line-height:1;display:inline-flex;justify-content:center;align-items:center}img.wy-emoji,svg.wy-emoji{vertical-align:-.25em}.wy-empty{display:flex;align-items:center;justify-content:center;flex:1;min-width:0;position:relative}.wy-icon{display:inline-flex;align-items:center;justify-content:center;flex:0 0 auto;position:relative;width:var(--wy-component-icon-width);height:var(--wy-component-icon-height)}.wy-icon:not([width]),.wy-icon[width="24"]{width:var(--wy-component-icon-width, calc(1.5 * var(--wy-rem, 1rem)))}.wy-icon:not([height]),.wy-icon[height="24"]{height:var(--wy-component-icon-height, calc(1.5 * var(--wy-rem, 1rem)))}.wy-icon-first{margin-left:calc(-.5 * var(--wy-rem, 1rem))}.wy-icon-last{margin-right:calc(-.5 * var(--wy-rem, 1rem))}.wy-icon-padded{margin:16.66666667%}.wy-icon-inline{vertical-align:-.25em}.wy-icon-overlay{position:absolute;bottom:0;right:0;background:var(--wy-component-background-color, var(--wy-background, var(--wy-neutral-99, #fcfcff)));border-radius:50%;border:1px solid var(--wy-component-background-color, var(--wy-background, var(--wy-neutral-99, #fcfcff)))}.wy-icon-stack{display:inline-flex;position:relative;line-height:1}.wy-icon-stack .wy-icon:last-child,.wy-icon-stack>svg:last-child{position:absolute;bottom:0;right:0;background-color:var(--wy-component-background-color, var(--wy-background, var(--wy-neutral-99, #fcfcff)));border-radius:50%;width:calc(var(--wy-component-icon-width) / 2);height:calc(var(--wy-component-icon-height) / 2)}.wy-icon-active-stack{display:inline-flex;position:relative;line-height:1}.wy-icon-active-stack .wy-icon-stack-item{transition:opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));align-self:center;justify-self:center;margin:auto}.wy-icon-active-stack .wy-icon-stack-item:last-child{position:absolute;opacity:0}.wy-icon-active-stack.wy-active .wy-icon-stack-item:first-child,.wy-active .wy-icon-active-stack .wy-icon-stack-item:first-child{opacity:0}.wy-icon-active-stack.wy-active .wy-icon-stack-item:last-child,.wy-active .wy-icon-active-stack .wy-icon-stack-item:last-child{opacity:1}.wy-icon:not([class*=wy-icon-color-]):not([class*=wy-kind-]):not([data-icon=progress]) *{fill:currentColor}.wy-content-icon{color:var(--wy-component-color, var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e)));border-radius:var(--wy-component-border-radius, var(--wy-border-radius-lg, calc(1.5 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem))))));display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:calc(1 * var(--wy-rem, 1rem)) calc(2 * var(--wy-rem, 1rem));margin:auto}.wy-content-icon>.wy-icon-stack,.wy-content-icon>.wy-icon,.wy-content-icon>wy-icon,.wy-content-icon ::slotted(.wy-icon-stack),.wy-content-icon ::slotted(.wy-icon),.wy-content-icon ::slotted(wy-icon){--wy-component-icon-width: calc(4 * var(--wy-rem, 1rem));--wy-component-icon-height: calc(4 * var(--wy-rem, 1rem))}.wy-content-name,.wy-content-meta{padding:calc(1 * var(--wy-rem, 1rem)) calc(2 * var(--wy-rem, 1rem));text-align:center}.wy-icon-color-theme *,.wy-icon-color-theme * *{fill:var(--wy-theme, var(, ))}.wy-icon-color-primary *,.wy-icon-color-primary * *{fill:var(--wy-primary, var(--wy-primary-40, #006399))}.wy-icon-color-secondary *,.wy-icon-color-secondary * *{fill:var(--wy-secondary, var(--wy-secondary-40, #3b6a1c))}.wy-icon-color-tertiary *,.wy-icon-color-tertiary * *{fill:var(--wy-tertiary, var(--wy-tertiary-40, #3b6a1c))}.wy-icon-color-surface *,.wy-icon-color-surface * *{fill:var(--wy-surface, var(--wy-neutral-99, #fcfcff))}.wy-icon-color-surface-variant *,.wy-icon-color-surface-variant * *{fill:var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb))}.wy-icon-color-error *,.wy-icon-color-error * *{fill:var(--wy-error, var(--wy-error-40, #ba1824))}.wy-icon-color-warning *,.wy-icon-color-warning * *{fill:var(--wy-warning, var(--wy-warning-70, #afb140))}.wy-icon-color-blue *,.wy-icon-color-blue * *{fill:var(--wy-blue, var(--wy-blue-light, #89a9fc))}.wy-icon-color-indigo *,.wy-icon-color-indigo * *{fill:var(--wy-indigo, var(--wy-indigo-light, #9185de))}.wy-icon-color-purple *,.wy-icon-color-purple * *{fill:var(--wy-purple, var(--wy-purple-light, #c675b7))}.wy-icon-color-pink *,.wy-icon-color-pink * *{fill:var(--wy-pink, var(--wy-pink-light, #d57194))}.wy-icon-color-red *,.wy-icon-color-red * *{fill:var(--wy-red, var(--wy-red-light, #db726c))}.wy-icon-color-orange *,.wy-icon-color-orange * *{fill:var(--wy-orange, var(--wy-orange-light, #e89a3a))}.wy-icon-color-yellow *,.wy-icon-color-yellow * *{fill:var(--wy-yellow, var(--wy-yellow-light, #afb140))}.wy-icon-color-green *,.wy-icon-color-green * *{fill:var(--wy-green, var(--wy-green-light, #00a38b))}.wy-icon-color-teal *,.wy-icon-color-teal * *{fill:var(--wy-teal, var(--wy-teal-light, #00a0a8))}.wy-icon-color-cyan *,.wy-icon-color-cyan * *{fill:var(--wy-cyan, var(--wy-cyan-light, #0082a1))}.wy-icon-color-gray *,.wy-icon-color-gray * *{fill:var(--wy-gray, var(--wy-gray-light, #76777a))}.wy-icon-color-black *,.wy-icon-color-black * *{fill:var(--wy-black, var(, ))}.wy-icon-color-white *,.wy-icon-color-white * *{fill:var(--wy-white, var(, ))}[class*=wy-kind-],[class*=wy-kind-] *{fill:var(--wy-gray, var(--wy-gray-light, #76777a))}.wy-kind-archive{fill:var(--wy-orange, var(--wy-orange-light, #e89a3a))}.wy-kind-audio *{fill:var(--wy-teal, var(--wy-teal-light, #00a0a8))}.wy-kind-code *{fill:var(--wy-green, var(--wy-green-light, #00a38b))}.wy-kind-document *{fill:var(--wy-blue, var(--wy-blue-light, #89a9fc))}.wy-kind-email *{fill:var(--wy-red, var(--wy-red-light, #db726c))}.wy-kind-presentation *{fill:var(--wy-orange, var(--wy-orange-light, #e89a3a))}.wy-kind-spreadsheet *{fill:var(--wy-green, var(--wy-green-light, #00a38b))}.wy-kind-image *{fill:var(--wy-pink, var(--wy-pink-light, #d57194))}.wy-kind-text *{fill:var(--wy-cyan, var(--wy-cyan-light, #0082a1))}.wy-kind-video *{fill:var(--wy-purple, var(--wy-purple-light, #c675b7))}.wy-ext-pdf *{fill:var(--wy-red, var(--wy-red-light, #db726c))}.wy-kind-text-icon{width:calc(1.25 * var(--wy-rem, 1rem));height:calc(1.25 * var(--wy-rem, 1rem));vertical-align:calc(-.3125 * var(--wy-rem, 1rem))}[data-icon=progress].wy-icon-primary{color:var(--wy-primary, var(--wy-primary-40, #006399))}[data-icon=progress] :first-child{fill:none;stroke:var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb))}[data-icon=progress] :last-child{fill:none;stroke:currentColor}.wy-image-grid{display:flex;flex-wrap:wrap;justify-content:space-evenly;position:relative;border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));overflow:hidden;column-gap:1px;row-gap:1px}.wy-image-grid .wy-image{padding:0;width:50%;position:relative;flex:auto;background-color:inherit;background-clip:content-box}.wy-image-grid .wy-image:first-of-type:not(:nth-last-of-type(2)){flex-basis:100%!important}.wy-image-grid .wy-image-area{display:block;height:100%;cursor:pointer}.wy-image-grid .wy-image-area img{position:absolute;height:100%;width:100%;object-fit:contain}.wy-image-grid .wy-more{position:absolute;line-height:100%;color:var(--wy-white, #ffffff);top:0;left:0;bottom:0;right:0;display:flex;align-items:center;justify-content:center;font-size:calc(1.5 * var(--wy-rem, 1rem));background:rgba(0,0,0,var(--wy-opacity-disabled, 38%))}.wy-title{font-size:1.25em;font-style:var(--wy-headings-font-style, unset);font-weight:var(--wy-headings-font-weight, 500);line-height:var(--wy-headings-line-height, var(--wy-line-height, 1.5));margin-block:.5em}.wy-input{--wy-component-background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);border:var(--wy-input-border-width, 1px) solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));display:block;width:100%;min-height:calc(2.5 * var(--wy-rem, 1rem));padding:var(--wy-input-padding-y, calc(.4375 * var(--wy-rem, 1rem))) var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem)));font-family:var(--wy-input-font-family, var(--wy-font-family, inherit)),inherit;font-size:var(--wy-input-font-size, var(--wy-font-size-base, 1em));font-weight:var(--wy-input-font-weight, var(--wy-font-weight, unset));line-height:var(--wy-input-line-height, var(--wy-line-height, calc(1.5 * var(--wy-rem, 1rem))));background-clip:padding-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--wy-input-border-radius, var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem))))}.wy-input:focus{--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));color:var(--wy-component-color);border-color:var(--wy-primary, var(--wy-primary-40, #006399));outline:0}.wy-input::placeholder{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));opacity:1}.wy-input:disabled{opacity:38%}.wy-input::file-selector-button,.wy-input::-webkit-file-upload-button{color:var(--wy-component-color);background-color:var(--wy-component-background-color);padding:var(--wy-input-padding-y, calc(.4375 * var(--wy-rem, 1rem))) var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem)));margin:calc(-1 * var(--wy-input-padding-y, calc(.4375 * var(--wy-rem, 1rem)))) calc(-1 * var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem))));margin-inline-end:var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem)));pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:var(--wy-input-border-width, 1px);border-radius:0}.wy-input:hover:not(:disabled):not([readonly])::file-selector-button,.wy-input:hover:not(:disabled):not([readonly]) ::-webkit-file-upload-button{background-color:var(--wy-component-background-color)}.wy-input[type=file]{overflow:hidden}.wy-input[type=file]:not(:disabled):not([readonly]){cursor:pointer}.wy-input::-webkit-date-and-time-value{height:calc(var(--wy-input-line-height, var(--wy-line-height, calc(1.5 * var(--wy-rem, 1rem)))) * 1em)}.wy-input[type=search]::-webkit-search-cancel-button{-webkit-appearance:none}.wy-input-filled{--wy-component-background-color: var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);border-radius:calc(1.25 * var(--wy-rem, 1rem));border-color:var(--wy-component-background-color)}.wy-input-filled:focus{border-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-label{display:inline-block;margin-bottom:calc(.5 * var(--wy-rem, 1rem))}.wy-description{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)));margin-top:calc(.25 * var(--wy-rem, 1rem))}.wy-is-invalid,.wy-is-invalid:focus{border-color:var(--wy-error, var(--wy-error-40, #ba1824))}.wy-invalid-feedback{margin-top:calc(.25 * var(--wy-rem, 1rem));font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)));color:var(--wy-error, var(--wy-error-40, #ba1824))}.wy-input-group{position:relative}.wy-input-group>wy-icon{position:absolute;top:0;left:0;z-index:4}.wy-input-group>wy-icon+.wy-input{padding-left:calc(2.5 * var(--wy-rem, 1rem))}.wy-input-group-button-icon{position:absolute;top:0;right:0;z-index:4;border-radius:var(--wy-input-border-radius, var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem))))}.wy-input-group>wy-button{--wy-component-background-color: transparent}.wy-input-group-input{padding-right:calc(2.5 * var(--wy-rem, 1rem))}.wy-input-group-input:placeholder-shown~.wy-input-group-button-icon[type=reset]{display:none}.wy-input-group-input:not(:placeholder-shown)~.wy-input-group-button-icon[type=reset]+.wy-input-group-button-icon{display:none}.wy-item{position:relative;display:flex;align-items:center;gap:calc(.5 * var(--wy-rem, 1rem));padding:calc(.25 * var(--wy-rem, 1rem)) calc(.75 * var(--wy-rem, 1rem));text-decoration:none;min-height:calc(3 * var(--wy-rem, 1rem))}.wy-item>.wy-avatar,.wy-item>wy-icon,.wy-item>wy-spinner,.wy-item>.wy-icon-stack{margin-left:calc(-.25 * var(--wy-rem, 1rem))}.wy-item-body{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wy-item-body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wy-item-body+.wy-dropdown,.wy-item-body+.wy-button-icon,.wy-item-body+.wy-item-actions{margin-right:calc(-.5 * var(--wy-rem, 1rem))}.wy-item-body+.wy-emoji{margin-right:calc(.125 * var(--wy-rem, 1rem))}.wy-item-title{color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));font-weight:var(--wy-headings-font-weight, 500);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wy-item-text{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)))}.wy-item-text .wy-icon{width:calc(1.25 * var(--wy-rem, 1rem));height:calc(1.25 * var(--wy-rem, 1rem));vertical-align:calc(-.3125 * var(--wy-rem, 1rem))}.wy-item-actions{--wy-component-background-color: transparent;display:flex;align-items:center;flex:0 0 auto}.wy-item-actions-top{position:absolute;top:calc(.25 * var(--wy-rem, 1rem));right:calc(.25 * var(--wy-rem, 1rem));margin:0!important}.wy-item-actions-bottom{position:absolute;bottom:calc(.25 * var(--wy-rem, 1rem));right:calc(.25 * var(--wy-rem, 1rem));margin:0!important}.wy-item-body:has(+.wy-item-actions-bottom) .wy-item-row:last-child{margin-right:calc(4.5 * var(--wy-rem, 1rem))}.wy-item-body:has(+.wy-item-actions-top) .wy-item-row:first-child{margin-right:calc(2 * var(--wy-rem, 1rem))}.wy-action-label{margin-right:calc(.5 * var(--wy-rem, 1rem));font-style:italic}.wy-item-row{display:flex;align-items:baseline}.wy-item-row:first-child{margin-bottom:calc(.125 * var(--wy-rem, 1rem))}.wy-item-row .wy-item-title,.wy-item-row .wy-item-text{margin-right:auto}.wy-item-row .wy-meta{margin:0 calc(.25 * var(--wy-rem, 1rem));white-space:nowrap}.wy-item-hover{-webkit-user-select:none;user-select:none;cursor:pointer}.wy-item-hover:hover,.wy-item-hover:focus{--wy-component-background-color: var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);text-decoration:none}.wy-item-hover:active{--wy-component-background-color: var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb));--wy-component-color: var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e));background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-item-hover.wy-disabled,.wy-item-hover:disabled{opacity:var(--wy-opacity-disabled, 38%);pointer-events:none}.wy-item-hover.wy-active{--wy-component-background-color: var(--wy-primary-container, var(--wy-primary-90, #cde5ff));--wy-component-color: var(--wy-on-primary-container, var(--wy-primary-10, #001d32));background-color:var(--wy-component-background-color);color:var(--wy-component-color);border-color:var(--wy-component-background-color)}.wy-item-trashed{text-decoration:line-through;opacity:var(--wy-opacity-disabled, 38%)}.wy-item-trashed.wy-item-hover:hover{opacity:1}.wy-item-lg{padding:calc(.75 * var(--wy-rem, 1rem));min-height:calc(4.5 * var(--wy-rem, 1rem));gap:calc(.75 * var(--wy-rem, 1rem))}.wy-item-lg>.wy-avatar,.wy-item-lg>wy-icon,.wy-item-lg>.wy-icon-stack{margin-left:0}.wy-list{border-radius:var(--wy-border-radius-sm, calc(.75 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))));display:flex;flex-direction:column;gap:1px;min-width:0}.wy-list .wy-item:not(.wy-item-hover){--wy-component-background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-list .wy-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.wy-list .wy-item:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.wy-list-bordered{border:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));gap:0}.wy-list-bordered .wy-item{border-top:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));border-left:none;border-right:none}.wy-list-bordered .wy-item:first-child{border-top:none}.wy-list-bordered .wy-item:last-child{border-bottom:none}.wy-list-bordered .wy-item+.wy-list-bordered .wy-item{border-top-width:0}.wy-messages{padding:calc(1 * var(--wy-rem, 1rem)) calc(1 * var(--wy-rem, 1rem)) calc(1 * var(--wy-rem, 1rem)) calc(.75 * var(--wy-rem, 1rem));flex:1 1 100%}.wy-message-placeholder{opacity:.5}.wy-date-separator{font-size:var(--wy-font-size-xs, calc(.75 * var(--wy-font-size-base, 1em)));pointer-events:none;margin:calc(.5 * var(--wy-rem, 1rem));text-align:center;position:sticky;top:calc(1.5 * var(--wy-rem, 1rem));z-index:10}.wy-date-separator time{background:var(--wy-surface-3, var(--wy-surface-3-light, #e3e7ee));color:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));padding:calc(.25 * var(--wy-rem, 1rem)) calc(.5 * var(--wy-rem, 1rem));border-radius:var(--wy-border-radius-sm, calc(.75 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))));display:inline-block}.wy-appbars+.wy-pane-body .wy-date-separator{top:calc(var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem))) + 1.5 * var(--wy-rem, 1rem))}.wy-message{display:flex;flex-direction:row;align-items:flex-start;margin-bottom:calc(1 * var(--wy-rem, 1rem));scroll-margin-block:6rem}.wy-message .wy-image-grid,.wy-message .wy-attachments{border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))}.wy-message-meta{font-size:var(--wy-font-size-xs, calc(.75 * var(--wy-font-size-base, 1em)));margin:0 0 calc(.25 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem));color:var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e))}.wy-message-bubble{--wy-component-background-color: var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb));--wy-component-color: var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);border-radius:calc(var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem))) + .5 * var(--wy-rem, 1rem));display:flex;flex-direction:column;padding:calc(.75 * var(--wy-rem, 1rem));gap:calc(.75 * var(--wy-rem, 1rem));max-width:min(32 * var(--wy-rem, 1rem),100% - 2 * var(--wy-rem, 1rem))}.wy-message-bubble>div{flex:1 1 100%}.wy-message-bubble .wy-likes,.wy-message-bubble .wy-reactions-line{position:relative;height:0;min-height:0;max-height:0;margin:0 calc(-.75 * var(--wy-rem, 1rem)) calc(-.75 * var(--wy-rem, 1rem));flex:0 0 0}.wy-message-bubble .wy-like-count{background:var(--wy-component-background-color);border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));color:currentColor}.wy-message-bubble .wy-reactions-line,.wy-message-bubble wy-reactions{display:flex;flex-direction:row-reverse;justify-content:flex-end}.wy-message-author{margin:calc(1.375 * var(--wy-rem, 1rem)) calc(.5 * var(--wy-rem, 1rem)) 0 0}.wy-message-content{display:flex;flex-direction:column;width:100%;align-items:flex-start;flex-wrap:wrap;min-width:0;position:relative}.wy-message-content-row{display:flex;flex-direction:row;align-items:center;max-width:100%}.wy-message-bot .wy-message-bubble{--wy-component-background-color: var(--wy-tertiary-container, var(--wy-tertiary-90, #bbf294));--wy-component-color: var(--wy-on-tertiary-container, var(--wy-tertiary-10, #0a2100));background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-message-me{margin-right:0;margin-left:calc(2.5 * var(--wy-rem, 1rem));align-items:flex-end}.wy-message-me .wy-message-meta{margin:0 calc(.25 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem)) 0}.wy-message-me .wy-message-content{align-items:flex-end}.wy-message-me .wy-message-content-row{flex-direction:row-reverse}.wy-message-me .wy-message-bubble{--wy-component-background-color: var(--wy-primary-container, var(--wy-primary-90, #cde5ff));--wy-component-color: var(--wy-on-primary-container, var(--wy-primary-10, #001d32));background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-message-me .wy-likes{flex-direction:row-reverse}.wy-message-me .wy-reactions-line,.wy-message-me wy-reactions{display:flex;flex-direction:row}.wy-message-me .wy-reactions-line .wy-dropdown-menu,.wy-message-me wy-reactions .wy-dropdown-menu{right:0}.wy-message-emoji .wy-message-bubble{background:none;padding:0 0 calc(.75 * var(--wy-rem, 1rem))}.wy-message-emoji .wy-content .wy-emoji{width:calc(3 * var(--wy-rem, 1rem));height:calc(3 * var(--wy-rem, 1rem));margin:0}.wy-message-emoji.wy-message-me .wy-content{text-align:end}.wy-readby-status{display:flex;gap:calc(.25 * var(--wy-rem, 1rem));height:calc(1.125 * var(--wy-rem, 1rem));justify-content:flex-end;margin-top:calc(-.125 * var(--wy-rem, 1rem))}.wy-status-pending,.wy-status-sent,.wy-status-delivered{--wy-component-background-color: var(--wy-inverse-primary, var(--wy-primary-80, #95ccff));color:var(--wy-component-background-color)}.wy-message-readmore{justify-self:center;text-align:center}.wy-meta{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)))}.wy-meta-sm{font-size:var(--wy-font-size-xs, calc(.75 * var(--wy-font-size-base, 1em)))}.wy-viewport{position:fixed;top:0;right:0;bottom:0;left:0;z-index:2147483647;pointer-events:none}.wy-overlays{pointer-events:none;width:100%;height:100%;max-width:none;display:flex;align-items:center;justify-content:center;transform-style:preserve-3d;overflow-y:initial;overflow-x:initial;perspective:calc(100 * var(--wy-rem, 1rem));perspective-origin:center center}.wy-overlays .wy-panel:not(.wy-transition){transform:translateZ(calc(-4 * var(--wy-rem, 1rem)))!important}.wy-overlays .wy-panel .wy-controls{position:absolute;border-bottom:none;flex-direction:row;transition:opacity .1s .2s step-end}.wy-overlays .wy-panel .wy-controls wy-icon{color:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e))}.wy-overlays .wy-panel.wy-loaded .wy-controls{pointer-events:none;opacity:0}.wy-overlays .wy-panel .wy-panel-frame{background-color:transparent}@media (min-width: 768px){.wy-overlays .wy-panel.wy-modal{left:auto;right:auto;top:calc(2 * var(--wy-rem, 1rem));bottom:calc(3.2 * var(--wy-rem, 1rem));margin-left:calc(4 * var(--wy-rem, 1rem));margin-top:auto;margin-right:calc(4 * var(--wy-rem, 1rem));margin-bottom:auto;border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level4, 0 calc(1 * var(--wy-rem, 1rem)) calc(2.25 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .14), 0 calc(.375 * var(--wy-rem, 1rem)) calc(1.875 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .12), 0 calc(.5 * var(--wy-rem, 1rem)) calc(.625 * var(--wy-rem, 1rem)) calc(-.3125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2));width:calc(32 * var(--wy-rem, 1rem));max-height:calc(32 * var(--wy-rem, 1rem))}.wy-overlays .wy-panel.wy-modal:not(.wy-scroll-y){overflow:hidden}}@media (min-width: 768px){.wy-overlays .wy-panel.wy-modal-full{left:calc(1 * var(--wy-rem, 1rem));top:calc(1 * var(--wy-rem, 1rem));right:calc(1 * var(--wy-rem, 1rem));bottom:calc(1 * var(--wy-rem, 1rem));margin:0;border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level4, 0 calc(1 * var(--wy-rem, 1rem)) calc(2.25 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .14), 0 calc(.375 * var(--wy-rem, 1rem)) calc(1.875 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .12), 0 calc(.5 * var(--wy-rem, 1rem)) calc(.625 * var(--wy-rem, 1rem)) calc(-.3125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2));width:auto;max-height:none}.wy-overlays .wy-panel.wy-modal-full:not(.wy-scroll-y){overflow:hidden}}.wy-overlays .wy-panel.wy-loading .wy-controls{transition:opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));opacity:1}tr.wy-pager{pointer-events:none}:not(tr).wy-pager:not(:empty){display:block;text-align:center;margin:calc(1 * var(--wy-rem, 1rem)) auto}tr.wy-pager td{text-align:center;border:0}tr.wy-pager td .wy-spinner{display:inline;margin:calc(1 * var(--wy-rem, 1rem)) auto}.wy-grid .wy-pager{display:flex}.wy-pane{display:flex;flex-direction:column;position:relative;min-height:0;height:100%;flex:1 1 auto}.wy-pane-body{display:flex;flex-direction:column;flex:1}.wy-pane-group{padding:calc(.75 * var(--wy-rem, 1rem))}.wy-pane-background{--wy-component-background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-panels{position:absolute;top:0;right:0;bottom:0;left:0;overscroll-behavior:contain;overflow-y:auto;overflow-x:hidden}.wy-panel{--wy-component-background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;overflow:hidden;background-color:var(--wy-component-background-color);color:var(--wy-component-color);display:flex;flex-direction:column}.wy-panel .wy-controls{top:calc(.25 * var(--wy-rem, 1rem));left:calc(.25 * var(--wy-rem, 1rem));min-width:calc(2.5 * var(--wy-rem, 1rem));width:auto;display:flex;z-index:10000;order:-1;flex-direction:row-reverse;border-bottom:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-panel .wy-controls:empty{display:none}.wy-panel .wy-controls wy-icon{color:var(--wy-component-color)}.wy-panel .wy-panel-frame{transition:opacity var(--wy-transition-fast, var(--wy-transition-duration-fast, .1s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));transition-delay:.2s;opacity:1}.wy-panel .wy-panel-frame:not([src]){display:none}.wy-panel:not(.wy-loaded) .wy-panel-frame{opacity:0;transition:opacity .2s step-start;transition-delay:.1s}.wy-panel.wy-open{pointer-events:all;z-index:5}.wy-panel.wy-open[data-title]:before{content:attr(data-title);position:absolute;top:0;left:0;right:0;height:var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)));padding:calc(.25 * var(--wy-rem, 1rem));opacity:0;pointer-events:none;display:flex;align-items:center;justify-content:center;transition:opacity .1s step-end;transition-delay:.2s;font-family:var(--wy-font-family, unset),inherit;line-height:var(--wy-line-height, 1.5);font-weight:var(--wy-font-weight, unset);background-color:var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));color:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));box-shadow:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce)) 0 -1px 0 0 inset;backface-visibility:hidden}@supports (backdrop-filter: blur(calc(.5 * var(--wy-rem, 1rem)))){.wy-panel.wy-open[data-title]:before{-webkit-backdrop-filter:blur(calc(.5 * var(--wy-rem, 1rem)));backdrop-filter:blur(calc(.5 * var(--wy-rem, 1rem)))}}.wy-panel.wy-open:after{content:"";position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;opacity:0;transition:opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));transition-duration:0s}.wy-panel.wy-open.wy-loading[data-title]:before{opacity:1}.wy-panel.wy-open.wy-loading:after{transition:opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));transition-duration:.5s;opacity:1;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' width='24' height='24' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cstyle type='text/css'%3Eg%7Banimation:rotate 2s linear infinite;transform-origin:center center%7Dcircle%7Bstroke-dasharray:1,100;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite,color 6s ease-in-out infinite%7D@keyframes rotate%7B100%25%7Btransform:rotate(360deg)%7D%7D@keyframes dash%7B0%25%7Bstroke-dasharray:1,100;stroke-dashoffset:0%7D50%25%7Bstroke-dasharray:44.5,100;stroke-dashoffset:-17.5px%7D100%25%7Bstroke-dasharray:44.5,100;stroke-dashoffset:-62px%7D%7D@keyframes color%7B0%25,100%25%7Bstroke:%23216eb4%7D40%25%7Bstroke:%2328b7cf%7D66%25%7Bstroke:%23216eb4%7D80%25,90%25%7Bstroke:%2328b7cf%7D%7D%3C/style%3E%3Cg%3E%3Ccircle fill='none' cx='12' cy='12' r='11' stroke-linecap='butt' stroke-width='2' /%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;background-position:50%;background-size:calc(2 * var(--wy-rem, 1rem));background-color:transparent}.wy-panel{opacity:0;visibility:hidden;transition:opacity var(--wy-transition-fast, var(--wy-transition-duration-fast, .1s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))) .01s,transform var(--wy-transition-fast, var(--wy-transition-duration-fast, .1s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))) .01s,visibility .01s step-end var(--wy-transition-duration-fast, .1s)}.wy-panel.wy-open{transition:opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))),transform var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))),visibility var(--wy-transition-duration, .2s) step-start;visibility:visible}.wy-panel.wy-open.wy-transition{opacity:1;transform:none}.wy-panel-frame{flex:1 1 100%;border:0}.wy-picker-list{background:var(--wy-component-background-color);color:var(--wy-component-color);border:none}.wy-picker-list>.wy-picker-list-item:first-child,.wy-picker-list>:first-child .wy-picker-list-item{border-top:none}.wy-picker-list>.wy-picker-list-item:last-child,.wy-picker-list>:last-child .wy-picker-list-item{border-bottom:none}.wy-picker-list-item{display:flex;align-items:center;padding:calc(.25 * var(--wy-rem, 1rem)) calc(.5 * var(--wy-rem, 1rem))}.wy-picker-list-item>wy-icon{margin-left:calc(.25 * var(--wy-rem, 1rem));margin-right:calc(.25 * var(--wy-rem, 1rem));flex:0 0 auto}.wy-picker-list-item>button{margin-block-start:auto;flex:0 0 auto}.wy-picker-list-item-title{flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wy-main{display:flex;height:calc(100% - var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem))));min-height:0}@media (max-width: 767.98px){.wy-main{flex-direction:column}}.wy-preview{--wy-component-background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);display:flex;flex-direction:column;align-items:stretch;justify-content:stretch;position:relative;flex:1 1 100%;min-width:calc(16 * var(--wy-rem, 1rem));min-height:calc(16 * var(--wy-rem, 1rem));max-height:100%;max-width:100%}.wy-preview-swiper{display:flex;flex-direction:row;flex:1 1 100%;align-items:center;justify-content:start;min-width:calc(16 * var(--wy-rem, 1rem));min-height:calc(16 * var(--wy-rem, 1rem));max-height:100%;max-width:100%;overflow-x:scroll;scroll-snap-type:x mandatory;scroll-behavior:auto;overscroll-behavior-x:none;scrollbar-width:none}.wy-preview-swiper::-webkit-scrollbar{display:none}.wy-preview-swiper-disabled{overflow-x:hidden}.wy-preview-area{position:relative;min-width:100%;min-height:100%;width:100%;height:100%;flex:1 1 auto;display:flex;flex-direction:column;scroll-snap-stop:always;scroll-snap-align:center}.wy-nav-prev,.wy-nav-next{--wy-component-background-color: var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb));--wy-component-color: var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e));background-color:var(--wy-component-background-color);position:absolute;top:50%;z-index:1000;border-radius:50%}.wy-nav-prev{left:calc(.5 * var(--wy-rem, 1rem))}.wy-nav-next{right:calc(.5 * var(--wy-rem, 1rem))}.wy-document{--wy-component-background-color: var(--wy-background, );--wy-component-color: var(--wy-on-background, );background-color:var(--wy-component-background-color);color:var(--wy-component-color);align-self:flex-start;padding:calc(2 * var(--wy-rem, 1rem)) calc(3.5 * var(--wy-rem, 1rem));width:100%;min-height:100%;flex:1 0 auto}@media (min-width: 768px){.wy-document{padding:calc(3 * var(--wy-rem, 1rem)) calc(4 * var(--wy-rem, 1rem));margin:calc(2 * var(--wy-rem, 1rem)) auto;border-radius:calc(.125 * var(--wy-rem, 1rem));box-shadow:var(--wy-shadow-level2, 0 calc(.25 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.625 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12), 0 calc(.125 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem)) calc(-.0625 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2));width:120ch;min-height:170ch;max-width:calc(100% - 3.5 * var(--wy-rem, 1rem))}}.wy-content-code{align-self:flex-start;width:100%;padding:calc(2 * var(--wy-rem, 1rem)) calc(3.5 * var(--wy-rem, 1rem))}.wy-content-iframe{border:0;display:block;width:100%;height:100%;top:0;left:0;flex:1 1 100%}.wy-content-iframe.wy-loaded{--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-content-iframe.wy-loaded~.wy-content-iframe-fallback,.wy-content-iframe.wy-loaded~.wy-spinner,.wy-content-iframe.wy-loaded~wy-spinner{display:none}.wy-content-iframe.wy-loading:not(.wy-loaded){position:absolute;visibility:hidden;z-index:-1;pointer-events:none}.wy-content-iframe.wy-loading:not(.wy-loaded):not(.wy-fallback)~.wy-content-iframe-fallback{display:none}.wy-content-iframe.wy-loading:not(.wy-loaded).wy-fallback~.wy-spinner,.wy-content-iframe.wy-loading:not(.wy-loaded).wy-fallback~wy-spinner{display:none}.wy-content-iframe~.wy-spinner,.wy-content-iframe~wy-spinner{margin:auto}.wy-content-html pre,.wy-content-html code{word-break:break-word;white-space:pre-wrap}.wy-content-image{min-width:0;display:flex;align-items:center;justify-content:center;position:relative;margin:auto;max-height:100%;max-width:100%;transition:transform var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))),transform-origin var(--wy-transition-duration, .2s) step-end}.wy-content-image.wy-zoom{cursor:zoom-out;transition:transform var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))),transform-origin var(--wy-transition-duration, .2s) step-start}.wy-content-image img{min-width:0;min-height:0;width:100%;height:100%}.wy-content-image img:not(.wy-loading-transition):not([data-controller~=image])~.wy-spinner,.wy-content-image img:not(.wy-loading-transition):not([data-controller~=image])~wy-spinner{display:none}.wy-content-image img.wy-loading,.wy-content-image img[data-controller~=image]{transition:opacity .15s ease-out;opacity:0}.wy-content-image img.wy-loading.wy-loaded,.wy-content-image img[data-controller~=image].wy-loaded{opacity:1;transition:opacity .15s ease-out}.wy-content-image img.wy-loading.wy-loaded~img,.wy-content-image img[data-controller~=image].wy-loaded~img{transition-delay:.15s;opacity:0}.wy-content-image img.wy-loading.wy-loaded~.wy-spinner,.wy-content-image img.wy-loading.wy-loaded~wy-spinner,.wy-content-image img[data-controller~=image].wy-loaded~.wy-spinner,.wy-content-image img[data-controller~=image].wy-loaded~wy-spinner{display:none}.wy-content-image img.wy-responsive-image-thumb{position:absolute;z-index:-1}.wy-content-image img~.wy-spinner,.wy-content-image img~wy-spinner{position:absolute}.wy-content-video:not(.wy-error){min-height:0;max-width:100%;max-height:100%;flex:1 1 auto}.wy-content-video,.wy-content-audio{margin:auto}.wy-content-video.wy-loading:not(.wy-loaded),.wy-content-video[data-controller~=media]:not(.wy-loaded),.wy-content-audio.wy-loading:not(.wy-loaded),.wy-content-audio[data-controller~=media]:not(.wy-loaded){visibility:hidden}.wy-content-video.wy-loading.wy-loaded~.wy-spinner,.wy-content-video.wy-loading.wy-loaded~wy-spinner,.wy-content-video[data-controller~=media].wy-loaded~.wy-spinner,.wy-content-video[data-controller~=media].wy-loaded~wy-spinner,.wy-content-audio.wy-loading.wy-loaded~.wy-spinner,.wy-content-audio.wy-loading.wy-loaded~wy-spinner,.wy-content-audio[data-controller~=media].wy-loaded~.wy-spinner,.wy-content-audio[data-controller~=media].wy-loaded~wy-spinner{display:none}.wy-content-video:focus,.wy-content-audio:focus{outline:none}:host(wy-pdf-viewer){--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--input-focus-border-color: Highlight;--input-focus-outline: 1px solid Canvas;--input-unfocused-border-color: transparent;--input-disabled-border-color: transparent;--input-hover-border-color: black;--xfa-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-focus-outline: auto;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorFreeText-editing-cursor: text;--editorInk-editing-cursor: pointer;--viewer-container-height: 0;--pdfViewer-padding-bottom: 0;--page-margin: calc(2 * var(--wy-rem, 1rem)) auto;--page-border: none;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: -3.5px;--scale-factor: 1}@media (forced-colors: active){:host(wy-pdf-viewer){--input-focus-border-color: CanvasText;--input-unfocused-border-color: ActiveText;--input-disabled-border-color: GrayText;--input-hover-border-color: Highlight}}@media (forced-colors: active){:host(wy-pdf-viewer){--xfa-focus-outline: 2px solid CanvasText}}@media (forced-colors: active){:host(wy-pdf-viewer){--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}@media screen and (forced-colors: active){:host(wy-pdf-viewer){--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}.wy-content-pdf .wy-input[data-pdf-target=pageNumber]{width:calc(3 * var(--wy-rem, 1rem))}.wy-content-pdf .wy-input[data-pdf-target=zoomLevel]{width:calc(5 * var(--wy-rem, 1rem))}.wy-content-pdf .wy-pdf-container{position:absolute;width:100%;height:100%;bottom:0;left:0;overflow-y:auto;max-height:100%;overflow-x:auto;touch-action:pan-y,pan-x;will-change:scroll-position,opacity;backface-visibility:hidden;max-width:100%}.wy-content-pdf .wy-pdf-container:not(body){-webkit-overflow-scrolling:touch}.wy-scrollbars .wy-content-pdf .wy-pdf-container{scrollbar-width:thin;scrollbar-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e)) transparent}.wy-scrollbars .wy-content-pdf .wy-pdf-container::-webkit-scrollbar{height:.625rem;width:.625rem;background:transparent;z-index:999}.wy-scrollbars .wy-content-pdf .wy-pdf-container::-webkit-scrollbar-track{background:transparent}.wy-scrollbars .wy-content-pdf .wy-pdf-container::-webkit-scrollbar-thumb{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));border:.125rem solid transparent;border-radius:.5rem;background-clip:padding-box;opacity:75%}.wy-scrollbars .wy-content-pdf .wy-pdf-container::-webkit-scrollbar-thumb:hover{background-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));opacity:75%}.wy-scrollbars .wy-content-pdf .wy-pdf-container::-webkit-scrollbar-thumb:window-inactive{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));opacity:50%}@supports (overflow-y: overlay){.wy-scrollbars .wy-content-pdf .wy-pdf-container{overflow-y:overlay}}.wy-content-pdf .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.25;line-height:1;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}.wy-content-pdf .textLayer span,.wy-content-pdf .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}.wy-content-pdf .textLayer span.markedContent{top:0;height:0}.wy-content-pdf .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}.wy-content-pdf .textLayer .highlight.appended{position:initial}.wy-content-pdf .textLayer .highlight.begin{border-radius:4px 0 0 4px}.wy-content-pdf .textLayer .highlight.end{border-radius:0 4px 4px 0}.wy-content-pdf .textLayer .highlight.middle{border-radius:0}.wy-content-pdf .textLayer .highlight.selected{background-color:#006400}.wy-content-pdf .textLayer ::-moz-selection{background:#00f;background:AccentColor}.wy-content-pdf .textLayer ::selection{background:#00f;background:AccentColor}.wy-content-pdf .textLayer br::-moz-selection{background:transparent}.wy-content-pdf .textLayer br::selection{background:transparent}.wy-content-pdf .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.wy-content-pdf .textLayer .endOfContent.active{top:0}@media (forced-colors: active){.wy-content-pdf .annotationLayer .textWidgetAnnotation input:required,.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea:required,.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select:required,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:required,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}.wy-content-pdf .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}.wy-content-pdf .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}.wy-content-pdf .annotationLayer .linkAnnotation>a,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}.wy-content-pdf .annotationLayer .linkAnnotation>a:hover,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}.wy-content-pdf .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}.wy-content-pdf .annotationLayer .textWidgetAnnotation input,.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea,.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:2px solid var(--input-unfocused-border-color);box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}.wy-content-pdf .annotationLayer .textWidgetAnnotation input:required,.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea:required,.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select:required,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:required,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select option{padding:0}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea{resize:none}.wy-content-pdf .annotationLayer .textWidgetAnnotation input[disabled],.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea[disabled],.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select[disabled],.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled],.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:2px solid var(--input-disabled-border-color);cursor:not-allowed}.wy-content-pdf .annotationLayer .textWidgetAnnotation input:hover,.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea:hover,.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select:hover,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:hover,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:2px solid var(--input-hover-border-color)}.wy-content-pdf .annotationLayer .textWidgetAnnotation input:hover,.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea:hover,.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select:hover,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:hover{border-radius:2px}.wy-content-pdf .annotationLayer .textWidgetAnnotation input:focus,.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea:focus,.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:2px solid var(--input-focus-border-color);border-radius:2px;outline:var(--input-focus-outline)}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox :focus,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox :focus{border:2px solid var(--input-focus-border-color);border-radius:2px;outline:var(--input-focus-outline)}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton :focus{border:2px solid var(--input-focus-border-color);outline:var(--input-focus-outline)}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}.wy-content-pdf .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}.wy-content-pdf .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none}.wy-content-pdf .annotationLayer .popupTriggerArea{height:100%;width:100%}.wy-content-pdf .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}.wy-content-pdf .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}.wy-content-pdf .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}.wy-content-pdf .annotationLayer .popup h1{display:inline-block}.wy-content-pdf .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}.wy-content-pdf .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}.wy-content-pdf .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}.wy-content-pdf .annotationLayer .highlightAnnotation,.wy-content-pdf .annotationLayer .underlineAnnotation,.wy-content-pdf .annotationLayer .squigglyAnnotation,.wy-content-pdf .annotationLayer .strikeoutAnnotation,.wy-content-pdf .annotationLayer .freeTextAnnotation,.wy-content-pdf .annotationLayer .lineAnnotation svg line,.wy-content-pdf .annotationLayer .squareAnnotation svg rect,.wy-content-pdf .annotationLayer .circleAnnotation svg ellipse,.wy-content-pdf .annotationLayer .polylineAnnotation svg polyline,.wy-content-pdf .annotationLayer .polygonAnnotation svg polygon,.wy-content-pdf .annotationLayer .caretAnnotation,.wy-content-pdf .annotationLayer .inkAnnotation svg polyline,.wy-content-pdf .annotationLayer .stampAnnotation,.wy-content-pdf .annotationLayer .fileAttachmentAnnotation{cursor:pointer}.wy-content-pdf .annotationLayer section svg{position:absolute;width:100%;height:100%}.wy-content-pdf .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}.wy-content-pdf .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){.wy-content-pdf .xfaLayer *:required{outline:1.5px solid selectedItem}}.wy-content-pdf .xfaLayer{background-color:transparent}.wy-content-pdf .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}.wy-content-pdf .xfaLayer .highlight.appended{position:initial}.wy-content-pdf .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}.wy-content-pdf .xfaLayer .highlight.end{border-radius:0 4px 4px 0}.wy-content-pdf .xfaLayer .highlight.middle{border-radius:0}.wy-content-pdf .xfaLayer .highlight.selected{background-color:#cbdfcb}.wy-content-pdf .xfaPage{overflow:hidden;position:relative}.wy-content-pdf .xfaContentarea{position:absolute}.wy-content-pdf .xfaPrintOnly{display:none}.wy-content-pdf .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}.wy-content-pdf .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}.wy-content-pdf .xfaLayer *:required{outline:1.5px solid red}.wy-content-pdf .xfaLayer div{pointer-events:none}.wy-content-pdf .xfaLayer svg{pointer-events:none}.wy-content-pdf .xfaLayer svg *{pointer-events:none}.wy-content-pdf .xfaLayer a{color:#00f}.wy-content-pdf .xfaRich li{margin-left:3em}.wy-content-pdf .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}.wy-content-pdf .xfaCaption{overflow:hidden;flex:0 0 auto}.wy-content-pdf .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}.wy-content-pdf .xfaLabel{height:100%;width:100%}.wy-content-pdf .xfaLeft{display:flex;flex-direction:row;align-items:center}.wy-content-pdf .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}.wy-content-pdf .xfaLeft>.xfaCaption,.wy-content-pdf .xfaLeft>.xfaCaptionForCheckButton,.wy-content-pdf .xfaRight>.xfaCaption,.wy-content-pdf .xfaRight>.xfaCaptionForCheckButton{max-height:100%}.wy-content-pdf .xfaTop{display:flex;flex-direction:column;align-items:flex-start}.wy-content-pdf .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}.wy-content-pdf .xfaTop>.xfaCaption,.wy-content-pdf .xfaTop>.xfaCaptionForCheckButton,.wy-content-pdf .xfaBottom>.xfaCaption,.wy-content-pdf .xfaBottom>.xfaCaptionForCheckButton{width:100%}.wy-content-pdf .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}.wy-content-pdf .xfaWrapped{width:100%;height:100%}.wy-content-pdf .xfaTextfield:focus,.wy-content-pdf .xfaSelect:focus{background-image:none;background-color:transparent;outline:var(--xfa-focus-outline);outline-offset:-1px}.wy-content-pdf .xfaCheckbox:focus,.wy-content-pdf .xfaRadio:focus{outline:var(--xfa-focus-outline)}.wy-content-pdf .xfaTextfield,.wy-content-pdf .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}.wy-content-pdf .xfaSelect{padding-left:2px;padding-right:2px;padding-inline:2px}.wy-content-pdf .xfaTop>.xfaTextfield,.wy-content-pdf .xfaTop>.xfaSelect,.wy-content-pdf .xfaBottom>.xfaTextfield,.wy-content-pdf .xfaBottom>.xfaSelect{flex:0 1 auto}.wy-content-pdf .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}.wy-content-pdf .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}.wy-content-pdf .xfaCheckbox,.wy-content-pdf .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}.wy-content-pdf .xfaRich{white-space:pre-wrap;width:100%;height:100%}.wy-content-pdf .xfaImage{-o-object-position:left top;object-position:left top;-o-object-fit:contain;object-fit:contain;width:100%;height:100%}.wy-content-pdf .xfaLrTb,.wy-content-pdf .xfaRlTb,.wy-content-pdf .xfaTb{display:flex;flex-direction:column;align-items:stretch}.wy-content-pdf .xfaLr{display:flex;flex-direction:row;align-items:stretch}.wy-content-pdf .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}.wy-content-pdf .xfaTb>div{justify-content:left}.wy-content-pdf .xfaPosition,.wy-content-pdf .xfaArea{position:relative}.wy-content-pdf .xfaValignMiddle{display:flex;align-items:center}.wy-content-pdf .xfaTable{display:flex;flex-direction:column;align-items:stretch}.wy-content-pdf .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}.wy-content-pdf .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}.wy-content-pdf .xfaTable .xfaRlRow>div{flex:1}.wy-content-pdf .xfaNonInteractive input,.wy-content-pdf .xfaNonInteractive textarea,.wy-content-pdf .xfaDisabled input,.wy-content-pdf .xfaDisabled textarea,.wy-content-pdf .xfaReadOnly input,.wy-content-pdf .xfaReadOnly textarea{background:initial}@media print{.wy-content-pdf .xfaTextfield,.wy-content-pdf .xfaSelect{background:transparent}.wy-content-pdf .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}.wy-content-pdf [data-editor-rotation="90"]{transform:rotate(90deg)}.wy-content-pdf [data-editor-rotation="180"]{transform:rotate(180deg)}.wy-content-pdf [data-editor-rotation="270"]{transform:rotate(270deg)}.wy-content-pdf .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0;cursor:auto;z-index:20000}.wy-content-pdf .annotationEditorLayer.freeTextEditing{cursor:var(--editorFreeText-editing-cursor)}.wy-content-pdf .annotationEditorLayer.inkEditing{cursor:var(--editorInk-editing-cursor)}.wy-content-pdf .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}.wy-content-pdf .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none;cursor:auto}.wy-content-pdf .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}.wy-content-pdf .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}.wy-content-pdf .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}.wy-content-pdf .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}.wy-content-pdf .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}.wy-content-pdf .annotationEditorLayer .inkEditor.disabled{resize:none}.wy-content-pdf .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}.wy-content-pdf .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor),.wy-content-pdf .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}.wy-content-pdf .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}.wy-content-pdf .annotationEditorLayer .inkEditor.editing{resize:none;cursor:inherit}.wy-content-pdf .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}.wy-content-pdf [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}.wy-content-pdf [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}.wy-content-pdf [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}.wy-content-pdf .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}.wy-content-pdf .pdfViewer .canvasWrapper{overflow:hidden}.wy-content-pdf .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);-o-border-image:var(--page-border-image);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}.wy-content-pdf .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}.wy-content-pdf .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}.wy-content-pdf .pdfViewer.singlePageView{display:inline-block}.wy-content-pdf .pdfViewer.singlePageView .page{margin:0;border:none}.wy-content-pdf .pdfViewer.scrollHorizontal,.wy-content-pdf .pdfViewer.scrollWrapped,.wy-content-pdf .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}.wy-content-pdf .pdfViewer.scrollHorizontal,.wy-content-pdf .spread{white-space:nowrap}.wy-content-pdf .pdfViewer.removePageBorders,.wy-content-pdf .pdfViewer.scrollHorizontal .spread,.wy-content-pdf .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}.wy-content-pdf .spread .page,.wy-content-pdf .spread .dummyPage,.wy-content-pdf .pdfViewer.scrollHorizontal .page,.wy-content-pdf .pdfViewer.scrollWrapped .page,.wy-content-pdf .pdfViewer.scrollHorizontal .spread,.wy-content-pdf .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}.wy-content-pdf .spread .page,.wy-content-pdf .pdfViewer.scrollHorizontal .page,.wy-content-pdf .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}.wy-content-pdf .pdfViewer.removePageBorders .spread .page,.wy-content-pdf .pdfViewer.removePageBorders.scrollHorizontal .page,.wy-content-pdf .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}.wy-content-pdf .pdfViewer .page canvas{margin:0;display:block}.wy-content-pdf .pdfViewer .page canvas[hidden]{display:none}.wy-content-pdf .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0}.wy-content-pdf .pdfViewer .page .loadingIcon.notVisible{background:none}.wy-content-pdf .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important;cursor:not-allowed}.wy-content-pdf .pdfPresentationMode .pdfViewer{padding-bottom:0}.wy-content-pdf .pdfPresentationMode .spread{margin:0}.wy-content-pdf .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}.wy-content-pdf .pdfViewer .page{box-shadow:var(--wy-shadow-level2, 0 calc(.25 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.625 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12), 0 calc(.125 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem)) calc(-.0625 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2));background-color:var(--wy-white, var(, ))}.wy-content-text{word-break:break-word;white-space:pre-wrap}.wy-likes{display:inline-flex;align-items:center}.wy-like-button{background:var(--wy-component-background-color);color:var(--wy-primary);width:calc(2.5 * var(--wy-rem, 1rem));height:calc(2.5 * var(--wy-rem, 1rem))}.wy-like-count{padding:0 calc(.5 * var(--wy-rem, 1rem));color:var(--wy-outline);font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)))}.wy-reaction-count{margin:0 calc(.5 * var(--wy-rem, 1rem)) 0 calc(.125 * var(--wy-rem, 1rem));line-height:1;font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)))}.wy-reaction-menu{padding:calc(.25 * var(--wy-rem, 1rem));font-size:calc(1.125 * var(--wy-rem, 1rem));border-radius:calc(2.5 * var(--wy-rem, 1rem))}.wy-reaction-picker{display:flex}.wy-reaction-picker .wy-reaction-button{color:unset}.wy-reactions{display:inline-flex;align-items:center;column-gap:calc(.1875 * var(--wy-rem, 1rem))}.wy-reactions:empty{display:none}.wy-reactions-line{display:flex;align-items:center}:host(wy-reactions) .wy-emoji{width:calc(1.125 * var(--wy-rem, 1rem));height:calc(1.125 * var(--wy-rem, 1rem));font-size:calc(1.125 * var(--wy-rem, 1rem))}:host(wy-reactions) .wy-emoji:first-child{margin-left:calc(.1875 * var(--wy-rem, 1rem))}:host(wy-reactions) .wy-emoji:last-child{margin-right:calc(.1875 * var(--wy-rem, 1rem))}:host(wy-reactions[small]) .wy-reaction-lineup .wy-emoji,:host(wy-reactions[small]) .wy-reaction-like-button .wy-emoji{width:calc(1.125 * var(--wy-rem, 1rem));height:calc(1.125 * var(--wy-rem, 1rem));font-size:calc(1 * var(--wy-rem, 1rem))}:host(wy-reactions[small]) .wy-reaction-lineup .wy-emoji:first-child,:host(wy-reactions[small]) .wy-reaction-like-button .wy-emoji:first-child{margin-left:calc(.125 * var(--wy-rem, 1rem))}:host(wy-reactions[small]) .wy-reaction-lineup .wy-emoji:last-child,:host(wy-reactions[small]) .wy-reaction-like-button .wy-emoji:last-child{margin-right:calc(.125 * var(--wy-rem, 1rem))}:host(wy-reactions[small]) .wy-reaction-lineup .wy-like-count,:host(wy-reactions[small]) .wy-reaction-like-button .wy-like-count{font-size:var(--wy-font-size-xs, calc(.75 * var(--wy-font-size-base, 1em)))}.wy-table-reactions td:first-child{width:calc(3 * var(--wy-rem, 1rem))}.wy-table-reactions td:nth-child(2){width:100%}.wy-table-reactions tr:last-child td{box-shadow:none}.wy-reaction{font-size:calc(1.125 * var(--wy-rem, 1rem))}.wy-reaction-menu-button,.wy-like-button{background:var(--wy-component-background-color);color:currentColor;border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));background-clip:content-box}.wy-sheet{--wy-scrollbar-adjust-top: 0;--wy-scrollbar-adjust-bottom: 0;--wy-component-background-color: var(--wy-surface-3, var(--wy-surface-3-light, #e3e7ee));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);position:fixed;z-index:1055;display:flex;flex-direction:column;overflow:hidden;bottom:calc(.5 * var(--wy-rem, 1rem));left:calc(.5 * var(--wy-rem, 1rem));right:calc(.5 * var(--wy-rem, 1rem));max-height:max(50vh,50%);min-height:calc(3 * var(--wy-rem, 1rem));margin:calc(.5 * var(--wy-rem, 1rem)) auto;max-width:calc(32 * var(--wy-rem, 1rem));transition:opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level1, 0 calc(.125 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.1875 * var(--wy-rem, 1rem)) calc(.0625 * var(--wy-rem, 1rem)) calc(-.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12))}.wy-sheet>.wy-appbars,.wy-sheet>.wy-appbar{border-top-left-radius:inherit;border-top-right-radius:inherit}.wy-sheet-body{overflow:hidden;padding:calc(.5 * var(--wy-rem, 1rem));position:relative;min-height:calc(3 * var(--wy-rem, 1rem))}.wy-sheet-body.wy-scroll-y{overflow-y:auto}.wy-sheet:not(.wy-show){opacity:0;transform:translateY(calc(32 * var(--wy-rem, 1rem)))}.wy-sheet.wy-show{opacity:1;transform:none;transition:transform var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))),opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));pointer-events:auto}.wy-spinner{align-self:center;justify-self:center;margin:auto}.wy-spinner circle{stroke-dasharray:1,100;stroke-dashoffset:0;transform-origin:center;fill:none!important}.wy-spinner.wy-spin{animation:wy-rotate 1.4s linear infinite}.wy-spinner.wy-spin circle{animation:wy-dash 1.4s ease-in-out infinite,wy-color 2.8s ease-in-out infinite}.wy-spinner.wy-spinner-overlay{position:absolute;left:0;right:0;top:0;bottom:0;margin:auto}@keyframes wy-rotate{to{transform:rotate(360deg)}}@keyframes wy-dash{0%{stroke-dasharray:1,100;stroke-dashoffset:0}50%{stroke-dasharray:44.5,100;stroke-dashoffset:-17.5}to{stroke-dasharray:44.5,100;stroke-dashoffset:-62}}@keyframes wy-color{0%,to{stroke:var(--wy-primary, var(--wy-primary-40, #006399))}25%{stroke:var(--wy-primary, var(--wy-primary-40, #006399))}50%{stroke:transparent}75%{stroke:var(--wy-primary, var(--wy-primary-40, #006399))}}.wy-toasts{position:fixed;left:0;bottom:calc(3.5 * var(--wy-rem, 1rem));right:0;pointer-events:none;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1030;gap:calc(1 * var(--wy-rem, 1rem))}.wy-toast{background:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));color:var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));margin:0 0 calc(1 * var(--wy-rem, 1rem));width:calc(16 * var(--wy-rem, 1rem));max-width:calc(100% - 3 * var(--wy-rem, 1rem));gap:calc(.5 * var(--wy-rem, 1rem));display:flex;cursor:pointer;border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));margin-left:auto;margin-right:auto;margin-bottom:calc(.5 * var(--wy-rem, 1rem));padding:calc(.5 * var(--wy-rem, 1rem)) calc(.75 * var(--wy-rem, 1rem));-webkit-user-select:none;user-select:none;box-shadow:var(--wy-shadow-level2, 0 calc(.25 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.625 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12), 0 calc(.125 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem)) calc(-.0625 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2));position:relative;overflow:hidden;height:auto}.wy-toast.wy-fade{transition:all var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)))}.wy-toast.wy-fade:not(.wy-show){opacity:0;height:0;padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;pointer-events:none}.wy-toast-action{position:sticky;top:calc(4.5 * var(--wy-rem, 1rem));bottom:calc(4.5 * var(--wy-rem, 1rem));z-index:990;background-color:var(--wy-primary, var(--wy-primary-40, #006399));color:var(--wy-on-primary, var(--wy-white, #ffffff));padding:calc(.5 * var(--wy-rem, 1rem)) calc(1 * var(--wy-rem, 1rem));border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));font-size:var(--wy-font-size-xs, calc(.75 * var(--wy-font-size-base, 1em)));width:max-content;align-self:center;text-align:center;box-shadow:none}.wy-toast-primary{background:var(--wy-on-primary-container, var(--wy-primary-10, #001d32));color:var(--wy-primary-container, var(--wy-primary-90, #cde5ff))}.wy-typing-show{font-style:italic;display:none}.wy-typing-active .wy-typing-show{display:block}.wy-typing-active .wy-typing-hide{display:none}.wy-appbar wy-typing{position:relative;padding:0 calc(1.25 * var(--wy-rem, 1rem));max-width:100%}.wy-placeholder{cursor:wait;color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));background:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));opacity:.5;animation:wy-placeholder-glow 2s ease-in-out infinite}@keyframes wy-placeholder-glow{50%{opacity:.2}}.wy-meeting{flex:1 1 100%;align-items:flex-start}.wy-meeting-actions{margin-top:calc(.5 * var(--wy-rem, 1rem))}.wy-dragging:after{content:attr(data-drag-title);background-color:#ffffff80;display:flex;justify-content:center;align-items:center;border:calc(.125 * var(--wy-rem, 1rem)) dashed var(--wy-primary, var(--wy-primary-40, #006399));font-weight:700;z-index:10000;position:absolute;top:0;left:0;bottom:0;right:0}.wy-message-editor-top{background-color:var(--wy-component-background-color);color:var(--wy-component-color)}@supports (position: sticky){.wy-message-editor-top{position:sticky;top:0;z-index:1020}}.wy-message-editor-bottom{background-color:var(--wy-component-background-color);color:var(--wy-component-color)}@supports (position: sticky){.wy-message-editor-bottom{position:sticky;bottom:0;z-index:1020}}.wy-message-form .wy-spinner{display:none}.wy-message-form.wy-uploading .wy-spinner{display:block}.wy-message-form.wy-uploading [data-icon=plus]{display:none}.wy-message-form .wy-picker-list:not(:empty){border-top:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-message-editor-inputs{display:flex;flex-direction:row;align-items:flex-end;padding:calc(.5 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem));min-height:calc(3.5 * var(--wy-rem, 1rem))}.wy-message-editor-inputs>:not(:last-child){margin-right:calc(.25 * var(--wy-rem, 1rem))}.wy-message-editor-buttons{flex:1 0 auto}.wy-message-editor-text{flex:1 1 100%;display:flex;flex-direction:column}.wy-message-editor-mention,.wy-message-editor-link{background:#00f;color:#fff}.wy-message-editor .cm-editor,.wy-message-editor-grow:after,.wy-message-editor-grow>textarea,.wy-message-editor-textfield{flex:1 1 100%;max-height:calc(11.25 * var(--wy-rem, 1rem));background-color:var(--wy-background, var(--wy-neutral-99, #fcfcff));color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));border-radius:calc(1.25 * var(--wy-rem, 1rem));border:var(--wy-input-border-width, 1px) solid var(--wy-background, var(--wy-neutral-99, #fcfcff))}.wy-message-editor .cm-editor:focus,.wy-message-editor-grow:focus:after,.wy-message-editor-grow>textarea:focus,.wy-message-editor-textfield:focus{border-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-message-editor .cm-editor .cm-content,.wy-message-editor-textcontent{font-family:var(--wy-input-font-family, var(--wy-font-family, inherit)), inherit;font-size:var(--wy-font-size-base, var(--wy-font-size, 1em));padding:var(--wy-input-padding-y, calc(.4375 * var(--wy-rem, 1rem))) var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem)));min-height:calc(calc(2.5 * var(--wy-rem, 1rem)) - var(--wy-input-border-width, 1px));line-height:calc(1.5 * var(--wy-rem, 1rem))}.wy-message-editor-grow{display:grid}.wy-message-editor-grow:after,.wy-message-editor-grow>textarea{grid-area:1/1/2/2}.wy-message-editor-grow:after{content:attr(data-replicated-value) " ";white-space:pre-wrap;visibility:hidden}.wy-message-editor-grow>textarea{resize:none;overflow:hidden}.wy-message-editor .cm-scroller{font-family:unset;line-height:1.5}.wy-message-editor .cm-widgetBuffer{vertical-align:unset}.wy-message-editor .cm-placeholder{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e))}.wy-message-editor .cm-content{caret-color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e))}.wy-message-editor .cm-editor.cm-focused{--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));color:var(--wy-component-color);border-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));outline:0}.wy-message-editor .cm-editor .cm-scroller{overflow:auto}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller{scrollbar-width:thin;scrollbar-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e)) transparent}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar{height:.625rem;width:.625rem;background:transparent;z-index:999}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar-track{background:transparent}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));border:.125rem solid transparent;border-radius:.5rem;background-clip:padding-box;opacity:75%}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb:hover{background-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));opacity:75%}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb:window-inactive{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));opacity:50%}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar-button:vertical:start:single-button{height:calc(.375 * var(--wy-rem, 1rem))}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar-button:vertical:end:single-button{height:calc(.375 * var(--wy-rem, 1rem))}.wy-message-editor .wy-is-invalid+[data-editor-target] .cm-editor,.wy-message-editor .wy-is-invalid .cm-editor{border-color:var(--wy-error, var(--wy-error-40, #ba1824))!important}.wy-message-editor .cm-tooltip.cm-tooltip-autocomplete>ul{font-family:unset;max-height:calc(15 * var(--wy-rem, 1rem))}.wy-message-editor .cm-tooltip.cm-tooltip-autocomplete>ul>li{padding:0}.wy-message-editor .cm-tooltip{border:none;background-clip:padding-box;background-color:var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));color:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level1, 0 calc(.125 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.1875 * var(--wy-rem, 1rem)) calc(.0625 * var(--wy-rem, 1rem)) calc(-.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12));overflow:hidden;z-index:1000}.wy-message-editor .cm-tooltip-autocomplete ul li[aria-selected]{background:var(--wy-primary-container, var(--wy-primary-90, #cde5ff));color:unset}.wy-message-editor .cm-tooltip-autocomplete .cm-completionLabel{display:none}.wy-message-editor .cm-tooltip-autocomplete .wy-item-hover:hover,.wy-message-editor .cm-tooltip-autocomplete .wy-item-hover:focus{background:var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb))}.wy-message-editor .cm-tooltip-autocomplete .wy-avatar{width:calc(2 * var(--wy-rem, 1rem));height:calc(2 * var(--wy-rem, 1rem))}.wy-card{--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));--wy-component-border-radius: var(--wy-border-radius-lg, calc(1.5 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))));background-color:var(--wy-component-background-color);color:var(--wy-component-color);border-radius:var(--wy-component-border-radius);position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-clip:border-box}.wy-card>hr{margin-right:0;margin-left:0}.wy-card-primary{--wy-component-background-color: var(--wy-primary-container, var(--wy-primary-90, #cde5ff));--wy-component-color: var(--wy-on-primary-container, var(--wy-primary-10, #001d32))}.wy-card-hover{cursor:pointer;-webkit-user-select:none;user-select:none}.wy-card-hover:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;background:var(--wy-component-color);opacity:0%}.wy-card-hover:hover:before{opacity:var(--wy-opacity-state-hover, 8%)}.wy-card-hover:focus:before{opacity:var(--wy-opacity-state-focus, 12%)}.wy-card-hover:active:before,.wy-card-hover.wy-active:before{opacity:var(--wy-opacity-state-active, 12%)}.wy-card-actions{position:absolute;top:min(.25 * var(--wy-rem, 1rem),100% - 2.5 * var(--wy-rem, 1rem));right:calc(.25 * var(--wy-rem, 1rem));align-items:center;display:flex}.wy-card-actions>.wy-button-icon,.wy-card-actions>.wy-dropdown>.wy-button-icon{background-clip:content-box}.wy-card-content{flex:1 0 auto;padding-block-end:calc(.5 * var(--wy-rem, 1rem));padding-inline-start:calc(.5 * var(--wy-rem, 1rem));padding-inline-end:calc(.5 * var(--wy-rem, 1rem))}.wy-card-content:first-child,.wy-card-actions+.wy-card-content:nth-child(2){padding-block-start:calc(.5 * var(--wy-rem, 1rem))}.wy-card-top{border-radius:var(--wy-component-border-radius);object-fit:cover;object-position:top center;flex:1 1 100%;max-height:calc(10 * var(--wy-rem, 1rem))}.wy-card-top-image{object-position:50% 38%}.wy-card-trashed{text-decoration:line-through}.wy-card-trashed>*:not(.wy-card-actions){opacity:var(--wy-opacity-disabled, 38%)}.wy-truncated-text-and-icon{display:flex;align-items:center;gap:.25rem}.wy-truncated-text-and-icon :first-child{line-height:var(--wy-line-height, 1.5);flex:0 1 auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.wy-truncated-text-and-icon :last-child:not(:first-child){flex:0 0 auto;white-space:nowrap}.wy-filename{font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)))}.wy-filename .wy-truncated-text-and-icon{justify-content:center}.wy-files{width:100%;height:100%;position:relative;color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-background, var(--wy-neutral-99, #fcfcff));display:flex;flex-direction:column;flex:1;container-type:inline-size}@supports (position: sticky){wy-files-appbar{position:sticky;top:0;z-index:1020}}.wy-table-files thead{text-align:left;display:none}@container (inline-size >= 576px){.wy-table-files thead{display:table-header-group}}.wy-table-files tr>:nth-child(2){width:100%}.wy-table-files tr>:nth-child(2) td{padding:0 var(--wy-table-cell-padding-x, calc(.25 * var(--wy-rem, 1rem)))}.wy-table-files tr>:nth-child(3){display:none;width:calc(7 * var(--wy-rem, 1rem));overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@container (inline-size >= 768px){.wy-table-files tr>:nth-child(3){display:table-cell}}.wy-table-files tr>:nth-child(4){display:none;width:calc(7.5 * var(--wy-rem, 1rem));text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@container (inline-size >= 768px){.wy-table-files tr>:nth-child(4){display:table-cell}}.wy-table-files tr>:nth-child(5){display:none;width:calc(7 * var(--wy-rem, 1rem));text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@container (inline-size >= 576px){.wy-table-files tr>:nth-child(5){display:table-cell}}.wy-grid{display:grid;grid-auto-flow:dense;grid-template-columns:repeat(auto-fill,minmax(calc(10 * var(--wy-rem, 1rem)),1fr));grid-gap:calc(.75 * var(--wy-rem, 1rem))}.wy-sidebar{--wy-component-background-color: var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background:var(--wy-component-background-color);color:var(--wy-component-color);min-width:0;min-height:0;flex-grow:0;flex-shrink:0;flex-basis:calc(18 * var(--wy-rem, 1rem));z-index:10;display:flex;flex-direction:column;transition:flex-basis var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));position:relative;order:9999}.wy-sidebar>*{transition:opacity var(--wy-transition-fast, var(--wy-transition-duration-fast, .1s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))) calc(var(--wy-transition-duration, .2s) - var(--wy-transition-duration-fast, .1s));min-width:calc(18 * var(--wy-rem, 1rem))}.wy-sidebar[hidden]{display:flex!important;flex-basis:0}.wy-sidebar[hidden]>*{transition:opacity var(--wy-transition-fast, var(--wy-transition-duration-fast, .1s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));opacity:0}@media (min-width: 768px){.wy-sidebar>*{min-width:calc(18 * var(--wy-rem, 1rem))}.wy-sidebar .wy-sidebar-handle{display:none}}@media (max-width: 767.98px){.wy-sidebar{transition:flex-basis var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))),margin-top var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));border-top-left-radius:var(--wy-border-radius-lg, calc(1.5 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))));border-top-right-radius:var(--wy-border-radius-lg, calc(1.5 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))));flex-basis:50vh}.wy-sidebar:not([hidden]){margin-top:calc(-1 * var(--wy-border-radius-lg, calc(1.5 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem))))))}.wy-sidebar:not([hidden]).wy-maximized{flex-basis:calc(100% - var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem))) * .5);margin-top:calc(-50% + var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem))) * 2.5 - var(--wy-border-radius-lg, calc(1.5 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem))))))}.wy-sidebar:not([hidden]).wy-maximized~* .wy-nav-prev,.wy-sidebar:not([hidden]).wy-maximized~* .wy-nav-next{display:none}.wy-sidebar>*{min-height:var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)))}}.wy-sidebar-handle{width:calc(4 * var(--wy-rem, 1rem));background-clip:content-box;background-color:var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e));height:calc(1 * var(--wy-rem, 1rem));border:calc(.375 * var(--wy-rem, 1rem)) solid transparent;position:absolute;top:0;z-index:2;left:50%;margin-left:calc(-2 * var(--wy-rem, 1rem));border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));cursor:pointer}.wy-table{--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));--wy-component-background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));color:var(--wy-component-color);background-color:var(--wy-component-background-color);table-layout:fixed;width:100%;vertical-align:top;border-collapse:collapse}.wy-table th,.wy-table td{padding:var(--wy-table-cell-padding-y, calc(.25 * var(--wy-rem, 1rem))) var(--wy-table-cell-padding-x, calc(.25 * var(--wy-rem, 1rem)));box-shadow:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce)) 0 -1px 0 0 inset;line-height:1;vertical-align:middle;height:calc(2.5 * var(--wy-rem, 1rem))}.wy-table th:first-child,.wy-table td:first-child{padding-left:calc(var(--wy-table-cell-padding-x, calc(.25 * var(--wy-rem, 1rem))) * 2)}.wy-table th:last-child,.wy-table td:last-child{padding-right:calc(var(--wy-table-cell-padding-x, calc(.25 * var(--wy-rem, 1rem))) * 2)}.wy-table>tbody{vertical-align:inherit}.wy-table>thead{vertical-align:bottom}.wy-table .wy-table-cell-icon{color:var(--wy-component-color);vertical-align:middle;text-align:center;padding:calc(var(--wy-table-cell-padding-y, calc(.25 * var(--wy-rem, 1rem))) * .5) var(--wy-table-cell-padding-x, calc(.25 * var(--wy-rem, 1rem)));width:calc(calc(2.5 * var(--wy-rem, 1rem)) + var(--wy-table-cell-padding-x, calc(.25 * var(--wy-rem, 1rem))) * 2);font-size:var(--wy-font-size-base, var(--wy-font-size, 1em));font-weight:var(--wy-font-weight-base, );text-transform:none;letter-spacing:normal}.wy-table .wy-table-cell-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.wy-table-hover>tbody>tr:not(.wy-pager):hover>*{--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));--wy-component-background-color: var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));color:var(--color);background-color:var(--wy-component-background-color);cursor:pointer}.wy-table-trashed th,.wy-table-trashed td{text-decoration:line-through}.wy-table-trashed th:not(:last-child)>*,.wy-table-trashed td:not(:last-child)>*{opacity:var(--wy-opacity-disabled, 38%)}.wy-table-trashed th>a,.wy-table-trashed td>a{color:var(--wy-component-color)}.wy-table-trashed:hover th,.wy-table-trashed:hover td{opacity:1}.wy-table-no-result{text-align:center;padding:calc(1 * var(--wy-rem, 1rem))}.wy-table-sort-link{display:inline-flex;align-items:center;color:var(--wy-link, var(--wy-primary-40, #006399));cursor:pointer}.wy-posts{display:flex;flex-direction:column;gap:calc(1 * var(--wy-rem, 1rem))}.wy-post{--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);display:flex;flex-direction:column;position:relative;--wy-component-border-radius: var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));border-radius:var(--wy-component-border-radius)}.wy-post .wy-image-grid{border-radius:0;margin-bottom:calc(1 * var(--wy-rem, 1rem))}.wy-post .wy-embed{margin-bottom:calc(1 * var(--wy-rem, 1rem))}.wy-post .wy-comments{margin:calc(.5 * var(--wy-rem, 1rem)) calc(.75 * var(--wy-rem, 1rem));border-top:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));padding:calc(.75 * var(--wy-rem, 1rem)) 0 0}.wy-post-body{padding:0 calc(1 * var(--wy-rem, 1rem))}.wy-post-body:empty{display:none}.wy-post-body .wy-content,.wy-post-body .wy-list,.wy-post-body .wy-poll{margin-bottom:calc(1 * var(--wy-rem, 1rem))}.wy-post-footer{display:flex;align-items:center;justify-content:space-between;margin:0 calc(.25 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem))}.wy-post-footer .wy-meta{margin-right:calc(.5 * var(--wy-rem, 1rem))}.wy-post-dragging:after{content:attr(data-drag-title,"Drop files here to upload.");background-color:#ffffff80;display:flex;justify-content:center;align-items:center;border:calc(.125 * var(--wy-rem, 1rem)) dashed var(--wy-primary, var(--wy-primary-40, #006399));font-weight:700;z-index:10000;position:absolute;top:0;left:0;bottom:0;right:0}.wy-poll{flex:1 1 100%;min-width:0}.wy-poll-form{background:var(--wy-component-background-color);color:var(--wy-component-color);padding:calc(.5 * var(--wy-rem, 1rem))}.wy-poll-form:empty{display:none}.wy-poll-form input:not(:first-child){margin-top:calc(.5 * var(--wy-rem, 1rem))}.wy-poll-option{overflow:hidden;position:relative;background-color:var(--wy-background, var(--wy-neutral-99, #fcfcff));border:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));border-radius:var(--wy-border-radius-sm, calc(.75 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))));margin-bottom:calc(.25 * var(--wy-rem, 1rem));padding:calc(.25 * var(--wy-rem, 1rem)) calc(.5 * var(--wy-rem, 1rem));min-height:calc(2.5 * var(--wy-rem, 1rem));cursor:pointer}.wy-poll-option .wy-progress{position:absolute;top:0;left:0;bottom:0;background-color:var(--wy-surface-5, var(--wy-surface-5-light, #dce2ea))}.wy-poll-option>:not(.wy-progress){z-index:1}.wy-embed{display:flex;flex-direction:column;word-wrap:break-word}.wy-embed-photo a{display:flex}.wy-embed-photo img{width:100%;height:auto}.wy-embed-photo-sm a{padding:0 calc(1 * var(--wy-rem, 1rem))}.wy-embed-photo-sm img{display:block;margin:0 auto;width:auto;max-width:100%;border-radius:var(--wy-border-radius-sm, calc(.75 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))))}.wy-embed-video{position:relative;display:block;width:100%;padding:0;overflow:hidden}.wy-embed-video:before{display:block;content:"";padding-top:56.25%}.wy-embed-video iframe,.wy-embed-video embed,.wy-embed-video object,.wy-embed-video video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.wy-embed-caption{--wy-component-background-color: var(--wy-surface-3, var(--wy-surface-3-light, #e3e7ee));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);padding:calc(.5 * var(--wy-rem, 1rem)) calc(1 * var(--wy-rem, 1rem)) calc(1 * var(--wy-rem, 1rem));position:relative}.wy-embed-link{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));text-transform:uppercase;font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)))}.wy-embed-link:after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:""}.wy-embed-title{font-weight:var(--wy-headings-font-weight, 500);margin-bottom:calc(.5 * var(--wy-rem, 1rem))}.wy-embed-description{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e))}.wy-embed-preview a[target=_blank]{pointer-events:none}.wy-embed-preview .wy-embed{display:none;margin:calc(.75 * var(--wy-rem, 1rem));border:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))}.wy-embed-preview .wy-embed:first-child{display:block}.wy-embed-preview .wy-embed-caption{border-bottom-left-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));border-bottom-right-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))}.wy-embed-preview .wy-embed-actions{display:flex}.wy-embed-actions{display:none;justify-content:space-between;padding:calc(.5 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem))}.wy-embed-cycle{visibility:hidden}.wy-embed-show-cycle .wy-embed-cycle{visibility:visible}.wy-post-editor{padding:calc(.75 * var(--wy-rem, 1rem))}.wy-post-editor.wy-uploading .wy-icon-active-stack>:first-child{opacity:0}.wy-post-editor.wy-uploading .wy-icon-active-stack>:last-child{opacity:1}.wy-post-editor .wy-picker-list:not(:empty){margin-top:calc(.75 * var(--wy-rem, 1rem));border-top:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-post-editor-inputs{display:flex;flex-direction:row;align-items:flex-end;min-height:calc(3.5 * var(--wy-rem, 1rem));flex-wrap:wrap}.wy-post-editor-inputs>:not(:last-child){margin-right:calc(.25 * var(--wy-rem, 1rem))}.wy-post-editor-inputs>:last-child{margin-left:auto}.wy-post-editor-buttons{flex:1 0 auto}.wy-post-editor-text{flex:1 1 100%;display:flex;flex-direction:column}.wy-post-editor-mention,.wy-post-editor-link{background:#00f;color:#fff}.wy-post-editor .cm-editor,.wy-post-editor-grow:after,.wy-post-editor-grow>textarea,.wy-post-editor-textfield{flex:1 1 100%;max-height:calc(11.25 * var(--wy-rem, 1rem));min-height:calc(4 * var(--wy-rem, 1rem));background-color:var(--wy-background, var(--wy-neutral-99, #fcfcff));color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));border:var(--wy-input-border-width, 1px) solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));caret-color:var(--wy-primary, var(--wy-primary-40, #006399))}.wy-post-editor .cm-editor:focus,.wy-post-editor-grow:focus:after,.wy-post-editor-grow>textarea:focus,.wy-post-editor-textfield:focus{border-color:var(--wy-primary, var(--wy-primary-40, #006399))}.wy-post-editor .cm-editor .cm-content,.wy-post-editor-textcontent{font-family:var(--wy-input-font-family, var(--wy-font-family, inherit)),inherit;font-size:var(--wy-input-font-size, var(--wy-font-size-base, 1em));padding:var(--wy-input-padding-y, calc(.4375 * var(--wy-rem, 1rem))) var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem)))}.wy-post-editor-grow{display:grid}.wy-post-editor-grow:after,.wy-post-editor-grow>textarea{grid-area:1/1/2/2}.wy-post-editor-grow:after{content:attr(data-replicated-value) " ";white-space:pre-wrap;visibility:hidden}.wy-post-editor-grow>textarea{resize:none;overflow:hidden}.wy-post-editor .cm-scroller{font-family:unset;line-height:1.5}.wy-post-editor .cm-widgetBuffer{vertical-align:unset}.wy-post-editor .cm-placeholder{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e))}.wy-post-editor .cm-content{caret-color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e))}.wy-post-editor .cm-editor.cm-focused{--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));color:var(--wy-component-color);border-color:var(--wy-primary, var(--wy-primary-40, #006399));outline:0}.wy-post-editor .cm-editor .cm-scroller{overflow:auto}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller{scrollbar-width:thin;scrollbar-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e)) transparent}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar{height:.625rem;width:.625rem;background:transparent;z-index:999}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar-track{background:transparent}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));border:.125rem solid transparent;border-radius:.5rem;background-clip:padding-box;opacity:75%}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb:hover{background-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));opacity:75%}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb:window-inactive{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));opacity:50%}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar-button:vertical:start:single-button{height:calc(.375 * var(--wy-rem, 1rem))}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar-button:vertical:end:single-button{height:calc(.375 * var(--wy-rem, 1rem))}.wy-post-editor .wy-is-invalid+[data-editor-target] .cm-editor,.wy-post-editor .wy-is-invalid .cm-editor{border-color:var(--wy-error, var(--wy-error-40, #ba1824))!important}.wy-post-editor .cm-tooltip.cm-tooltip-autocomplete>ul{font-family:unset;max-height:calc(15 * var(--wy-rem, 1rem))}.wy-post-editor .cm-tooltip.cm-tooltip-autocomplete>ul>li{padding:0}.wy-post-editor .cm-tooltip{border:none;background-clip:padding-box;background-color:var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));color:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level1, 0 calc(.125 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.1875 * var(--wy-rem, 1rem)) calc(.0625 * var(--wy-rem, 1rem)) calc(-.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12));overflow:hidden;z-index:1000}.wy-post-editor .cm-tooltip-autocomplete ul li[aria-selected]{background:var(--wy-primary-container, var(--wy-primary-90, #cde5ff));color:unset}.wy-post-editor .cm-tooltip-autocomplete .cm-completionLabel{display:none}.wy-post-editor .cm-tooltip-autocomplete .wy-item-hover:hover,.wy-post-editor .cm-tooltip-autocomplete .wy-item-hover:focus{background:var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb))}.wy-post-editor .cm-tooltip-autocomplete .wy-avatar{width:calc(2 * var(--wy-rem, 1rem));height:calc(2 * var(--wy-rem, 1rem))}.wy-comments{padding:calc(.5 * var(--wy-rem, 1rem)) calc(.75 * var(--wy-rem, 1rem)) 0 calc(.75 * var(--wy-rem, 1rem));display:flex;flex-direction:column;gap:calc(1.25 * var(--wy-rem, 1rem))}:host-context(wy-comments) .wy-comments{padding:0}.wy-comments-count{padding:0 calc(.5 * var(--wy-rem, 1rem));overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wy-comment{--wy-component-background-color: var(--wy-surface-3, var(--wy-surface-3-light, #e3e7ee));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));--wy-component-border-radius: var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));border-radius:var(--wy-component-border-radius);background-color:var(--wy-component-background-color);color:var(--wy-component-color);display:flex;flex-direction:column;gap:calc(.25 * var(--wy-rem, 1rem));padding:calc(.25 * var(--wy-rem, 1rem));position:relative}.wy-comment .wy-item{padding-inline:calc(.5 * var(--wy-rem, 1rem))}.wy-comment .wy-item>.wy-avatar,.wy-comment .wy-item>wy-icon,.wy-comment .wy-item>.wy-icon-stack{margin-left:calc(-.25 * var(--wy-rem, 1rem))}.wy-comment .wy-reactions-line{position:absolute;bottom:calc(-1.125 * var(--wy-rem, 1rem));right:calc(.25 * var(--wy-rem, 1rem))}.wy-comment .wy-item-actions-top{top:0;right:0}.wy-comment-body{flex:1 0 auto;z-index:1}.wy-comment-body .wy-image-grid,.wy-comment-body .wy-embed,.wy-comment-body .wy-content,.wy-comment-body .wy-list,.wy-comment-body .wy-poll{margin-bottom:calc(1 * var(--wy-rem, 1rem))}.wy-comment-body .wy-image-grid:last-child,.wy-comment-body .wy-embed:last-child,.wy-comment-body .wy-content:last-child,.wy-comment-body .wy-list:last-child,.wy-comment-body .wy-poll:last-child{margin-bottom:0}.wy-comment-content{padding:0 calc(.5 * var(--wy-rem, 1rem)) calc(.5 * var(--wy-rem, 1rem));display:flex;flex-direction:column}.wy-comment-editor .wy-spinner{display:none}.wy-comment-editor.wy-uploading .wy-spinner{display:block}.wy-comment-editor.wy-uploading [data-icon=plus]{display:none}.wy-comment-editor .wy-picker-list:not(:empty){border-top:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-comment-editor-bottom{position:sticky;bottom:0;z-index:999;background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-comment-editor-inputs{display:flex;flex-direction:row;align-items:flex-end;padding:calc(.5 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem));min-height:calc(3.5 * var(--wy-rem, 1rem))}.wy-comment-editor-inputs>:not(:last-child){margin-right:calc(.25 * var(--wy-rem, 1rem))}.wy-comment-editor-buttons{flex:1 0 auto}.wy-comment-editor-text{flex:1 1 100%;display:flex;flex-direction:column}.wy-comment-editor-mention,.wy-comment-editor-link{background:#00f;color:#fff}.wy-comment-editor .cm-editor,.wy-comment-editor-grow:after,.wy-comment-editor-grow>textarea,.wy-comment-editor-textfield{flex:1 1 100%;max-height:calc(11.25 * var(--wy-rem, 1rem));background-color:var(--wy-background, var(--wy-neutral-99, #fcfcff));color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));border-radius:calc(1.25 * var(--wy-rem, 1rem));border:var(--wy-input-border-width, 1px) solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-comment-editor .cm-editor:focus,.wy-comment-editor-grow:focus:after,.wy-comment-editor-grow>textarea:focus,.wy-comment-editor-textfield:focus{border-color:var(--wy-primary, var(--wy-primary-40, #006399))}.wy-comment-editor .cm-editor .cm-content,.wy-comment-editor-textcontent{font-family:var(--wy-input-font-family, var(--wy-font-family, inherit)),inherit;font-size:var(--wy-input-font-size, var(--wy-font-size-base, 1em));padding:var(--wy-input-padding-y, calc(.4375 * var(--wy-rem, 1rem))) var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem)))}.wy-comment-editor-grow{display:grid}.wy-comment-editor-grow:after,.wy-comment-editor-grow>textarea{grid-area:1/1/2/2}.wy-comment-editor-grow:after{content:attr(data-replicated-value) " ";white-space:pre-wrap;visibility:hidden}.wy-comment-editor-grow>textarea{resize:none;overflow:hidden}.wy-comment-editor{position:relative}.wy-comment-editor .cm-scroller{font-family:unset;line-height:1.5}.wy-comment-editor .cm-widgetBuffer{vertical-align:unset}.wy-comment-editor .cm-placeholder{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e))}.wy-comment-editor .cm-content{caret-color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e))}.wy-comment-editor .cm-editor.cm-focused{--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));color:var(--wy-component-color);border-color:var(--wy-primary, var(--wy-primary-40, #006399));outline:0}.wy-comment-editor .cm-editor .cm-scroller{overflow:auto}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller{scrollbar-width:thin;scrollbar-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e)) transparent}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar{height:.625rem;width:.625rem;background:transparent;z-index:999}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar-track{background:transparent}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));border:.125rem solid transparent;border-radius:.5rem;background-clip:padding-box;opacity:75%}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb:hover{background-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));opacity:75%}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb:window-inactive{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));opacity:50%}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar-button:vertical:start:single-button{height:calc(.375 * var(--wy-rem, 1rem))}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar-button:vertical:end:single-button{height:calc(.375 * var(--wy-rem, 1rem))}.wy-comment-editor .wy-is-invalid+.cm-editor,.wy-comment-editor .wy-is-invalid .cm-editor{border-color:var(--wy-error, var(--wy-error-40, #ba1824))!important}.wy-comment-editor .cm-tooltip.cm-tooltip-autocomplete>ul{font-family:unset;max-height:calc(15 * var(--wy-rem, 1rem))}.wy-comment-editor .cm-tooltip.cm-tooltip-autocomplete>ul>li{padding:0}.wy-comment-editor .cm-tooltip{border:none;background-clip:padding-box;background-color:var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));color:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level1, 0 calc(.125 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.1875 * var(--wy-rem, 1rem)) calc(.0625 * var(--wy-rem, 1rem)) calc(-.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12));overflow:hidden;z-index:1000}.wy-comment-editor .cm-tooltip-autocomplete ul li[aria-selected]{background:var(--wy-primary-container, var(--wy-primary-90, #cde5ff));color:unset}.wy-comment-editor .cm-tooltip-autocomplete .cm-completionLabel{display:none}.wy-comment-editor .cm-tooltip-autocomplete .wy-item-hover:hover,.wy-comment-editor .cm-tooltip-autocomplete .wy-item-hover:focus{background:var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb))}.wy-comment-editor .cm-tooltip-autocomplete .wy-avatar{width:calc(2 * var(--wy-rem, 1rem));height:calc(2 * var(--wy-rem, 1rem))}.wy-badge{display:inline-block;padding:.35em .65em;font-size:.75em;font-weight:var(--wy-font-weight-bold, );line-height:1;color:var(--wy-on-primary, var(--wy-white, #ffffff));text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));background-color:var(--wy-primary, var(--wy-primary-40, #006399))}.wy-badge:empty{display:none}.wy-button{position:relative}.wy-button .wy-badge{font-size:var(--wy-font-size-xs, calc(.75 * var(--wy-font-size-base, 1em)));position:absolute;right:0;top:0;border-radius:calc(1 * var(--wy-rem, 1rem));margin:0;padding:calc(.25 * var(--wy-rem, 1rem));min-width:calc(1 * var(--wy-rem, 1rem));max-width:calc(2 * var(--wy-rem, 1rem));height:calc(1 * var(--wy-rem, 1rem));line-height:calc(.5 * var(--wy-rem, 1rem));display:block;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wy-button .wy-badge:empty{display:none}.wy-conversations{position:relative}.wy-conversation{display:flex;position:relative}.wy-conversation .wy-item-title{font-weight:400}.wy-conversation.wy-unread .wy-item-title{font-weight:700}.wy-conversation.wy-unread .wy-item-text,.wy-conversation.wy-unread .wy-meta{color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));font-weight:600}.wy-conversation .wy-item-text .wy-typing-show{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400}.wy-messenger-conversation{---background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));---color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));background-color:var(---background-color);color:var(---color);overflow-anchor:none;display:flex;flex-direction:column;flex:1 0 min-content;height:100%;width:100%;min-height:0;min-width:0}`, Ig = Qs(Og);
var Tg = Object.defineProperty, Rg = Object.getOwnPropertyDescriptor, Dg = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? Rg(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Tg(t, r, n), n;
};
let xs = class extends bs {
  constructor() {
    super(...arguments), this.connectedContexts = /* @__PURE__ */ new Set();
  }
  disconnectedCallback() {
    super.disconnectedCallback(), kn.removeAll(), kn.host = void 0, this.connectedContexts.clear();
  }
};
xs.styles = Ig;
xs = Dg([
  fe("wy-portal")
], xs);
const Fg = (e) => class extends e {
  constructor(r) {
    super(r), uv(async () => {
      if (await this.whenUrl(), !this.isDestroyed && (kn.host && kn.host instanceof xs ? this._modalPortal = kn.host : this._modalPortal = new xs(), this._modalPortal.connectedContexts.add(this), document)) {
        const i = this.modalParent && document.querySelector(this.modalParent) || document.documentElement;
        i.contains(this._modalPortal) || (i.append(this._modalPortal), this.host.contains(i) || (this._modalContextProvider = new wu(i, {
          context: Te,
          initialValue: this
        })));
      }
    });
  }
  destroy() {
    var r, i;
    super.destroy(), (r = this._modalContextProvider) == null || r.detachListeners(), this._modalPortal && (this._modalPortal.connectedContexts.delete(this), this._modalPortal.connectedContexts.size || (i = this._modalPortal) == null || i.remove());
  }
};
var Gc = /* @__PURE__ */ ((e) => (e.JSON = "application/json;charset=utf-8", e.FormData = "multipart/form-data;charset=utf-8", e.URLEncoded = "application/x-www-form-urlencoded;charset=utf-8", e.Text = "text/plain;charset=utf-8", e.Auto = "", e))(Gc || {});
const zg = (e) => class extends e {
  // FETCH
  async fetchOptions(r = !0) {
    if (this.isDestroyed)
      throw new Nt();
    const i = {
      "X-Weavy-Source": `${ft.sourceName}@${ft.version}`
    };
    return r && (i.Authorization = "Bearer " + await this.getToken()), ls(
      um,
      {
        headers: i
      },
      !0
    );
  }
  async get(r) {
    return await this.post(r, "GET");
  }
  async post(r, i, n, o = Gc.JSON, a = !0) {
    if (this.isDestroyed)
      throw new Nt();
    const s = ls(
      await this.fetchOptions(),
      {
        headers: { "content-type": o },
        method: i,
        body: n
      },
      !0
    );
    this.networkStateIsPending = !0;
    const c = await fetch(new URL(r, this.url), s);
    if (c.ok)
      this.networkStateIsPending = !1, this.serverState = "ok";
    else if (c.status === 401 || c.status === 403) {
      if (a)
        return await this.getToken(!0), await this.post(r, i, n, o, !1);
      this.networkStateIsPending = !1, this.serverState = "unauthorized";
    } else
      this.networkStateIsPending = !1, this.serverState = "unreachable";
    return c;
  }
  async upload(r, i, n, o = Gc.JSON, a, s = !0) {
    if (this.isDestroyed)
      throw new Nt();
    const c = await this.getToken();
    return await new Promise((l, d) => {
      const h = new XMLHttpRequest();
      h.open(i, new URL(r, this.url), !0), h.setRequestHeader("Authorization", "Bearer " + c), h.setRequestHeader("X-Weavy-Source", `${ft.sourceName}@${ft.version}`), o && h.setRequestHeader("content-type", o), a && h.upload.addEventListener("progress", (y) => {
        a(y.loaded / y.total * 100 || 100);
      }), h.onload = (y) => {
        s && (h.status === 401 || h.status === 401) ? this.getToken(!0).then(() => this.upload(r, i, n, o, a, !1)).then(l).catch(d) : l(new Response(h.response, { status: h.status, statusText: h.statusText }));
      }, h.onerror = d, h.send(n);
    });
  }
}, Vg = ".wy-light :where(wy-chat),.wy-light :where(wy-comments),.wy-light :where(wy-files),.wy-light :where(wy-messenger),.wy-light :where(wy-posts),.wy-light :where(wy-portal),:host(.wy-light),:host .wy-light,::slotted(.wy-light){color-scheme:light;--wy-primary: var(--wy-primary-40, #006399);--wy-on-primary: var(--wy-white, #ffffff);--wy-primary-container: var(--wy-primary-90, #cde5ff);--wy-on-primary-container: var(--wy-primary-10, #001d32);--wy-secondary: var(--wy-secondary-40, #3b6a1c);--wy-on-secondary: var(--wy-white, #ffffff);--wy-secondary-container: var(--wy-secondary-90, #bbf294);--wy-on-secondary-container: var(--wy-secondary-10, #0a2100);--wy-tertiary: var(--wy-tertiary-40, #3b6a1c);--wy-on-tertiary: var(--wy-white, #ffffff);--wy-tertiary-container: var(--wy-tertiary-90, #bbf294);--wy-on-tertiary-container: var(--wy-tertiary-10, #0a2100);--wy-error: var(--wy-error-40, #ba1824);--wy-on-error: var(--wy-white, #ffffff);--wy-error-container: var(--wy-error-90, #ffdad7);--wy-on-error-container: var(--wy-error-10, #410004);--wy-warning: var(--wy-warning-70, #afb140);--wy-on-warning: var(--wy-black, #000000);--wy-warning-container: var(--wy-warning-90, #e7e971);--wy-on-warning-container: var(--wy-warning-10, #1c1d00);--wy-background: var(--wy-neutral-99, #fcfcff);--wy-on-background: var(--wy-neutral-10, #1a1c1e);--wy-surface: var(--wy-neutral-99, #fcfcff);--wy-on-surface: var(--wy-neutral-10, #1a1c1e);--wy-surface-variant: var(--wy-neutral-variant-90, #dee3eb);--wy-on-surface-variant: var(--wy-neutral-variant-30, #42474e);--wy-outline: var(--wy-neutral-variant-50, #72777e);--wy-outline-variant: var(--wy-neutral-variant-80, #c2c7ce);--wy-inverse-surface: var(--wy-neutral-20, #2f3033);--wy-on-inverse-surface: var(--wy-neutral-95, #f0f0f4);--wy-inverse-primary: var(--wy-primary-80, #95ccff);--wy-surface-1: var(--wy-surface-1-light, #f1f2f7);--wy-surface-2: var(--wy-surface-2-light, #eaedf3);--wy-surface-3: var(--wy-surface-3-light, #e3e7ee);--wy-surface-4: var(--wy-surface-4-light, #e1e6ed);--wy-surface-5: var(--wy-surface-5-light, #dce2ea);--wy-link: var(--wy-primary-40, #006399);--wy-blue: var(--wy-blue-light, #89a9fc);--wy-indigo: var(--wy-indigo-light, #9185de);--wy-purple: var(--wy-purple-light, #c675b7);--wy-pink: var(--wy-pink-light, #d57194);--wy-red: var(--wy-red-light, #db726c);--wy-orange: var(--wy-orange-light, #e89a3a);--wy-yellow: var(--wy-yellow-light, #afb140);--wy-green: var(--wy-green-light, #00a38b);--wy-teal: var(--wy-teal-light, #00a0a8);--wy-cyan: var(--wy-cyan-light, #0082a1);--wy-gray: var(--wy-gray-light, #76777a);--wy-presence-active: var(--wy-green-light, #00a38b);--wy-code-text: var(--wy-code-text-light, #3b3b3b);--wy-code-variable: var(--wy-code-variable-light, #001080);--wy-code-operator: var(--wy-code-operator-light, #000000);--wy-code-prolog: var(--wy-code-prolog-light, #000080);--wy-code-comment: var(--wy-code-comment-light, #008000);--wy-code-builtin: var(--wy-code-builtin-light, #0070C1);--wy-code-number: var(--wy-code-number-light, #098658);--wy-code-inserted: var(--wy-code-inserted-light, #098658);--wy-code-constant: var(--wy-code-constant-light, #811F3F);--wy-code-hexcode: var(--wy-code-hexcode-light, #811F3F);--wy-code-regex: var(--wy-code-regex-light, #811F3F);--wy-code-char: var(--wy-code-char-light, #811F3F);--wy-code-tag: var(--wy-code-tag-light, #800000);--wy-code-attr-name: var(--wy-code-attr-name-light, #E50000);--wy-code-selector: var(--wy-code-selector-light, #E50000);--wy-code-property: var(--wy-code-property-light, #E50000);--wy-code-deleted: var(--wy-code-deleted-light, #A31515);--wy-code-string: var(--wy-code-string-light, #A31515);--wy-code-changed: var(--wy-code-changed-light, #0451A5);--wy-code-punctuation: var(--wy-code-punctuation-light, #000000);--wy-code-function: var(--wy-code-function-light, #0000FF);--wy-code-keyword: var(--wy-code-keyword-light, #AF00DB);--wy-code-class-name: var(--wy-code-class-name-light, #267F99)}.wy-dark:not(.wy-light) :where(wy-chat),.wy-dark:not(.wy-light) :where(wy-comments),.wy-dark:not(.wy-light) :where(wy-files),.wy-dark:not(.wy-light) :where(wy-messenger),.wy-dark:not(.wy-light) :where(wy-posts),.wy-dark:not(.wy-light) :where(wy-portal),:host(.wy-dark:not(.wy-light)),:host .wy-dark:not(.wy-light),::slotted(.wy-dark:not(.wy-light)){color-scheme:dark;--wy-primary: var(--wy-primary-80, #95ccff);--wy-on-primary: var(--wy-primary-20, #003352);--wy-primary-container: var(--wy-primary-30, #004a75);--wy-on-primary-container: var(--wy-primary-90, #cde5ff);--wy-secondary: var(--wy-secondary-80, #a0d57b);--wy-on-secondary: var(--wy-secondary-20, #163800);--wy-secondary-container: var(--wy-secondary-30, #245103);--wy-on-secondary-container: var(--wy-secondary-90, #bbf294);--wy-tertiary: var(--wy-tertiary-80, #a0d57b);--wy-on-tertiary: var(--wy-tertiary-20, #163800);--wy-tertiary-container: var(--wy-tertiary-30, #245103);--wy-on-tertiary-container: var(--wy-tertiary-90, #bbf294);--wy-error: var(--wy-error-80, #ffb3ae);--wy-on-error: var(--wy-error-20, #68000b);--wy-error-container: var(--wy-error-30, #930014);--wy-on-error-container: var(--wy-error-90, #ffdad7);--wy-warning: var(--wy-warning-90, #e7e971);--wy-on-warning: var(--wy-warning-30, #484a00);--wy-warning-container: var(--wy-warning-50, #7a7c05);--wy-on-warning-container: var(--wy-warning-95, #f5f77d);--wy-background: var(--wy-neutral-10, #1a1c1e);--wy-on-background: var(--wy-neutral-90, #e2e2e5);--wy-surface: var(--wy-neutral-10, #1a1c1e);--wy-on-surface: var(--wy-neutral-90, #e2e2e5);--wy-surface-variant: var(--wy-neutral-variant-30, #42474e);--wy-on-surface-variant: var(--wy-neutral-variant-80, #c2c7ce);--wy-outline: var(--wy-neutral-variant-60, #8c9198);--wy-outline-variant: var(--wy-neutral-variant-30, #42474e);--wy-inverse-surface: var(--wy-neutral-90, #e2e2e5);--wy-on-inverse-surface: var(--wy-neutral-20, #2f3033);--wy-inverse-primary: var(--wy-primary-40, #006399);--wy-surface-1: var(--wy-surface-1-dark, #212427);--wy-surface-2: var(--wy-surface-2-dark, #25292d);--wy-surface-3: var(--wy-surface-3-dark, #292e33);--wy-surface-4: var(--wy-surface-4-dark, #2b3035);--wy-surface-5: var(--wy-surface-5-dark, #2d3338);--wy-link: var(--wy-primary-80, #95ccff);--wy-blue: var(--wy-blue-dark, #b1c5ff);--wy-indigo: var(--wy-indigo-dark, #9185de);--wy-purple: var(--wy-purple-dark, #e38fd3);--wy-pink: var(--wy-pink-dark, #f48bae);--wy-red: var(--wy-red-dark, #db726c);--wy-orange: var(--wy-orange-dark, #e89a3a);--wy-yellow: var(--wy-yellow-dark, #cacc58);--wy-green: var(--wy-green-dark, #00a38b);--wy-teal: var(--wy-teal-dark, #00a0a8);--wy-cyan: var(--wy-cyan-dark, #009dc3);--wy-gray: var(--wy-gray-dark, #909194);--wy-presence-active: var(--wy-green-dark, #00a38b);--wy-code-text: var(--wy-code-text-dark, #cccccc);--wy-code-variable: var(--wy-code-variable-dark, #9CDCFE);--wy-code-operator: var(--wy-code-operator-dark, #d4d4d4);--wy-code-prolog: var(--wy-code-prolog-dark, #569CD6);--wy-code-comment: var(--wy-code-comment-dark, #6a9955);--wy-code-builtin: var(--wy-code-builtin-dark, #4fc1ff);--wy-code-number: var(--wy-code-number-dark, #b5cea8);--wy-code-inserted: var(--wy-code-inserted-dark, #b5cea8);--wy-code-constant: var(--wy-code-constant-dark, #646695);--wy-code-hexcode: var(--wy-code-hexcode-dark, #646695);--wy-code-regex: var(--wy-code-regex-dark, #d16969);--wy-code-char: var(--wy-code-char-dark, #d16969);--wy-code-tag: var(--wy-code-tag-dark, #569cd6);--wy-code-attr-name: var(--wy-code-attr-name-dark, #9cdcfe);--wy-code-selector: var(--wy-code-selector-dark, #9cdcfe);--wy-code-property: var(--wy-code-property-dark, #9cdcfe);--wy-code-deleted: var(--wy-code-deleted-dark, #ce9178);--wy-code-string: var(--wy-code-string-dark, #ce9178);--wy-code-changed: var(--wy-code-changed-dark, #569cd6);--wy-code-punctuation: var(--wy-code-punctuation-dark, #D4D4D4);--wy-code-function: var(--wy-code-function-dark, #569cd6);--wy-code-keyword: var(--wy-code-keyword-dark, #C586C0);--wy-code-class-name: var(--wy-code-class-name-dark, #4ec9b0)}", Po = Qs(Vg);
function kr(e) {
  return e < 0 ? -1 : e === 0 ? 0 : 1;
}
function os(e, t, r) {
  return (1 - r) * e + r * t;
}
function Ng(e, t, r) {
  return r < e ? e : r > t ? t : r;
}
function Xc(e, t, r) {
  return r < e ? e : r > t ? t : r;
}
function Gu(e) {
  return e = e % 360, e < 0 && (e = e + 360), e;
}
function Bg(e, t) {
  return Gu(t - e) <= 180 ? 1 : -1;
}
function Hg(e, t) {
  return 180 - Math.abs(Math.abs(e - t) - 180);
}
function kd(e, t) {
  const r = e[0] * t[0][0] + e[1] * t[0][1] + e[2] * t[0][2], i = e[0] * t[1][0] + e[1] * t[1][1] + e[2] * t[1][2], n = e[0] * t[2][0] + e[1] * t[2][1] + e[2] * t[2][2];
  return [r, i, n];
}
const jg = [
  [0.41233895, 0.35762064, 0.18051042],
  [0.2126, 0.7152, 0.0722],
  [0.01932141, 0.11916382, 0.95034478]
], Ug = [
  [
    3.2413774792388685,
    -1.5376652402851851,
    -0.49885366846268053
  ],
  [
    -0.9691452513005321,
    1.8758853451067872,
    0.04156585616912061
  ],
  [
    0.05562093689691305,
    -0.20395524564742123,
    1.0571799111220335
  ]
], Wg = [95.047, 100, 108.883];
function Xu(e, t, r) {
  return (255 << 24 | (e & 255) << 16 | (t & 255) << 8 | r & 255) >>> 0;
}
function _y(e) {
  const t = oo(e[0]), r = oo(e[1]), i = oo(e[2]);
  return Xu(t, r, i);
}
function Rw(e) {
  return e >> 16 & 255;
}
function Dw(e) {
  return e >> 8 & 255;
}
function Fw(e) {
  return e & 255;
}
function qg(e, t, r) {
  const i = Ug, n = i[0][0] * e + i[0][1] * t + i[0][2] * r, o = i[1][0] * e + i[1][1] * t + i[1][2] * r, a = i[2][0] * e + i[2][1] * t + i[2][2] * r, s = oo(n), c = oo(o), l = oo(a);
  return Xu(s, c, l);
}
function Qg(e) {
  const t = zo(Rw(e)), r = zo(Dw(e)), i = zo(Fw(e));
  return kd([t, r, i], jg);
}
function Kg(e) {
  const t = bn(e), r = oo(t);
  return Xu(r, r, r);
}
function Cd(e) {
  const t = Qg(e)[1];
  return 116 * zw(t / 100) - 16;
}
function bn(e) {
  return 100 * Yg((e + 16) / 116);
}
function $d(e) {
  return zw(e / 100) * 116 - 16;
}
function zo(e) {
  const t = e / 255;
  return t <= 0.040449936 ? t / 12.92 * 100 : Math.pow((t + 0.055) / 1.055, 2.4) * 100;
}
function oo(e) {
  const t = e / 100;
  let r = 0;
  return t <= 31308e-7 ? r = t * 12.92 : r = 1.055 * Math.pow(t, 1 / 2.4) - 0.055, Ng(0, 255, Math.round(r * 255));
}
function Zg() {
  return Wg;
}
function zw(e) {
  const t = 0.008856451679035631, r = 24389 / 27;
  return e > t ? Math.pow(e, 1 / 3) : (r * e + 16) / 116;
}
function Yg(e) {
  const t = 0.008856451679035631, r = 24389 / 27, i = e * e * e;
  return i > t ? i : (116 * e - 16) / r;
}
class li {
  /**
   * Create ViewingConditions from a simple, physically relevant, set of
   * parameters.
   *
   * @param whitePoint White point, measured in the XYZ color space.
   *     default = D65, or sunny day afternoon
   * @param adaptingLuminance The luminance of the adapting field. Informally,
   *     how bright it is in the room where the color is viewed. Can be
   *     calculated from lux by multiplying lux by 0.0586. default = 11.72,
   *     or 200 lux.
   * @param backgroundLstar The lightness of the area surrounding the color.
   *     measured by L* in L*a*b*. default = 50.0
   * @param surround A general description of the lighting surrounding the
   *     color. 0 is pitch dark, like watching a movie in a theater. 1.0 is a
   *     dimly light room, like watching TV at home at night. 2.0 means there
   *     is no difference between the lighting on the color and around it.
   *     default = 2.0
   * @param discountingIlluminant Whether the eye accounts for the tint of the
   *     ambient lighting, such as knowing an apple is still red in green light.
   *     default = false, the eye does not perform this process on
   *       self-luminous objects like displays.
   */
  static make(t = Zg(), r = 200 / Math.PI * bn(50) / 100, i = 50, n = 2, o = !1) {
    const a = t, s = a[0] * 0.401288 + a[1] * 0.650173 + a[2] * -0.051461, c = a[0] * -0.250268 + a[1] * 1.204414 + a[2] * 0.045854, l = a[0] * -2079e-6 + a[1] * 0.048952 + a[2] * 0.953127, d = 0.8 + n / 10, h = d >= 0.9 ? os(0.59, 0.69, (d - 0.9) * 10) : os(0.525, 0.59, (d - 0.8) * 10);
    let y = o ? 1 : d * (1 - 1 / 3.6 * Math.exp((-r - 42) / 92));
    y = y > 1 ? 1 : y < 0 ? 0 : y;
    const w = d, b = [
      y * (100 / s) + 1 - y,
      y * (100 / c) + 1 - y,
      y * (100 / l) + 1 - y
    ], C = 1 / (5 * r + 1), E = C * C * C * C, A = 1 - E, _ = E * r + 0.1 * A * A * Math.cbrt(5 * r), x = bn(i) / t[1], T = 1.48 + Math.sqrt(x), k = 0.725 / Math.pow(x, 0.2), g = k, S = [
      Math.pow(_ * b[0] * s / 100, 0.42),
      Math.pow(_ * b[1] * c / 100, 0.42),
      Math.pow(_ * b[2] * l / 100, 0.42)
    ], L = [
      400 * S[0] / (S[0] + 27.13),
      400 * S[1] / (S[1] + 27.13),
      400 * S[2] / (S[2] + 27.13)
    ], R = (2 * L[0] + L[1] + 0.05 * L[2]) * k;
    return new li(x, R, k, g, h, w, b, _, Math.pow(_, 0.25), T);
  }
  /**
   * Parameters are intermediate values of the CAM16 conversion process. Their
   * names are shorthand for technical color science terminology, this class
   * would not benefit from documenting them individually. A brief overview
   * is available in the CAM16 specification, and a complete overview requires
   * a color science textbook, such as Fairchild's Color Appearance Models.
   */
  constructor(t, r, i, n, o, a, s, c, l, d) {
    this.n = t, this.aw = r, this.nbb = i, this.ncb = n, this.c = o, this.nc = a, this.rgbD = s, this.fl = c, this.fLRoot = l, this.z = d;
  }
}
li.DEFAULT = li.make();
class Yt {
  /**
   * All of the CAM16 dimensions can be calculated from 3 of the dimensions, in
   * the following combinations:
   *      -  {j or q} and {c, m, or s} and hue
   *      - jstar, astar, bstar
   * Prefer using a static method that constructs from 3 of those dimensions.
   * This constructor is intended for those methods to use to return all
   * possible dimensions.
   *
   * @param hue
   * @param chroma informally, colorfulness / color intensity. like saturation
   *     in HSL, except perceptually accurate.
   * @param j lightness
   * @param q brightness; ratio of lightness to white point's lightness
   * @param m colorfulness
   * @param s saturation; ratio of chroma to white point's chroma
   * @param jstar CAM16-UCS J coordinate
   * @param astar CAM16-UCS a coordinate
   * @param bstar CAM16-UCS b coordinate
   */
  constructor(t, r, i, n, o, a, s, c, l) {
    this.hue = t, this.chroma = r, this.j = i, this.q = n, this.m = o, this.s = a, this.jstar = s, this.astar = c, this.bstar = l;
  }
  /**
   * CAM16 instances also have coordinates in the CAM16-UCS space, called J*,
   * a*, b*, or jstar, astar, bstar in code. CAM16-UCS is included in the CAM16
   * specification, and is used to measure distances between colors.
   */
  distance(t) {
    const r = this.jstar - t.jstar, i = this.astar - t.astar, n = this.bstar - t.bstar, o = Math.sqrt(r * r + i * i + n * n);
    return 1.41 * Math.pow(o, 0.63);
  }
  /**
   * @param argb ARGB representation of a color.
   * @return CAM16 color, assuming the color was viewed in default viewing
   *     conditions.
   */
  static fromInt(t) {
    return Yt.fromIntInViewingConditions(t, li.DEFAULT);
  }
  /**
   * @param argb ARGB representation of a color.
   * @param viewingConditions Information about the environment where the color
   *     was observed.
   * @return CAM16 color.
   */
  static fromIntInViewingConditions(t, r) {
    const i = (t & 16711680) >> 16, n = (t & 65280) >> 8, o = t & 255, a = zo(i), s = zo(n), c = zo(o), l = 0.41233895 * a + 0.35762064 * s + 0.18051042 * c, d = 0.2126 * a + 0.7152 * s + 0.0722 * c, h = 0.01932141 * a + 0.11916382 * s + 0.95034478 * c, y = 0.401288 * l + 0.650173 * d - 0.051461 * h, w = -0.250268 * l + 1.204414 * d + 0.045854 * h, b = -2079e-6 * l + 0.048952 * d + 0.953127 * h, C = r.rgbD[0] * y, E = r.rgbD[1] * w, A = r.rgbD[2] * b, _ = Math.pow(r.fl * Math.abs(C) / 100, 0.42), x = Math.pow(r.fl * Math.abs(E) / 100, 0.42), T = Math.pow(r.fl * Math.abs(A) / 100, 0.42), k = kr(C) * 400 * _ / (_ + 27.13), g = kr(E) * 400 * x / (x + 27.13), S = kr(A) * 400 * T / (T + 27.13), L = (11 * k + -12 * g + S) / 11, R = (k + g - 2 * S) / 9, U = (20 * k + 20 * g + 21 * S) / 20, J = (40 * k + 20 * g + S) / 20, ue = Math.atan2(R, L) * 180 / Math.PI, K = ue < 0 ? ue + 360 : ue >= 360 ? ue - 360 : ue, ae = K * Math.PI / 180, ee = J * r.nbb, Q = 100 * Math.pow(ee / r.aw, r.c * r.z), Z = 4 / r.c * Math.sqrt(Q / 100) * (r.aw + 4) * r.fLRoot, le = K < 20.14 ? K + 360 : K, O = 0.25 * (Math.cos(le * Math.PI / 180 + 2) + 3.8), ve = 5e4 / 13 * O * r.nc * r.ncb * Math.sqrt(L * L + R * R) / (U + 0.305), me = Math.pow(ve, 0.9) * Math.pow(1.64 - Math.pow(0.29, r.n), 0.73), Ce = me * Math.sqrt(Q / 100), Re = Ce * r.fLRoot, qe = 50 * Math.sqrt(me * r.c / (r.aw + 4)), Ge = (1 + 100 * 7e-3) * Q / (1 + 7e-3 * Q), Ne = 1 / 0.0228 * Math.log(1 + 0.0228 * Re), it = Ne * Math.cos(ae), je = Ne * Math.sin(ae);
    return new Yt(K, Ce, Q, Z, Re, qe, Ge, it, je);
  }
  /**
   * @param j CAM16 lightness
   * @param c CAM16 chroma
   * @param h CAM16 hue
   */
  static fromJch(t, r, i) {
    return Yt.fromJchInViewingConditions(t, r, i, li.DEFAULT);
  }
  /**
   * @param j CAM16 lightness
   * @param c CAM16 chroma
   * @param h CAM16 hue
   * @param viewingConditions Information about the environment where the color
   *     was observed.
   */
  static fromJchInViewingConditions(t, r, i, n) {
    const o = 4 / n.c * Math.sqrt(t / 100) * (n.aw + 4) * n.fLRoot, a = r * n.fLRoot, s = r / Math.sqrt(t / 100), c = 50 * Math.sqrt(s * n.c / (n.aw + 4)), l = i * Math.PI / 180, d = (1 + 100 * 7e-3) * t / (1 + 7e-3 * t), h = 1 / 0.0228 * Math.log(1 + 0.0228 * a), y = h * Math.cos(l), w = h * Math.sin(l);
    return new Yt(i, r, t, o, a, c, d, y, w);
  }
  /**
   * @param jstar CAM16-UCS lightness.
   * @param astar CAM16-UCS a dimension. Like a* in L*a*b*, it is a Cartesian
   *     coordinate on the Y axis.
   * @param bstar CAM16-UCS b dimension. Like a* in L*a*b*, it is a Cartesian
   *     coordinate on the X axis.
   */
  static fromUcs(t, r, i) {
    return Yt.fromUcsInViewingConditions(t, r, i, li.DEFAULT);
  }
  /**
   * @param jstar CAM16-UCS lightness.
   * @param astar CAM16-UCS a dimension. Like a* in L*a*b*, it is a Cartesian
   *     coordinate on the Y axis.
   * @param bstar CAM16-UCS b dimension. Like a* in L*a*b*, it is a Cartesian
   *     coordinate on the X axis.
   * @param viewingConditions Information about the environment where the color
   *     was observed.
   */
  static fromUcsInViewingConditions(t, r, i, n) {
    const o = r, a = i, s = Math.sqrt(o * o + a * a), l = (Math.exp(s * 0.0228) - 1) / 0.0228 / n.fLRoot;
    let d = Math.atan2(a, o) * (180 / Math.PI);
    d < 0 && (d += 360);
    const h = t / (1 - (t - 100) * 7e-3);
    return Yt.fromJchInViewingConditions(h, l, d, n);
  }
  /**
   *  @return ARGB representation of color, assuming the color was viewed in
   *     default viewing conditions, which are near-identical to the default
   *     viewing conditions for sRGB.
   */
  toInt() {
    return this.viewed(li.DEFAULT);
  }
  /**
   * @param viewingConditions Information about the environment where the color
   *     will be viewed.
   * @return ARGB representation of color
   */
  viewed(t) {
    const r = this.chroma === 0 || this.j === 0 ? 0 : this.chroma / Math.sqrt(this.j / 100), i = Math.pow(r / Math.pow(1.64 - Math.pow(0.29, t.n), 0.73), 1 / 0.9), n = this.hue * Math.PI / 180, o = 0.25 * (Math.cos(n + 2) + 3.8), a = t.aw * Math.pow(this.j / 100, 1 / t.c / t.z), s = o * (5e4 / 13) * t.nc * t.ncb, c = a / t.nbb, l = Math.sin(n), d = Math.cos(n), h = 23 * (c + 0.305) * i / (23 * s + 11 * i * d + 108 * i * l), y = h * d, w = h * l, b = (460 * c + 451 * y + 288 * w) / 1403, C = (460 * c - 891 * y - 261 * w) / 1403, E = (460 * c - 220 * y - 6300 * w) / 1403, A = Math.max(0, 27.13 * Math.abs(b) / (400 - Math.abs(b))), _ = kr(b) * (100 / t.fl) * Math.pow(A, 1 / 0.42), x = Math.max(0, 27.13 * Math.abs(C) / (400 - Math.abs(C))), T = kr(C) * (100 / t.fl) * Math.pow(x, 1 / 0.42), k = Math.max(0, 27.13 * Math.abs(E) / (400 - Math.abs(E))), g = kr(E) * (100 / t.fl) * Math.pow(k, 1 / 0.42), S = _ / t.rgbD[0], L = T / t.rgbD[1], R = g / t.rgbD[2], U = 1.86206786 * S - 1.01125463 * L + 0.14918677 * R, J = 0.38752654 * S + 0.62144744 * L - 897398e-8 * R, ne = -0.0158415 * S - 0.03412294 * L + 1.04996444 * R;
    return qg(U, J, ne);
  }
  /// Given color expressed in XYZ and viewed in [viewingConditions], convert to
  /// CAM16.
  static fromXyzInViewingConditions(t, r, i, n) {
    const o = 0.401288 * t + 0.650173 * r - 0.051461 * i, a = -0.250268 * t + 1.204414 * r + 0.045854 * i, s = -2079e-6 * t + 0.048952 * r + 0.953127 * i, c = n.rgbD[0] * o, l = n.rgbD[1] * a, d = n.rgbD[2] * s, h = Math.pow(n.fl * Math.abs(c) / 100, 0.42), y = Math.pow(n.fl * Math.abs(l) / 100, 0.42), w = Math.pow(n.fl * Math.abs(d) / 100, 0.42), b = kr(c) * 400 * h / (h + 27.13), C = kr(l) * 400 * y / (y + 27.13), E = kr(d) * 400 * w / (w + 27.13), A = (11 * b + -12 * C + E) / 11, _ = (b + C - 2 * E) / 9, x = (20 * b + 20 * C + 21 * E) / 20, T = (40 * b + 20 * C + E) / 20, g = Math.atan2(_, A) * 180 / Math.PI, S = g < 0 ? g + 360 : g >= 360 ? g - 360 : g, L = S * Math.PI / 180, R = T * n.nbb, U = 100 * Math.pow(R / n.aw, n.c * n.z), J = 4 / n.c * Math.sqrt(U / 100) * (n.aw + 4) * n.fLRoot, ne = S < 20.14 ? S + 360 : S, ue = 1 / 4 * (Math.cos(ne * Math.PI / 180 + 2) + 3.8), ae = 5e4 / 13 * ue * n.nc * n.ncb * Math.sqrt(A * A + _ * _) / (x + 0.305), ee = Math.pow(ae, 0.9) * Math.pow(1.64 - Math.pow(0.29, n.n), 0.73), Q = ee * Math.sqrt(U / 100), Z = Q * n.fLRoot, le = 50 * Math.sqrt(ee * n.c / (n.aw + 4)), O = (1 + 100 * 7e-3) * U / (1 + 7e-3 * U), de = Math.log(1 + 0.0228 * Z) / 0.0228, ve = de * Math.cos(L), me = de * Math.sin(L);
    return new Yt(S, Q, U, J, Z, le, O, ve, me);
  }
  /// XYZ representation of CAM16 seen in [viewingConditions].
  xyzInViewingConditions(t) {
    const r = this.chroma === 0 || this.j === 0 ? 0 : this.chroma / Math.sqrt(this.j / 100), i = Math.pow(r / Math.pow(1.64 - Math.pow(0.29, t.n), 0.73), 1 / 0.9), n = this.hue * Math.PI / 180, o = 0.25 * (Math.cos(n + 2) + 3.8), a = t.aw * Math.pow(this.j / 100, 1 / t.c / t.z), s = o * (5e4 / 13) * t.nc * t.ncb, c = a / t.nbb, l = Math.sin(n), d = Math.cos(n), h = 23 * (c + 0.305) * i / (23 * s + 11 * i * d + 108 * i * l), y = h * d, w = h * l, b = (460 * c + 451 * y + 288 * w) / 1403, C = (460 * c - 891 * y - 261 * w) / 1403, E = (460 * c - 220 * y - 6300 * w) / 1403, A = Math.max(0, 27.13 * Math.abs(b) / (400 - Math.abs(b))), _ = kr(b) * (100 / t.fl) * Math.pow(A, 1 / 0.42), x = Math.max(0, 27.13 * Math.abs(C) / (400 - Math.abs(C))), T = kr(C) * (100 / t.fl) * Math.pow(x, 1 / 0.42), k = Math.max(0, 27.13 * Math.abs(E) / (400 - Math.abs(E))), g = kr(E) * (100 / t.fl) * Math.pow(k, 1 / 0.42), S = _ / t.rgbD[0], L = T / t.rgbD[1], R = g / t.rgbD[2], U = 1.86206786 * S - 1.01125463 * L + 0.14918677 * R, J = 0.38752654 * S + 0.62144744 * L - 897398e-8 * R, ne = -0.0158415 * S - 0.03412294 * L + 1.04996444 * R;
    return [U, J, ne];
  }
}
class Se {
  /**
   * Sanitizes a small enough angle in radians.
   *
   * @param angle An angle in radians; must not deviate too much
   * from 0.
   * @return A coterminal angle between 0 and 2pi.
   */
  static sanitizeRadians(t) {
    return (t + Math.PI * 8) % (Math.PI * 2);
  }
  /**
   * Delinearizes an RGB component, returning a floating-point
   * number.
   *
   * @param rgbComponent 0.0 <= rgb_component <= 100.0, represents
   * linear R/G/B channel
   * @return 0.0 <= output <= 255.0, color channel converted to
   * regular RGB space
   */
  static trueDelinearized(t) {
    const r = t / 100;
    let i = 0;
    return r <= 31308e-7 ? i = r * 12.92 : i = 1.055 * Math.pow(r, 1 / 2.4) - 0.055, i * 255;
  }
  static chromaticAdaptation(t) {
    const r = Math.pow(Math.abs(t), 0.42);
    return kr(t) * 400 * r / (r + 27.13);
  }
  /**
   * Returns the hue of a linear RGB color in CAM16.
   *
   * @param linrgb The linear RGB coordinates of a color.
   * @return The hue of the color in CAM16, in radians.
   */
  static hueOf(t) {
    const r = kd(t, Se.SCALED_DISCOUNT_FROM_LINRGB), i = Se.chromaticAdaptation(r[0]), n = Se.chromaticAdaptation(r[1]), o = Se.chromaticAdaptation(r[2]), a = (11 * i + -12 * n + o) / 11, s = (i + n - 2 * o) / 9;
    return Math.atan2(s, a);
  }
  static areInCyclicOrder(t, r, i) {
    const n = Se.sanitizeRadians(r - t), o = Se.sanitizeRadians(i - t);
    return n < o;
  }
  /**
   * Solves the lerp equation.
   *
   * @param source The starting number.
   * @param mid The number in the middle.
   * @param target The ending number.
   * @return A number t such that lerp(source, target, t) = mid.
   */
  static intercept(t, r, i) {
    return (r - t) / (i - t);
  }
  static lerpPoint(t, r, i) {
    return [
      t[0] + (i[0] - t[0]) * r,
      t[1] + (i[1] - t[1]) * r,
      t[2] + (i[2] - t[2]) * r
    ];
  }
  /**
   * Intersects a segment with a plane.
   *
   * @param source The coordinates of point A.
   * @param coordinate The R-, G-, or B-coordinate of the plane.
   * @param target The coordinates of point B.
   * @param axis The axis the plane is perpendicular with. (0: R, 1:
   * G, 2: B)
   * @return The intersection point of the segment AB with the plane
   * R=coordinate, G=coordinate, or B=coordinate
   */
  static setCoordinate(t, r, i, n) {
    const o = Se.intercept(t[n], r, i[n]);
    return Se.lerpPoint(t, o, i);
  }
  static isBounded(t) {
    return 0 <= t && t <= 100;
  }
  /**
   * Returns the nth possible vertex of the polygonal intersection.
   *
   * @param y The Y value of the plane.
   * @param n The zero-based index of the point. 0 <= n <= 11.
   * @return The nth possible vertex of the polygonal intersection
   * of the y plane and the RGB cube, in linear RGB coordinates, if
   * it exists. If this possible vertex lies outside of the cube,
   * [-1.0, -1.0, -1.0] is returned.
   */
  static nthVertex(t, r) {
    const i = Se.Y_FROM_LINRGB[0], n = Se.Y_FROM_LINRGB[1], o = Se.Y_FROM_LINRGB[2], a = r % 4 <= 1 ? 0 : 100, s = r % 2 === 0 ? 0 : 100;
    if (r < 4) {
      const c = a, l = s, d = (t - c * n - l * o) / i;
      return Se.isBounded(d) ? [d, c, l] : [-1, -1, -1];
    } else if (r < 8) {
      const c = a, l = s, d = (t - l * i - c * o) / n;
      return Se.isBounded(d) ? [l, d, c] : [-1, -1, -1];
    } else {
      const c = a, l = s, d = (t - c * i - l * n) / o;
      return Se.isBounded(d) ? [c, l, d] : [-1, -1, -1];
    }
  }
  /**
   * Finds the segment containing the desired color.
   *
   * @param y The Y value of the color.
   * @param targetHue The hue of the color.
   * @return A list of two sets of linear RGB coordinates, each
   * corresponding to an endpoint of the segment containing the
   * desired color.
   */
  static bisectToSegment(t, r) {
    let i = [-1, -1, -1], n = i, o = 0, a = 0, s = !1, c = !0;
    for (let l = 0; l < 12; l++) {
      const d = Se.nthVertex(t, l);
      if (d[0] < 0)
        continue;
      const h = Se.hueOf(d);
      if (!s) {
        i = d, n = d, o = h, a = h, s = !0;
        continue;
      }
      (c || Se.areInCyclicOrder(o, h, a)) && (c = !1, Se.areInCyclicOrder(o, r, h) ? (n = d, a = h) : (i = d, o = h));
    }
    return [i, n];
  }
  static midpoint(t, r) {
    return [
      (t[0] + r[0]) / 2,
      (t[1] + r[1]) / 2,
      (t[2] + r[2]) / 2
    ];
  }
  static criticalPlaneBelow(t) {
    return Math.floor(t - 0.5);
  }
  static criticalPlaneAbove(t) {
    return Math.ceil(t - 0.5);
  }
  /**
   * Finds a color with the given Y and hue on the boundary of the
   * cube.
   *
   * @param y The Y value of the color.
   * @param targetHue The hue of the color.
   * @return The desired color, in linear RGB coordinates.
   */
  static bisectToLimit(t, r) {
    const i = Se.bisectToSegment(t, r);
    let n = i[0], o = Se.hueOf(n), a = i[1];
    for (let s = 0; s < 3; s++)
      if (n[s] !== a[s]) {
        let c = -1, l = 255;
        n[s] < a[s] ? (c = Se.criticalPlaneBelow(Se.trueDelinearized(n[s])), l = Se.criticalPlaneAbove(Se.trueDelinearized(a[s]))) : (c = Se.criticalPlaneAbove(Se.trueDelinearized(n[s])), l = Se.criticalPlaneBelow(Se.trueDelinearized(a[s])));
        for (let d = 0; d < 8 && !(Math.abs(l - c) <= 1); d++) {
          const h = Math.floor((c + l) / 2), y = Se.CRITICAL_PLANES[h], w = Se.setCoordinate(n, y, a, s), b = Se.hueOf(w);
          Se.areInCyclicOrder(o, r, b) ? (a = w, l = h) : (n = w, o = b, c = h);
        }
      }
    return Se.midpoint(n, a);
  }
  static inverseChromaticAdaptation(t) {
    const r = Math.abs(t), i = Math.max(0, 27.13 * r / (400 - r));
    return kr(t) * Math.pow(i, 1 / 0.42);
  }
  /**
   * Finds a color with the given hue, chroma, and Y.
   *
   * @param hueRadians The desired hue in radians.
   * @param chroma The desired chroma.
   * @param y The desired Y.
   * @return The desired color as a hexadecimal integer, if found; 0
   * otherwise.
   */
  static findResultByJ(t, r, i) {
    let n = Math.sqrt(i) * 11;
    const o = li.DEFAULT, a = 1 / Math.pow(1.64 - Math.pow(0.29, o.n), 0.73), c = 0.25 * (Math.cos(t + 2) + 3.8) * (5e4 / 13) * o.nc * o.ncb, l = Math.sin(t), d = Math.cos(t);
    for (let h = 0; h < 5; h++) {
      const y = n / 100, w = r === 0 || n === 0 ? 0 : r / Math.sqrt(y), b = Math.pow(w * a, 1 / 0.9), E = o.aw * Math.pow(y, 1 / o.c / o.z) / o.nbb, A = 23 * (E + 0.305) * b / (23 * c + 11 * b * d + 108 * b * l), _ = A * d, x = A * l, T = (460 * E + 451 * _ + 288 * x) / 1403, k = (460 * E - 891 * _ - 261 * x) / 1403, g = (460 * E - 220 * _ - 6300 * x) / 1403, S = Se.inverseChromaticAdaptation(T), L = Se.inverseChromaticAdaptation(k), R = Se.inverseChromaticAdaptation(g), U = kd([S, L, R], Se.LINRGB_FROM_SCALED_DISCOUNT);
      if (U[0] < 0 || U[1] < 0 || U[2] < 0)
        return 0;
      const J = Se.Y_FROM_LINRGB[0], ne = Se.Y_FROM_LINRGB[1], ue = Se.Y_FROM_LINRGB[2], K = J * U[0] + ne * U[1] + ue * U[2];
      if (K <= 0)
        return 0;
      if (h === 4 || Math.abs(K - i) < 2e-3)
        return U[0] > 100.01 || U[1] > 100.01 || U[2] > 100.01 ? 0 : _y(U);
      n = n - (K - i) * n / (2 * K);
    }
    return 0;
  }
  /**
   * Finds an sRGB color with the given hue, chroma, and L*, if
   * possible.
   *
   * @param hueDegrees The desired hue, in degrees.
   * @param chroma The desired chroma.
   * @param lstar The desired L*.
   * @return A hexadecimal representing the sRGB color. The color
   * has sufficiently close hue, chroma, and L* to the desired
   * values, if possible; otherwise, the hue and L* will be
   * sufficiently close, and chroma will be maximized.
   */
  static solveToInt(t, r, i) {
    if (r < 1e-4 || i < 1e-4 || i > 99.9999)
      return Kg(i);
    t = Gu(t);
    const n = t / 180 * Math.PI, o = bn(i), a = Se.findResultByJ(n, r, o);
    if (a !== 0)
      return a;
    const s = Se.bisectToLimit(o, n);
    return _y(s);
  }
  /**
   * Finds an sRGB color with the given hue, chroma, and L*, if
   * possible.
   *
   * @param hueDegrees The desired hue, in degrees.
   * @param chroma The desired chroma.
   * @param lstar The desired L*.
   * @return An CAM16 object representing the sRGB color. The color
   * has sufficiently close hue, chroma, and L* to the desired
   * values, if possible; otherwise, the hue and L* will be
   * sufficiently close, and chroma will be maximized.
   */
  static solveToCam(t, r, i) {
    return Yt.fromInt(Se.solveToInt(t, r, i));
  }
}
Se.SCALED_DISCOUNT_FROM_LINRGB = [
  [
    0.001200833568784504,
    0.002389694492170889,
    2795742885861124e-19
  ],
  [
    5891086651375999e-19,
    0.0029785502573438758,
    3270666104008398e-19
  ],
  [
    10146692491640572e-20,
    5364214359186694e-19,
    0.0032979401770712076
  ]
];
Se.LINRGB_FROM_SCALED_DISCOUNT = [
  [
    1373.2198709594231,
    -1100.4251190754821,
    -7.278681089101213
  ],
  [
    -271.815969077903,
    559.6580465940733,
    -32.46047482791194
  ],
  [
    1.9622899599665666,
    -57.173814538844006,
    308.7233197812385
  ]
];
Se.Y_FROM_LINRGB = [0.2126, 0.7152, 0.0722];
Se.CRITICAL_PLANES = [
  0.015176349177441876,
  0.045529047532325624,
  0.07588174588720938,
  0.10623444424209313,
  0.13658714259697685,
  0.16693984095186062,
  0.19729253930674434,
  0.2276452376616281,
  0.2579979360165119,
  0.28835063437139563,
  0.3188300904430532,
  0.350925934958123,
  0.3848314933096426,
  0.42057480301049466,
  0.458183274052838,
  0.4976837250274023,
  0.5391024159806381,
  0.5824650784040898,
  0.6277969426914107,
  0.6751227633498623,
  0.7244668422128921,
  0.775853049866786,
  0.829304845476233,
  0.8848452951698498,
  0.942497089126609,
  1.0022825574869039,
  1.0642236851973577,
  1.1283421258858297,
  1.1946592148522128,
  1.2631959812511864,
  1.3339731595349034,
  1.407011200216447,
  1.4823302800086415,
  1.5599503113873272,
  1.6398909516233677,
  1.7221716113234105,
  1.8068114625156377,
  1.8938294463134073,
  1.9832442801866852,
  2.075074464868551,
  2.1693382909216234,
  2.2660538449872063,
  2.36523901573795,
  2.4669114995532007,
  2.5710888059345764,
  2.6777882626779785,
  2.7870270208169257,
  2.898822059350997,
  3.0131901897720907,
  3.1301480604002863,
  3.2497121605402226,
  3.3718988244681087,
  3.4967242352587946,
  3.624204428461639,
  3.754355295633311,
  3.887192587735158,
  4.022731918402185,
  4.160988767090289,
  4.301978482107941,
  4.445716283538092,
  4.592217266055746,
  4.741496401646282,
  4.893568542229298,
  5.048448422192488,
  5.20615066083972,
  5.3666897647573375,
  5.5300801301023865,
  5.696336044816294,
  5.865471690767354,
  6.037501145825082,
  6.212438385869475,
  6.390297286737924,
  6.571091626112461,
  6.7548350853498045,
  6.941541251256611,
  7.131223617812143,
  7.323895587840543,
  7.5195704746346665,
  7.7182615035334345,
  7.919981813454504,
  8.124744458384042,
  8.332562408825165,
  8.543448553206703,
  8.757415699253682,
  8.974476575321063,
  9.194643831691977,
  9.417930041841839,
  9.644347703669503,
  9.873909240696694,
  10.106627003236781,
  10.342513269534024,
  10.58158024687427,
  10.8238400726681,
  11.069304815507364,
  11.317986476196008,
  11.569896988756009,
  11.825048221409341,
  12.083451977536606,
  12.345119996613247,
  12.610063955123938,
  12.878295467455942,
  13.149826086772048,
  13.42466730586372,
  13.702830557985108,
  13.984327217668513,
  14.269168601521828,
  14.55736596900856,
  14.848930523210871,
  15.143873411576273,
  15.44220572664832,
  15.743938506781891,
  16.04908273684337,
  16.35764934889634,
  16.66964922287304,
  16.985093187232053,
  17.30399201960269,
  17.62635644741625,
  17.95219714852476,
  18.281524751807332,
  18.614349837764564,
  18.95068293910138,
  19.290534541298456,
  19.633915083172692,
  19.98083495742689,
  20.331304511189067,
  20.685334046541502,
  21.042933821039977,
  21.404114048223256,
  21.76888489811322,
  22.137256497705877,
  22.50923893145328,
  22.884842241736916,
  23.264076429332462,
  23.6469514538663,
  24.033477234264016,
  24.42366364919083,
  24.817520537484558,
  25.21505769858089,
  25.61628489293138,
  26.021211842414342,
  26.429848230738664,
  26.842203703840827,
  27.258287870275353,
  27.678110301598522,
  28.10168053274597,
  28.529008062403893,
  28.96010235337422,
  29.39497283293396,
  29.83362889318845,
  30.276079891419332,
  30.722335150426627,
  31.172403958865512,
  31.62629557157785,
  32.08401920991837,
  32.54558406207592,
  33.010999283389665,
  33.4802739966603,
  33.953417292456834,
  34.430438229418264,
  34.911345834551085,
  35.39614910352207,
  35.88485700094671,
  36.37747846067349,
  36.87402238606382,
  37.37449765026789,
  37.87891309649659,
  38.38727753828926,
  38.89959975977785,
  39.41588851594697,
  39.93615253289054,
  40.460400508064545,
  40.98864111053629,
  41.520882981230194,
  42.05713473317016,
  42.597404951718396,
  43.141702194811224,
  43.6900349931913,
  44.24241185063697,
  44.798841244188324,
  45.35933162437017,
  45.92389141541209,
  46.49252901546552,
  47.065252796817916,
  47.64207110610409,
  48.22299226451468,
  48.808024568002054,
  49.3971762874833,
  49.9904556690408,
  50.587870934119984,
  51.189430279724725,
  51.79514187861014,
  52.40501387947288,
  53.0190544071392,
  53.637271562750364,
  54.259673423945976,
  54.88626804504493,
  55.517063457223934,
  56.15206766869424,
  56.79128866487574,
  57.43473440856916,
  58.08241284012621,
  58.734331877617365,
  59.39049941699807,
  60.05092333227251,
  60.715611475655585,
  61.38457167773311,
  62.057811747619894,
  62.7353394731159,
  63.417162620860914,
  64.10328893648692,
  64.79372614476921,
  65.48848194977529,
  66.18756403501224,
  66.89098006357258,
  67.59873767827808,
  68.31084450182222,
  69.02730813691093,
  69.74813616640164,
  70.47333615344107,
  71.20291564160104,
  71.93688215501312,
  72.67524319850172,
  73.41800625771542,
  74.16517879925733,
  74.9167682708136,
  75.67278210128072,
  76.43322770089146,
  77.1981124613393,
  77.96744375590167,
  78.74122893956174,
  79.51947534912904,
  80.30219030335869,
  81.08938110306934,
  81.88105503125999,
  82.67721935322541,
  83.4778813166706,
  84.28304815182372,
  85.09272707154808,
  85.90692527145302,
  86.72564993000343,
  87.54890820862819,
  88.3767072518277,
  89.2090541872801,
  90.04595612594655,
  90.88742016217518,
  91.73345337380438,
  92.58406282226491,
  93.43925555268066,
  94.29903859396902,
  95.16341895893969,
  96.03240364439274,
  96.9059996312159,
  97.78421388448044,
  98.6670533535366,
  99.55452497210776
];
class Gt {
  static from(t, r, i) {
    return new Gt(Se.solveToInt(t, r, i));
  }
  /**
   * @param argb ARGB representation of a color.
   * @return HCT representation of a color in default viewing conditions
   */
  static fromInt(t) {
    return new Gt(t);
  }
  toInt() {
    return this.argb;
  }
  /**
   * A number, in degrees, representing ex. red, orange, yellow, etc.
   * Ranges from 0 <= hue < 360.
   */
  get hue() {
    return this.internalHue;
  }
  /**
   * @param newHue 0 <= newHue < 360; invalid values are corrected.
   * Chroma may decrease because chroma has a different maximum for any given
   * hue and tone.
   */
  set hue(t) {
    this.setInternalState(Se.solveToInt(t, this.internalChroma, this.internalTone));
  }
  get chroma() {
    return this.internalChroma;
  }
  /**
   * @param newChroma 0 <= newChroma < ?
   * Chroma may decrease because chroma has a different maximum for any given
   * hue and tone.
   */
  set chroma(t) {
    this.setInternalState(Se.solveToInt(this.internalHue, t, this.internalTone));
  }
  /** Lightness. Ranges from 0 to 100. */
  get tone() {
    return this.internalTone;
  }
  /**
   * @param newTone 0 <= newTone <= 100; invalid valids are corrected.
   * Chroma may decrease because chroma has a different maximum for any given
   * hue and tone.
   */
  set tone(t) {
    this.setInternalState(Se.solveToInt(this.internalHue, this.internalChroma, t));
  }
  constructor(t) {
    this.argb = t;
    const r = Yt.fromInt(t);
    this.internalHue = r.hue, this.internalChroma = r.chroma, this.internalTone = Cd(t), this.argb = t;
  }
  setInternalState(t) {
    const r = Yt.fromInt(t);
    this.internalHue = r.hue, this.internalChroma = r.chroma, this.internalTone = Cd(t), this.argb = t;
  }
  /**
   * Translates a color into different [ViewingConditions].
   *
   * Colors change appearance. They look different with lights on versus off,
   * the same color, as in hex code, on white looks different when on black.
   * This is called color relativity, most famously explicated by Josef Albers
   * in Interaction of Color.
   *
   * In color science, color appearance models can account for this and
   * calculate the appearance of a color in different settings. HCT is based on
   * CAM16, a color appearance model, and uses it to make these calculations.
   *
   * See [ViewingConditions.make] for parameters affecting color appearance.
   */
  inViewingConditions(t) {
    const i = Yt.fromInt(this.toInt()).xyzInViewingConditions(t), n = Yt.fromXyzInViewingConditions(i[0], i[1], i[2], li.make());
    return Gt.from(n.hue, n.chroma, $d(i[1]));
  }
}
class jr {
  /**
   * Blend the design color's HCT hue towards the key color's HCT
   * hue, in a way that leaves the original color recognizable and
   * recognizably shifted towards the key color.
   *
   * @param designColor ARGB representation of an arbitrary color.
   * @param sourceColor ARGB representation of the main theme color.
   * @return The design color with a hue shifted towards the
   * system's color, a slightly warmer/cooler variant of the design
   * color's hue.
   */
  static harmonize(t, r) {
    const i = Gt.fromInt(t), n = Gt.fromInt(r), o = Hg(i.hue, n.hue), a = Math.min(o * 0.5, 15), s = Gu(i.hue + a * Bg(i.hue, n.hue));
    return Gt.from(s, i.chroma, i.tone).toInt();
  }
  /**
   * Blends hue from one color into another. The chroma and tone of
   * the original color are maintained.
   *
   * @param from ARGB representation of color
   * @param to ARGB representation of color
   * @param amount how much blending to perform; 0.0 >= and <= 1.0
   * @return from, with a hue blended towards to. Chroma and tone
   * are constant.
   */
  static hctHue(t, r, i) {
    const n = jr.cam16Ucs(t, r, i), o = Yt.fromInt(n), a = Yt.fromInt(t);
    return Gt.from(o.hue, a.chroma, Cd(t)).toInt();
  }
  /**
   * Blend in CAM16-UCS space.
   *
   * @param from ARGB representation of color
   * @param to ARGB representation of color
   * @param amount how much blending to perform; 0.0 >= and <= 1.0
   * @return from, blended towards to. Hue, chroma, and tone will
   * change.
   */
  static cam16Ucs(t, r, i) {
    const n = Yt.fromInt(t), o = Yt.fromInt(r), a = n.jstar, s = n.astar, c = n.bstar, l = o.jstar, d = o.astar, h = o.bstar, y = a + (l - a) * i, w = s + (d - s) * i, b = c + (h - c) * i;
    return Yt.fromUcs(y, w, b).toInt();
  }
}
class Zt {
  /**
   * Returns a contrast ratio, which ranges from 1 to 21.
   *
   * @param toneA Tone between 0 and 100. Values outside will be clamped.
   * @param toneB Tone between 0 and 100. Values outside will be clamped.
   */
  static ratioOfTones(t, r) {
    return t = Xc(0, 100, t), r = Xc(0, 100, r), Zt.ratioOfYs(bn(t), bn(r));
  }
  static ratioOfYs(t, r) {
    const i = t > r ? t : r, n = i === r ? t : r;
    return (i + 5) / (n + 5);
  }
  /**
   * Returns a tone >= tone parameter that ensures ratio parameter.
   * Return value is between 0 and 100.
   * Returns -1 if ratio cannot be achieved with tone parameter.
   *
   * @param tone Tone return value must contrast with.
   * Range is 0 to 100. Invalid values will result in -1 being returned.
   * @param ratio Contrast ratio of return value and tone.
   * Range is 1 to 21, invalid values have undefined behavior.
   */
  static lighter(t, r) {
    if (t < 0 || t > 100)
      return -1;
    const i = bn(t), n = r * (i + 5) - 5, o = Zt.ratioOfYs(n, i), a = Math.abs(o - r);
    if (o < r && a > 0.04)
      return -1;
    const s = $d(n) + 0.4;
    return s < 0 || s > 100 ? -1 : s;
  }
  /**
   * Returns a tone <= tone parameter that ensures ratio parameter.
   * Return value is between 0 and 100.
   * Returns -1 if ratio cannot be achieved with tone parameter.
   *
   * @param tone Tone return value must contrast with.
   * Range is 0 to 100. Invalid values will result in -1 being returned.
   * @param ratio Contrast ratio of return value and tone.
   * Range is 1 to 21, invalid values have undefined behavior.
   */
  static darker(t, r) {
    if (t < 0 || t > 100)
      return -1;
    const i = bn(t), n = (i + 5) / r - 5, o = Zt.ratioOfYs(i, n), a = Math.abs(o - r);
    if (o < r && a > 0.04)
      return -1;
    const s = $d(n) - 0.4;
    return s < 0 || s > 100 ? -1 : s;
  }
  /**
   * Returns a tone >= tone parameter that ensures ratio parameter.
   * Return value is between 0 and 100.
   * Returns 100 if ratio cannot be achieved with tone parameter.
   *
   * This method is unsafe because the returned value is guaranteed to be in
   * bounds for tone, i.e. between 0 and 100. However, that value may not reach
   * the ratio with tone. For example, there is no color lighter than T100.
   *
   * @param tone Tone return value must contrast with.
   * Range is 0 to 100. Invalid values will result in 100 being returned.
   * @param ratio Desired contrast ratio of return value and tone parameter.
   * Range is 1 to 21, invalid values have undefined behavior.
   */
  static lighterUnsafe(t, r) {
    const i = Zt.lighter(t, r);
    return i < 0 ? 100 : i;
  }
  /**
   * Returns a tone >= tone parameter that ensures ratio parameter.
   * Return value is between 0 and 100.
   * Returns 100 if ratio cannot be achieved with tone parameter.
   *
   * This method is unsafe because the returned value is guaranteed to be in
   * bounds for tone, i.e. between 0 and 100. However, that value may not reach
   * the [ratio with [tone]. For example, there is no color darker than T0.
   *
   * @param tone Tone return value must contrast with.
   * Range is 0 to 100. Invalid values will result in 0 being returned.
   * @param ratio Desired contrast ratio of return value and tone parameter.
   * Range is 1 to 21, invalid values have undefined behavior.
   */
  static darkerUnsafe(t, r) {
    const i = Zt.darker(t, r);
    return i < 0 ? 0 : i;
  }
}
class Ju {
  /**
   * Returns true if a color is disliked.
   *
   * @param hct A color to be judged.
   * @return Whether the color is disliked.
   *
   * Disliked is defined as a dark yellow-green that is not neutral.
   */
  static isDisliked(t) {
    const r = Math.round(t.hue) >= 90 && Math.round(t.hue) <= 111, i = Math.round(t.chroma) > 16, n = Math.round(t.tone) < 65;
    return r && i && n;
  }
  /**
   * If a color is disliked, lighten it to make it likable.
   *
   * @param hct A color to be judged.
   * @return A new color if the original color is disliked, or the original
   *   color if it is acceptable.
   */
  static fixIfDisliked(t) {
    return Ju.isDisliked(t) ? Gt.from(t.hue, t.chroma, 70) : t;
  }
}
class pe {
  /**
   * Create a DynamicColor defined by a TonalPalette and HCT tone.
   *
   * @param args Functions with DynamicScheme as input. Must provide a palette
   * and tone. May provide a background DynamicColor and ToneDeltaConstraint.
   */
  static fromPalette(t) {
    return new pe(t.name ?? "", t.palette, t.tone, t.isBackground ?? !1, t.background, t.secondBackground, t.contrastCurve, t.toneDeltaPair);
  }
  /**
   * The base constructor for DynamicColor.
   *
   * _Strongly_ prefer using one of the convenience constructors. This class is
   * arguably too flexible to ensure it can support any scenario. Functional
   * arguments allow  overriding without risks that come with subclasses.
   *
   * For example, the default behavior of adjust tone at max contrast
   * to be at a 7.0 ratio with its background is principled and
   * matches accessibility guidance. That does not mean it's the desired
   * approach for _every_ design system, and every color pairing,
   * always, in every case.
   *
   * @param name The name of the dynamic color. Defaults to empty.
   * @param palette Function that provides a TonalPalette given
   * DynamicScheme. A TonalPalette is defined by a hue and chroma, so this
   * replaces the need to specify hue/chroma. By providing a tonal palette, when
   * contrast adjustments are made, intended chroma can be preserved.
   * @param tone Function that provides a tone, given a DynamicScheme.
   * @param isBackground Whether this dynamic color is a background, with
   * some other color as the foreground. Defaults to false.
   * @param background The background of the dynamic color (as a function of a
   *     `DynamicScheme`), if it exists.
   * @param secondBackground A second background of the dynamic color (as a
   *     function of a `DynamicScheme`), if it
   * exists.
   * @param contrastCurve A `ContrastCurve` object specifying how its contrast
   * against its background should behave in various contrast levels options.
   * @param toneDeltaPair A `ToneDeltaPair` object specifying a tone delta
   * constraint between two colors. One of them must be the color being
   * constructed.
   */
  constructor(t, r, i, n, o, a, s, c) {
    if (this.name = t, this.palette = r, this.tone = i, this.isBackground = n, this.background = o, this.secondBackground = a, this.contrastCurve = s, this.toneDeltaPair = c, this.hctCache = /* @__PURE__ */ new Map(), !o && a)
      throw new Error(`Color ${t} has secondBackgrounddefined, but background is not defined.`);
    if (!o && s)
      throw new Error(`Color ${t} has contrastCurvedefined, but background is not defined.`);
    if (o && !s)
      throw new Error(`Color ${t} has backgrounddefined, but contrastCurve is not defined.`);
  }
  /**
   * Return a ARGB integer (i.e. a hex code).
   *
   * @param scheme Defines the conditions of the user interface, for example,
   * whether or not it is dark mode or light mode, and what the desired
   * contrast level is.
   */
  getArgb(t) {
    return this.getHct(t).toInt();
  }
  /**
   * Return a color, expressed in the HCT color space, that this
   * DynamicColor is under the conditions in scheme.
   *
   * @param scheme Defines the conditions of the user interface, for example,
   * whether or not it is dark mode or light mode, and what the desired
   * contrast level is.
   */
  getHct(t) {
    const r = this.hctCache.get(t);
    if (r != null)
      return r;
    const i = this.getTone(t), n = this.palette(t).getHct(i);
    return this.hctCache.size > 4 && this.hctCache.clear(), this.hctCache.set(t, n), n;
  }
  /**
   * Return a tone, T in the HCT color space, that this DynamicColor is under
   * the conditions in scheme.
   *
   * @param scheme Defines the conditions of the user interface, for example,
   * whether or not it is dark mode or light mode, and what the desired
   * contrast level is.
   */
  getTone(t) {
    const r = t.contrastLevel < 0;
    if (this.toneDeltaPair) {
      const i = this.toneDeltaPair(t), n = i.roleA, o = i.roleB, a = i.delta, s = i.polarity, c = i.stayTogether, d = this.background(t).getTone(t), h = s === "nearer" || s === "lighter" && !t.isDark || s === "darker" && t.isDark, y = h ? n : o, w = h ? o : n, b = this.name === y.name, C = t.isDark ? 1 : -1, E = y.contrastCurve.getContrast(t.contrastLevel), A = w.contrastCurve.getContrast(t.contrastLevel), _ = y.tone(t);
      let x = Zt.ratioOfTones(d, _) >= E ? _ : pe.foregroundTone(d, E);
      const T = w.tone(t);
      let k = Zt.ratioOfTones(d, T) >= A ? T : pe.foregroundTone(d, A);
      return r && (x = pe.foregroundTone(d, E), k = pe.foregroundTone(d, A)), (k - x) * C >= a || (k = Xc(0, 100, x + a * C), (k - x) * C >= a || (x = Xc(0, 100, k - a * C))), 50 <= x && x < 60 ? C > 0 ? (x = 60, k = Math.max(k, x + a * C)) : (x = 49, k = Math.min(k, x + a * C)) : 50 <= k && k < 60 && (c ? C > 0 ? (x = 60, k = Math.max(k, x + a * C)) : (x = 49, k = Math.min(k, x + a * C)) : C > 0 ? k = 60 : k = 49), b ? x : k;
    } else {
      let i = this.tone(t);
      if (this.background == null)
        return i;
      const n = this.background(t).getTone(t), o = this.contrastCurve.getContrast(t.contrastLevel);
      if (Zt.ratioOfTones(n, i) >= o || (i = pe.foregroundTone(n, o)), r && (i = pe.foregroundTone(n, o)), this.isBackground && 50 <= i && i < 60 && (Zt.ratioOfTones(49, n) >= o ? i = 49 : i = 60), this.secondBackground) {
        const [a, s] = [this.background, this.secondBackground], [c, l] = [a(t).getTone(t), s(t).getTone(t)], [d, h] = [Math.max(c, l), Math.min(c, l)];
        if (Zt.ratioOfTones(d, i) >= o && Zt.ratioOfTones(h, i) >= o)
          return i;
        const y = Zt.lighter(d, o), w = Zt.darker(h, o), b = [];
        return y !== -1 && b.push(y), w !== -1 && b.push(w), pe.tonePrefersLightForeground(c) || pe.tonePrefersLightForeground(l) ? y < 0 ? 100 : y : b.length === 1 ? b[0] : w < 0 ? 0 : w;
      }
      return i;
    }
  }
  /**
   * Given a background tone, find a foreground tone, while ensuring they reach
   * a contrast ratio that is as close to [ratio] as possible.
   *
   * @param bgTone Tone in HCT. Range is 0 to 100, undefined behavior when it
   *     falls outside that range.
   * @param ratio The contrast ratio desired between bgTone and the return
   *     value.
   */
  static foregroundTone(t, r) {
    const i = Zt.lighterUnsafe(t, r), n = Zt.darkerUnsafe(t, r), o = Zt.ratioOfTones(i, t), a = Zt.ratioOfTones(n, t);
    if (pe.tonePrefersLightForeground(t)) {
      const c = Math.abs(o - a) < 0.1 && o < r && a < r;
      return o >= r || o >= a || c ? i : n;
    } else
      return a >= r || a >= o ? n : i;
  }
  /**
   * Returns whether [tone] prefers a light foreground.
   *
   * People prefer white foregrounds on ~T60-70. Observed over time, and also
   * by Andrew Somers during research for APCA.
   *
   * T60 used as to create the smallest discontinuity possible when skipping
   * down to T49 in order to ensure light foregrounds.
   * Since `tertiaryContainer` in dark monochrome scheme requires a tone of
   * 60, it should not be adjusted. Therefore, 60 is excluded here.
   */
  static tonePrefersLightForeground(t) {
    return Math.round(t) < 60;
  }
  /**
   * Returns whether [tone] can reach a contrast ratio of 4.5 with a lighter
   * color.
   */
  static toneAllowsLightForeground(t) {
    return Math.round(t) <= 49;
  }
  /**
   * Adjust a tone such that white has 4.5 contrast, if the tone is
   * reasonably close to supporting it.
   */
  static enableLightForeground(t) {
    return pe.tonePrefersLightForeground(t) && !pe.toneAllowsLightForeground(t) ? 49 : t;
  }
}
var _s;
(function(e) {
  e[e.MONOCHROME = 0] = "MONOCHROME", e[e.NEUTRAL = 1] = "NEUTRAL", e[e.TONAL_SPOT = 2] = "TONAL_SPOT", e[e.VIBRANT = 3] = "VIBRANT", e[e.EXPRESSIVE = 4] = "EXPRESSIVE", e[e.FIDELITY = 5] = "FIDELITY", e[e.CONTENT = 6] = "CONTENT", e[e.RAINBOW = 7] = "RAINBOW", e[e.FRUIT_SALAD = 8] = "FRUIT_SALAD";
})(_s || (_s = {}));
class He {
  /**
   * Creates a `ContrastCurve` object.
   *
   * @param low Contrast requirement for contrast level -1.0
   * @param normal Contrast requirement for contrast level 0.0
   * @param medium Contrast requirement for contrast level 0.5
   * @param high Contrast requirement for contrast level 1.0
   */
  constructor(t, r, i, n) {
    this.low = t, this.normal = r, this.medium = i, this.high = n;
  }
  /**
   * Returns the contrast ratio at a given contrast level.
   *
   * @param contrastLevel The contrast level. 0.0 is the default (normal);
   * -1.0 is the lowest; 1.0 is the highest.
   * @return The contrast ratio, a number between 1.0 and 21.0.
   */
  getContrast(t) {
    return t <= -1 ? this.low : t < 0 ? os(this.low, this.normal, (t - -1) / 1) : t < 0.5 ? os(this.normal, this.medium, (t - 0) / 0.5) : t < 1 ? os(this.medium, this.high, (t - 0.5) / 0.5) : this.high;
  }
}
class Or {
  /**
   * Documents a constraint in tone distance between two DynamicColors.
   *
   * The polarity is an adjective that describes "A", compared to "B".
   *
   * For instance, ToneDeltaPair(A, B, 15, 'darker', stayTogether) states that
   * A's tone should be at least 15 darker than B's.
   *
   * 'nearer' and 'farther' describes closeness to the surface roles. For
   * instance, ToneDeltaPair(A, B, 10, 'nearer', stayTogether) states that A
   * should be 10 lighter than B in light mode, and 10 darker than B in dark
   * mode.
   *
   * @param roleA The first role in a pair.
   * @param roleB The second role in a pair.
   * @param delta Required difference between tones. Absolute value, negative
   * values have undefined behavior.
   * @param polarity The relative relation between tones of roleA and roleB,
   * as described above.
   * @param stayTogether Whether these two roles should stay on the same side of
   * the "awkward zone" (T50-59). This is necessary for certain cases where
   * one role has two backgrounds.
   */
  constructor(t, r, i, n, o) {
    this.roleA = t, this.roleB = r, this.delta = i, this.polarity = n, this.stayTogether = o;
  }
}
function Pa(e) {
  return e.variant === _s.FIDELITY || e.variant === _s.CONTENT;
}
function zt(e) {
  return e.variant === _s.MONOCHROME;
}
function Gg(e, t, r, i) {
  let n = r, o = Gt.from(e, t, r);
  if (o.chroma < t) {
    let a = o.chroma;
    for (; o.chroma < t; ) {
      n += i ? -1 : 1;
      const s = Gt.from(e, t, n);
      if (a > s.chroma || Math.abs(s.chroma - t) < 0.4)
        break;
      const c = Math.abs(s.chroma - t), l = Math.abs(o.chroma - t);
      c < l && (o = s), a = Math.max(a, s.chroma);
    }
  }
  return n;
}
function Xg(e) {
  return li.make(
    /*whitePoint=*/
    void 0,
    /*adaptingLuminance=*/
    void 0,
    /*backgroundLstar=*/
    e.isDark ? 30 : 80,
    /*surround=*/
    void 0,
    /*discountingIlluminant=*/
    void 0
  );
}
function eh(e, t) {
  const r = e.inViewingConditions(Xg(t));
  return pe.tonePrefersLightForeground(e.tone) && !pe.toneAllowsLightForeground(r.tone) ? pe.enableLightForeground(e.tone) : pe.enableLightForeground(r.tone);
}
class X {
  static highestSurface(t) {
    return t.isDark ? X.surfaceBright : X.surfaceDim;
  }
}
X.contentAccentToneDelta = 15;
X.primaryPaletteKeyColor = pe.fromPalette({
  name: "primary_palette_key_color",
  palette: (e) => e.primaryPalette,
  tone: (e) => e.primaryPalette.keyColor.tone
});
X.secondaryPaletteKeyColor = pe.fromPalette({
  name: "secondary_palette_key_color",
  palette: (e) => e.secondaryPalette,
  tone: (e) => e.secondaryPalette.keyColor.tone
});
X.tertiaryPaletteKeyColor = pe.fromPalette({
  name: "tertiary_palette_key_color",
  palette: (e) => e.tertiaryPalette,
  tone: (e) => e.tertiaryPalette.keyColor.tone
});
X.neutralPaletteKeyColor = pe.fromPalette({
  name: "neutral_palette_key_color",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.neutralPalette.keyColor.tone
});
X.neutralVariantPaletteKeyColor = pe.fromPalette({
  name: "neutral_variant_palette_key_color",
  palette: (e) => e.neutralVariantPalette,
  tone: (e) => e.neutralVariantPalette.keyColor.tone
});
X.background = pe.fromPalette({
  name: "background",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 6 : 98,
  isBackground: !0
});
X.onBackground = pe.fromPalette({
  name: "on_background",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 90 : 10,
  background: (e) => X.background,
  contrastCurve: new He(3, 3, 4.5, 7)
});
X.surface = pe.fromPalette({
  name: "surface",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 6 : 98,
  isBackground: !0
});
X.surfaceDim = pe.fromPalette({
  name: "surface_dim",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 6 : 87,
  isBackground: !0
});
X.surfaceBright = pe.fromPalette({
  name: "surface_bright",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 24 : 98,
  isBackground: !0
});
X.surfaceContainerLowest = pe.fromPalette({
  name: "surface_container_lowest",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 4 : 100,
  isBackground: !0
});
X.surfaceContainerLow = pe.fromPalette({
  name: "surface_container_low",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 10 : 96,
  isBackground: !0
});
X.surfaceContainer = pe.fromPalette({
  name: "surface_container",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 12 : 94,
  isBackground: !0
});
X.surfaceContainerHigh = pe.fromPalette({
  name: "surface_container_high",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 17 : 92,
  isBackground: !0
});
X.surfaceContainerHighest = pe.fromPalette({
  name: "surface_container_highest",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 22 : 90,
  isBackground: !0
});
X.onSurface = pe.fromPalette({
  name: "on_surface",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 90 : 10,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.surfaceVariant = pe.fromPalette({
  name: "surface_variant",
  palette: (e) => e.neutralVariantPalette,
  tone: (e) => e.isDark ? 30 : 90,
  isBackground: !0
});
X.onSurfaceVariant = pe.fromPalette({
  name: "on_surface_variant",
  palette: (e) => e.neutralVariantPalette,
  tone: (e) => e.isDark ? 80 : 30,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(3, 4.5, 7, 11)
});
X.inverseSurface = pe.fromPalette({
  name: "inverse_surface",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 90 : 20
});
X.inverseOnSurface = pe.fromPalette({
  name: "inverse_on_surface",
  palette: (e) => e.neutralPalette,
  tone: (e) => e.isDark ? 20 : 95,
  background: (e) => X.inverseSurface,
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.outline = pe.fromPalette({
  name: "outline",
  palette: (e) => e.neutralVariantPalette,
  tone: (e) => e.isDark ? 60 : 50,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(1.5, 3, 4.5, 7)
});
X.outlineVariant = pe.fromPalette({
  name: "outline_variant",
  palette: (e) => e.neutralVariantPalette,
  tone: (e) => e.isDark ? 30 : 80,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(1, 1, 3, 7)
});
X.shadow = pe.fromPalette({
  name: "shadow",
  palette: (e) => e.neutralPalette,
  tone: (e) => 0
});
X.scrim = pe.fromPalette({
  name: "scrim",
  palette: (e) => e.neutralPalette,
  tone: (e) => 0
});
X.surfaceTint = pe.fromPalette({
  name: "surface_tint",
  palette: (e) => e.primaryPalette,
  tone: (e) => e.isDark ? 80 : 40,
  isBackground: !0
});
X.primary = pe.fromPalette({
  name: "primary",
  palette: (e) => e.primaryPalette,
  tone: (e) => zt(e) ? e.isDark ? 100 : 0 : e.isDark ? 80 : 40,
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(3, 4.5, 7, 11),
  toneDeltaPair: (e) => new Or(X.primaryContainer, X.primary, 15, "nearer", !1)
});
X.onPrimary = pe.fromPalette({
  name: "on_primary",
  palette: (e) => e.primaryPalette,
  tone: (e) => zt(e) ? e.isDark ? 10 : 90 : e.isDark ? 20 : 100,
  background: (e) => X.primary,
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.primaryContainer = pe.fromPalette({
  name: "primary_container",
  palette: (e) => e.primaryPalette,
  tone: (e) => Pa(e) ? eh(e.sourceColorHct, e) : zt(e) ? e.isDark ? 85 : 25 : e.isDark ? 30 : 90,
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(1, 1, 3, 7),
  toneDeltaPair: (e) => new Or(X.primaryContainer, X.primary, 15, "nearer", !1)
});
X.onPrimaryContainer = pe.fromPalette({
  name: "on_primary_container",
  palette: (e) => e.primaryPalette,
  tone: (e) => Pa(e) ? pe.foregroundTone(X.primaryContainer.tone(e), 4.5) : zt(e) ? e.isDark ? 0 : 100 : e.isDark ? 90 : 10,
  background: (e) => X.primaryContainer,
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.inversePrimary = pe.fromPalette({
  name: "inverse_primary",
  palette: (e) => e.primaryPalette,
  tone: (e) => e.isDark ? 40 : 80,
  background: (e) => X.inverseSurface,
  contrastCurve: new He(3, 4.5, 7, 11)
});
X.secondary = pe.fromPalette({
  name: "secondary",
  palette: (e) => e.secondaryPalette,
  tone: (e) => e.isDark ? 80 : 40,
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(3, 4.5, 7, 11),
  toneDeltaPair: (e) => new Or(X.secondaryContainer, X.secondary, 15, "nearer", !1)
});
X.onSecondary = pe.fromPalette({
  name: "on_secondary",
  palette: (e) => e.secondaryPalette,
  tone: (e) => zt(e) ? e.isDark ? 10 : 100 : e.isDark ? 20 : 100,
  background: (e) => X.secondary,
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.secondaryContainer = pe.fromPalette({
  name: "secondary_container",
  palette: (e) => e.secondaryPalette,
  tone: (e) => {
    const t = e.isDark ? 30 : 90;
    if (zt(e))
      return e.isDark ? 30 : 85;
    if (!Pa(e))
      return t;
    let r = Gg(e.secondaryPalette.hue, e.secondaryPalette.chroma, t, !e.isDark);
    return r = eh(e.secondaryPalette.getHct(r), e), r;
  },
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(1, 1, 3, 7),
  toneDeltaPair: (e) => new Or(X.secondaryContainer, X.secondary, 15, "nearer", !1)
});
X.onSecondaryContainer = pe.fromPalette({
  name: "on_secondary_container",
  palette: (e) => e.secondaryPalette,
  tone: (e) => Pa(e) ? pe.foregroundTone(X.secondaryContainer.tone(e), 4.5) : e.isDark ? 90 : 10,
  background: (e) => X.secondaryContainer,
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.tertiary = pe.fromPalette({
  name: "tertiary",
  palette: (e) => e.tertiaryPalette,
  tone: (e) => zt(e) ? e.isDark ? 90 : 25 : e.isDark ? 80 : 40,
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(3, 4.5, 7, 11),
  toneDeltaPair: (e) => new Or(X.tertiaryContainer, X.tertiary, 15, "nearer", !1)
});
X.onTertiary = pe.fromPalette({
  name: "on_tertiary",
  palette: (e) => e.tertiaryPalette,
  tone: (e) => zt(e) ? e.isDark ? 10 : 90 : e.isDark ? 20 : 100,
  background: (e) => X.tertiary,
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.tertiaryContainer = pe.fromPalette({
  name: "tertiary_container",
  palette: (e) => e.tertiaryPalette,
  tone: (e) => {
    if (zt(e))
      return e.isDark ? 60 : 49;
    if (!Pa(e))
      return e.isDark ? 30 : 90;
    const t = eh(e.tertiaryPalette.getHct(e.sourceColorHct.tone), e), r = e.tertiaryPalette.getHct(t);
    return Ju.fixIfDisliked(r).tone;
  },
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(1, 1, 3, 7),
  toneDeltaPair: (e) => new Or(X.tertiaryContainer, X.tertiary, 15, "nearer", !1)
});
X.onTertiaryContainer = pe.fromPalette({
  name: "on_tertiary_container",
  palette: (e) => e.tertiaryPalette,
  tone: (e) => zt(e) ? e.isDark ? 0 : 100 : Pa(e) ? pe.foregroundTone(X.tertiaryContainer.tone(e), 4.5) : e.isDark ? 90 : 10,
  background: (e) => X.tertiaryContainer,
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.error = pe.fromPalette({
  name: "error",
  palette: (e) => e.errorPalette,
  tone: (e) => e.isDark ? 80 : 40,
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(3, 4.5, 7, 11),
  toneDeltaPair: (e) => new Or(X.errorContainer, X.error, 15, "nearer", !1)
});
X.onError = pe.fromPalette({
  name: "on_error",
  palette: (e) => e.errorPalette,
  tone: (e) => e.isDark ? 20 : 100,
  background: (e) => X.error,
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.errorContainer = pe.fromPalette({
  name: "error_container",
  palette: (e) => e.errorPalette,
  tone: (e) => e.isDark ? 30 : 90,
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(1, 1, 3, 7),
  toneDeltaPair: (e) => new Or(X.errorContainer, X.error, 15, "nearer", !1)
});
X.onErrorContainer = pe.fromPalette({
  name: "on_error_container",
  palette: (e) => e.errorPalette,
  tone: (e) => e.isDark ? 90 : 10,
  background: (e) => X.errorContainer,
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.primaryFixed = pe.fromPalette({
  name: "primary_fixed",
  palette: (e) => e.primaryPalette,
  tone: (e) => zt(e) ? 40 : 90,
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(1, 1, 3, 7),
  toneDeltaPair: (e) => new Or(X.primaryFixed, X.primaryFixedDim, 10, "lighter", !0)
});
X.primaryFixedDim = pe.fromPalette({
  name: "primary_fixed_dim",
  palette: (e) => e.primaryPalette,
  tone: (e) => zt(e) ? 30 : 80,
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(1, 1, 3, 7),
  toneDeltaPair: (e) => new Or(X.primaryFixed, X.primaryFixedDim, 10, "lighter", !0)
});
X.onPrimaryFixed = pe.fromPalette({
  name: "on_primary_fixed",
  palette: (e) => e.primaryPalette,
  tone: (e) => zt(e) ? 100 : 10,
  background: (e) => X.primaryFixedDim,
  secondBackground: (e) => X.primaryFixed,
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.onPrimaryFixedVariant = pe.fromPalette({
  name: "on_primary_fixed_variant",
  palette: (e) => e.primaryPalette,
  tone: (e) => zt(e) ? 90 : 30,
  background: (e) => X.primaryFixedDim,
  secondBackground: (e) => X.primaryFixed,
  contrastCurve: new He(3, 4.5, 7, 11)
});
X.secondaryFixed = pe.fromPalette({
  name: "secondary_fixed",
  palette: (e) => e.secondaryPalette,
  tone: (e) => zt(e) ? 80 : 90,
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(1, 1, 3, 7),
  toneDeltaPair: (e) => new Or(X.secondaryFixed, X.secondaryFixedDim, 10, "lighter", !0)
});
X.secondaryFixedDim = pe.fromPalette({
  name: "secondary_fixed_dim",
  palette: (e) => e.secondaryPalette,
  tone: (e) => zt(e) ? 70 : 80,
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(1, 1, 3, 7),
  toneDeltaPair: (e) => new Or(X.secondaryFixed, X.secondaryFixedDim, 10, "lighter", !0)
});
X.onSecondaryFixed = pe.fromPalette({
  name: "on_secondary_fixed",
  palette: (e) => e.secondaryPalette,
  tone: (e) => 10,
  background: (e) => X.secondaryFixedDim,
  secondBackground: (e) => X.secondaryFixed,
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.onSecondaryFixedVariant = pe.fromPalette({
  name: "on_secondary_fixed_variant",
  palette: (e) => e.secondaryPalette,
  tone: (e) => zt(e) ? 25 : 30,
  background: (e) => X.secondaryFixedDim,
  secondBackground: (e) => X.secondaryFixed,
  contrastCurve: new He(3, 4.5, 7, 11)
});
X.tertiaryFixed = pe.fromPalette({
  name: "tertiary_fixed",
  palette: (e) => e.tertiaryPalette,
  tone: (e) => zt(e) ? 40 : 90,
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(1, 1, 3, 7),
  toneDeltaPair: (e) => new Or(X.tertiaryFixed, X.tertiaryFixedDim, 10, "lighter", !0)
});
X.tertiaryFixedDim = pe.fromPalette({
  name: "tertiary_fixed_dim",
  palette: (e) => e.tertiaryPalette,
  tone: (e) => zt(e) ? 30 : 80,
  isBackground: !0,
  background: (e) => X.highestSurface(e),
  contrastCurve: new He(1, 1, 3, 7),
  toneDeltaPair: (e) => new Or(X.tertiaryFixed, X.tertiaryFixedDim, 10, "lighter", !0)
});
X.onTertiaryFixed = pe.fromPalette({
  name: "on_tertiary_fixed",
  palette: (e) => e.tertiaryPalette,
  tone: (e) => zt(e) ? 100 : 10,
  background: (e) => X.tertiaryFixedDim,
  secondBackground: (e) => X.tertiaryFixed,
  contrastCurve: new He(4.5, 7, 11, 21)
});
X.onTertiaryFixedVariant = pe.fromPalette({
  name: "on_tertiary_fixed_variant",
  palette: (e) => e.tertiaryPalette,
  tone: (e) => zt(e) ? 90 : 30,
  background: (e) => X.tertiaryFixedDim,
  secondBackground: (e) => X.tertiaryFixed,
  contrastCurve: new He(3, 4.5, 7, 11)
});
class Je {
  /**
   * @param argb ARGB representation of a color
   * @return Tones matching that color's hue and chroma.
   */
  static fromInt(t) {
    const r = Gt.fromInt(t);
    return Je.fromHct(r);
  }
  /**
   * @param hct Hct
   * @return Tones matching that color's hue and chroma.
   */
  static fromHct(t) {
    return new Je(t.hue, t.chroma, t);
  }
  /**
   * @param hue HCT hue
   * @param chroma HCT chroma
   * @return Tones matching hue and chroma.
   */
  static fromHueAndChroma(t, r) {
    return new Je(t, r, Je.createKeyColor(t, r));
  }
  constructor(t, r, i) {
    this.hue = t, this.chroma = r, this.keyColor = i, this.cache = /* @__PURE__ */ new Map();
  }
  static createKeyColor(t, r) {
    let n = Gt.from(t, r, 50), o = Math.abs(n.chroma - r);
    for (let a = 1; a < 50; a += 1) {
      if (Math.round(r) === Math.round(n.chroma))
        return n;
      const s = Gt.from(t, r, 50 + a), c = Math.abs(s.chroma - r);
      c < o && (o = c, n = s);
      const l = Gt.from(t, r, 50 - a), d = Math.abs(l.chroma - r);
      d < o && (o = d, n = l);
    }
    return n;
  }
  /**
   * @param tone HCT tone, measured from 0 to 100.
   * @return ARGB representation of a color with that tone.
   */
  tone(t) {
    let r = this.cache.get(t);
    return r === void 0 && (r = Gt.from(this.hue, this.chroma, t).toInt(), this.cache.set(t, r)), r;
  }
  /**
   * @param tone HCT tone.
   * @return HCT representation of a color with that tone.
   */
  getHct(t) {
    return Gt.fromInt(this.tone(t));
  }
}
function ky(e) {
  const t = Rw(e), r = Dw(e), i = Fw(e), n = [t.toString(16), r.toString(16), i.toString(16)];
  for (const [o, a] of n.entries())
    a.length === 1 && (n[o] = "0" + a);
  return "#" + n.join("");
}
function Jg(e) {
  e = e.replace("#", "");
  const t = e.length === 3, r = e.length === 6, i = e.length === 8;
  if (!t && !r && !i)
    throw new Error("unexpected hex " + e);
  let n = 0, o = 0, a = 0;
  return t ? (n = Bi(e.slice(0, 1).repeat(2)), o = Bi(e.slice(1, 2).repeat(2)), a = Bi(e.slice(2, 3).repeat(2))) : r ? (n = Bi(e.slice(0, 2)), o = Bi(e.slice(2, 4)), a = Bi(e.slice(4, 6))) : i && (n = Bi(e.slice(2, 4)), o = Bi(e.slice(4, 6)), a = Bi(e.slice(6, 8))), (255 << 24 | (n & 255) << 16 | (o & 255) << 8 | a & 255) >>> 0;
}
function Bi(e) {
  return parseInt(e, 16);
}
function eb(e, t = !1) {
  var s;
  const r = (s = e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/)) == null ? void 0 : s.slice(1).map((c, l) => l === 3 ? Math.round(parseFloat(c) * 255) : parseFloat(c));
  if (!r)
    throw new Error("Could not parse rgba color.");
  const [i, n, o, a] = r;
  return ((t ? 255 : a & 255) << 24 | (i & 255) << 16 | (n & 255) << 8 | o & 255) >>> 0;
}
function tb(e) {
  const t = document.createElement("wy-compute-styles");
  t.setAttribute("style", `color: ${e} !important;`), document.documentElement.append(t);
  const r = window.getComputedStyle(t).color;
  return t.remove(), r;
}
function Ed(e) {
  return getComputedStyle(e).getPropertyValue("--wy-theme-color") || void 0;
}
function rb(e, t) {
  let r = Ed(e);
  const i = new MutationObserver(() => {
    const a = Ed(e);
    a !== r && (console.log("--wy-theme-color changed", a), r = a, t(a));
  }), n = {
    attributes: !0,
    attributeFilter: ["class", "style"]
  };
  let o = e;
  for (; o && o !== document; )
    i.observe(o, n), o = o.parentNode;
  return () => i.disconnect();
}
function Sd() {
  var r;
  return ((r = Array.from(document.head.querySelectorAll("meta[name='theme-color']")).filter((i) => {
    var o;
    const n = i.getAttribute("media");
    return !n || ((o = window.matchMedia(n)) == null ? void 0 : o.matches);
  }).pop()) == null ? void 0 : r.getAttribute("content")) || void 0;
}
function ib(e) {
  const t = Array.from(document.head.querySelectorAll("meta[name='theme-color']"));
  if (!t)
    return () => {
    };
  let r = Sd();
  const i = () => {
    const s = Sd();
    s !== r && (console.log("meta theme-color changed", s), r = s, e(s));
  }, n = new MutationObserver(i), o = {
    attributes: !0,
    attributeFilter: ["content"]
  }, a = [];
  return t.forEach((s) => {
    n.observe(s, o);
    const c = s.getAttribute("media");
    if (c) {
      const l = window.matchMedia(c);
      l.addEventListener("change", i), a.push(l);
    }
  }), () => {
    n.disconnect(), a.forEach((s) => s.removeEventListener("change", i));
  };
}
const Na = [], nb = 16;
function ob(e, t = !1) {
  var k;
  if (Na.some((g) => g.seedColor === e)) {
    const g = (k = Na.find((S) => S.seedColor === e)) == null ? void 0 : k.colors;
    if (g)
      return g;
  }
  const r = [];
  t && r.push(`--wy-theme-color:${e};`);
  let i = e;
  !e.startsWith("#") && !e.startsWith("rgb") && (i = tb(e), console.log("computed color", e));
  const n = e.startsWith("#") ? Jg(i) : eb(i), o = Gt.fromInt(n), a = o.hue, s = o.chroma, c = Math.max(48, s), l = Math.min(c, 84), h = 360 / 16, y = 27.4, w = -8, b = (a + 360 - y - w + h / 2) % h + y + w - h / 2, C = {
    primary: Je.fromHueAndChroma(a, c),
    secondary: Je.fromHueAndChroma(a, c / 3),
    tertiary: Je.fromHueAndChroma(a + 60, c / 2),
    neutral: Je.fromHueAndChroma(a, Math.min(s / 12, 4)),
    "neutral-variant": Je.fromHueAndChroma(a, Math.min(s / 6, 8)),
    error: Je.fromHueAndChroma(b, 84),
    warning: Je.fromHueAndChroma(b + 4 * h, l),
    // Same as yellow
    red: Je.fromHueAndChroma(b, l),
    "deep-orange": Je.fromHueAndChroma(b + 1 * h, l),
    orange: Je.fromHueAndChroma(b + 2 * h, l),
    amber: Je.fromHueAndChroma(b + 3 * h, l),
    yellow: Je.fromHueAndChroma(b + 4 * h, l),
    lime: Je.fromHueAndChroma(b + 5 * h, l),
    "light-green": Je.fromHueAndChroma(b + 6 * h, l),
    green: Je.fromHueAndChroma(b + 7 * h, l),
    teal: Je.fromHueAndChroma(b + 8 * h, l),
    cyan: Je.fromHueAndChroma(b + 9 * h, l),
    "light-blue": Je.fromHueAndChroma(b + 10 * h, l),
    blue: Je.fromHueAndChroma(b + 11 * h, l),
    indigo: Je.fromHueAndChroma(b + 12 * h, l),
    "deep-purple": Je.fromHueAndChroma(b + 13 * h, l),
    purple: Je.fromHueAndChroma(b + 14 * h, l),
    pink: Je.fromHueAndChroma(b + 15 * h, l),
    gray: Je.fromHueAndChroma(a, 4)
  }, E = {
    //"100": 100,
    99: 99,
    95: 95,
    90: 90,
    80: 80,
    70: 70,
    60: 60,
    50: 50,
    40: 40,
    30: 30,
    20: 20,
    10: 10
    //"0": 0
  }, A = {
    primary: E,
    secondary: E,
    tertiary: E,
    neutral: E,
    "neutral-variant": E,
    error: E,
    warning: E,
    blue: { light: 70, dark: 80 },
    indigo: { light: 60, dark: 60 },
    purple: { light: 60, dark: 70 },
    pink: { light: 60, dark: 70 },
    red: { light: 60, dark: 60 },
    orange: { light: 70, dark: 70 },
    yellow: { light: 70, dark: 80 },
    green: { light: 60, dark: 60 },
    teal: { light: 60, dark: 60 },
    cyan: { light: 50, dark: 60 },
    gray: { light: 50, dark: 60 }
  };
  for (const g in A) {
    const S = A[g];
    for (const L in S) {
      const R = ky(C[g].tone(S[L]));
      r.push(`--wy-${g}-${L}:${R};`);
    }
  }
  const _ = {
    light: C.primary.tone(40),
    dark: C.primary.tone(80)
  }, x = {
    light: C.neutral.tone(99),
    dark: C.neutral.tone(10)
  }, T = {
    "surface-1": {
      light: jr.cam16Ucs(x.light, _.light, 0.05),
      dark: jr.cam16Ucs(x.dark, _.dark, 0.05)
    },
    "surface-2": {
      light: jr.cam16Ucs(x.light, _.light, 0.08),
      dark: jr.cam16Ucs(x.dark, _.dark, 0.08)
    },
    "surface-3": {
      light: jr.cam16Ucs(x.light, _.light, 0.11),
      dark: jr.cam16Ucs(x.dark, _.dark, 0.11)
    },
    "surface-4": {
      light: jr.cam16Ucs(x.light, _.light, 0.12),
      dark: jr.cam16Ucs(x.dark, _.dark, 0.12)
    },
    "surface-5": {
      light: jr.cam16Ucs(x.light, _.light, 0.14),
      dark: jr.cam16Ucs(x.dark, _.dark, 0.14)
    }
  };
  for (const g in T) {
    const S = T[g];
    for (const L in S) {
      const R = ky(S[L]);
      r.push(`--wy-${g}-${L}:${R};`);
    }
  }
  return Na.unshift({ seedColor: e, colors: r }), Na.length = Math.min(Na.length, nb), r;
}
const ab = (e) => {
  if (hl)
    document.adoptedStyleSheets = e.map(
      (t) => t instanceof CSSStyleSheet ? t : t.styleSheet
    );
  else
    for (const t of e) {
      const r = document.createElement("style"), i = global.litNonce;
      i !== void 0 && r.setAttribute("nonce", i), r.textContent = t.cssText, (document.head || document.documentElement).appendChild(r);
    }
}, sb = (e) => class extends e {
  constructor(r) {
    super(r), ab([Po]);
  }
};
var cb = Object.defineProperty, lb = Object.getOwnPropertyDescriptor, db = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? lb(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && cb(t, r, n), n;
}, Vw = (e, t, r) => {
  if (!t.has(e))
    throw TypeError("Cannot " + r);
}, qn = (e, t, r) => (Vw(e, t, "read from private field"), r ? r.call(e) : t.get(e)), Ba = (e, t, r) => {
  if (t.has(e))
    throw TypeError("Cannot add the same private member more than once");
  t instanceof WeakSet ? t.add(e) : t.set(e, r);
}, Ha = (e, t, r, i) => (Vw(e, t, "write to private field"), i ? i.call(e, r) : t.set(e, r), r), Pc, Ac, Pd, Qn, Lc;
let Sn = class {
  // CONSTRUCTOR
  constructor(e) {
    this.weavySid = Xl(), this.weavyId = `${ft.sourceName}#${this.weavySid}`, this.host = document.documentElement, Ba(this, Pc, void 0), this.cloudFilePickerUrl = ft.defaults.cloudFilePickerUrl, this.confluenceAuthenticationUrl = ft.defaults.confluenceAuthenticationUrl, this.confluenceProductName = ft.defaults.confluenceProductName, this.disableEnvironmentImports = ft.defaults.disableEnvironmentImports, this.gcTime = ft.defaults.gcTime, this.modalParent = ft.defaults.modalParent, this.reactions = ft.defaults.reactions, this.scrollBehavior = ft.defaults.scrollBehavior, this.staleTime = ft.defaults.staleTime, this.tokenFactoryRetryDelay = ft.defaults.tokenFactoryRetryDelay, this.tokenFactoryTimeout = ft.defaults.tokenFactoryTimeout, this.zoomAuthenticationUrl = ft.defaults.zoomAuthenticationUrl, Ba(this, Ac, void 0), Ba(this, Pd, new Promise((r) => {
      Ha(this, Ac, r);
    })), Ba(this, Qn, void 0), Ba(this, Lc, !1), console.info(`${Sn.sourceName}@${Sn.version} #${this.weavySid}`);
    const t = {};
    for (const r in e) {
      const i = r;
      e[i] !== void 0 && Object.assign(t, { [i]: e[i] });
    }
    t != null && t.host && (this.host = t.host, delete t.host), t && Object.assign(this, t), this.host !== document.documentElement ? (Rh.detachListeners(), Ha(this, Pc, new wu(this.host, {
      context: Te,
      initialValue: this
    }))) : Rh.setValue(this);
  }
  async whenUrl() {
    await qn(this, Pd);
  }
  /**
   * The URL to the weavy environment.
   */
  get url() {
    return qn(this, Qn);
  }
  set url(e) {
    var t;
    if (this.isDestroyed)
      throw new Nt();
    try {
      if (typeof e == "string")
        Ha(this, Qn, Co(e));
      else if (e instanceof URL)
        Ha(this, Qn, e);
      else
        throw -1;
    } catch {
      throw new Error("Invalid url");
    }
    !this.disableEnvironmentImports && globalThis.WEAVY_IMPORT_URL === void 0 && (globalThis.WEAVY_IMPORT_URL = new URL(
      "./uikit-web/",
      e
    ).href), qn(this, Qn) && ((t = qn(this, Ac)) == null || t.call(this, qn(this, Qn)));
  }
  get isDestroyed() {
    return qn(this, Lc);
  }
  destroy() {
    var e;
    Ha(this, Lc, !0), (e = qn(this, Pc)) == null || e.detachListeners(), console.info(this.weavyId, "was destroyed");
  }
};
Pc = /* @__PURE__ */ new WeakMap();
Ac = /* @__PURE__ */ new WeakMap();
Pd = /* @__PURE__ */ new WeakMap();
Qn = /* @__PURE__ */ new WeakMap();
Lc = /* @__PURE__ */ new WeakMap();
Sn.version = "22.1.0";
Sn.sourceName = "@weavy/uikit-web";
Sn.defaults = {
  cloudFilePickerUrl: "https://filebrowser.weavy.io/v14/",
  confluenceAuthenticationUrl: void 0,
  confluenceProductName: void 0,
  disableEnvironmentImports: !1,
  gcTime: 1e3 * 60 * 60 * 24,
  // 24h,
  locale: Sp,
  modalParent: "body",
  reactions: ["😍", "😎", "😉", "😜", "👍"],
  scrollBehavior: Lm ? "instant" : "smooth",
  staleTime: 1e3 * 1,
  // 1s
  tokenFactoryRetryDelay: 2e3,
  tokenFactoryTimeout: 2e4,
  zoomAuthenticationUrl: void 0
};
Sn = db([
  Mm,
  Om,
  Im,
  Tm,
  pv,
  wv,
  Fg,
  zg,
  sb
], Sn);
class ft extends Sn {
}
const GC = ft;
function ub(e) {
  return typeof e == "string" && (e = eval == null ? void 0 : (0, eval)(`"use strict";(${e})`)), e;
}
var hb = Object.defineProperty, yb = Object.getOwnPropertyDescriptor, jt = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? yb(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && hb(t, r, n), n;
};
let Ot = class extends we {
  constructor() {
    super(), this.provider = !1, this.version = ft.version, this.sourceName = ft.sourceName, this.childElementCount && (this.provider = !0), this.weavyContext ?? (this.weavyContext = new ft({ host: this.provider ? this : void 0 }));
  }
  willUpdate(e) {
    if (this.weavyContext) {
      const t = {};
      Array.from(e.keys()).forEach((r) => {
        r !== "weavyContext" && this[r] && Object.assign(t, { [r]: this[r] });
      }), Object.assign(this.weavyContext, t);
    }
  }
  render() {
    return v` <slot></slot> `;
  }
};
Ot.styles = [
  We`
      :host {
        display: contents;
      }
    `
];
jt([
  m({ attribute: !0, type: Boolean })
], Ot.prototype, "provider", 2);
jt([
  m({
    attribute: !0,
    converter: {
      fromAttribute: (e) => Co(e)
    }
  })
], Ot.prototype, "cloudFilePickerUrl", 2);
jt([
  m({
    attribute: !0,
    converter: {
      fromAttribute: (e) => Co(e)
    }
  })
], Ot.prototype, "confluenceAuthenticationUrl", 2);
jt([
  m({ attribute: !0 })
], Ot.prototype, "confluenceProductName", 2);
jt([
  m({ type: Boolean })
], Ot.prototype, "disableEnvironmentImports", 2);
jt([
  m({ attribute: !0 })
], Ot.prototype, "locale", 2);
jt([
  m({ attribute: !0, type: Array })
], Ot.prototype, "locales", 2);
jt([
  m({ attribute: !0, type: Number })
], Ot.prototype, "gcTime", 2);
jt([
  m({ attribute: !0 })
], Ot.prototype, "modalParent", 2);
jt([
  m({ attribute: !0, type: Array })
], Ot.prototype, "reactions", 2);
jt([
  m({ attribute: !0 })
], Ot.prototype, "scrollBehavior", 2);
jt([
  m({ attribute: !0, type: Number })
], Ot.prototype, "staleTime", 2);
jt([
  m({
    attribute: !0,
    converter: {
      fromAttribute: (e) => ub(e)
    }
  })
], Ot.prototype, "tokenFactory", 2);
jt([
  m({ attribute: !0, type: Number })
], Ot.prototype, "tokenFactoryRetryDelay", 2);
jt([
  m({ attribute: !0, type: Number })
], Ot.prototype, "tokenFactoryTimeout", 2);
jt([
  m({
    attribute: !0,
    converter: {
      fromAttribute: (e) => Co(e)
    }
  })
], Ot.prototype, "tokenUrl", 2);
jt([
  m({
    attribute: !0,
    converter: {
      fromAttribute: (e) => Co(e)
    }
  })
], Ot.prototype, "url", 2);
jt([
  m({
    attribute: !0,
    converter: {
      fromAttribute: (e) => Co(e)
    }
  })
], Ot.prototype, "zoomAuthenticationUrl", 2);
jt([
  te()
], Ot.prototype, "weavyContext", 2);
Ot = jt([
  fe("wy-context")
], Ot);
class nc {
  constructor(t, r) {
    this.firstUpdate = !0, this.styles = [], t.addController(this), this.host = t, r && (this.styles = r);
  }
  checkThemeUpdate() {
    const t = this.themeColor || Ed(this.host) || Sd();
    if (t && t !== this._resolvedThemeColor) {
      this._resolvedThemeColor = t, console.log("Configuring theme", this._resolvedThemeColor);
      const r = ob(this._resolvedThemeColor).join(""), i = We`
        :host {
          ${Qs(r)};
        }
      `, n = this.host.renderRoot;
      pp(n, [...this.styles, i]);
    }
  }
  hostUpdate() {
    this.firstUpdate && (this.checkThemeUpdate(), this.firstUpdate = !1);
  }
  hostConnected() {
    this.cssObserverDisconnect = rb(this.host, () => this.checkThemeUpdate()), this.metaObserverDisconnect = ib(() => this.checkThemeUpdate());
  }
  hostDisconnected() {
    var t, r;
    (t = this.cssObserverDisconnect) == null || t.call(this), (r = this.metaObserverDisconnect) == null || r.call(this);
  }
}
class lt {
  get result() {
    return this._result && this.observer ? this.observer.trackResult(this._result) : void 0;
  }
  constructor(t) {
    t.addController(this), this.host = t, this.setContext();
  }
  async setContext() {
    this.whenContext = new Promise((t) => this.resolveContext = t), await Ti(this.host), this.context = new Yr(this.host, { context: Te, subscribe: !0 });
  }
  hostUpdate() {
    var t, r;
    (t = this.context) != null && t.value && ((r = this.resolveContext) == null || r.call(this));
  }
  async trackQuery(t, r) {
    var n, o, a;
    if (r || (await this.whenContext, r = (o = (n = this.context) == null ? void 0 : n.value) == null ? void 0 : o.queryClient), !r)
      throw new Error("No QueryClient provided");
    (a = this.observerUnsubscribe) == null || a.call(this);
    const i = new Dp(r, t);
    this.observer = i, this.observerSubscribe();
  }
  observerSubscribe() {
    this.observer && (this._result = this.observer.getOptimisticResult(this.observer.options), this.observerUnsubscribe = this.observer.subscribe(() => {
      if (this.observer) {
        const t = Zs(this.result, this.observer.getCurrentResult());
        t !== this._result && (this._result = t, this.host.requestUpdate());
      }
    }), this.observer.updateResult(), this.host.requestUpdate());
  }
  untrackQuery() {
    var t;
    (t = this.observerUnsubscribe) == null || t.call(this), this.observerUnsubscribe = void 0, this._result = void 0, this.observer = void 0, this.host.requestUpdate();
  }
  hostConnected() {
    this.observerSubscribe();
  }
  hostDisconnected() {
    var t;
    (t = this.observerUnsubscribe) == null || t.call(this);
  }
}
var ui = /* @__PURE__ */ ((e) => (e.None = "none", e.Read = "read", e.Write = "write", e.Admin = "admin", e))(ui || {}), Ka = /* @__PURE__ */ ((e) => (e.List = "list", e.Read = "read", e.Create = "create", e.Update = "update", e.Delete = "delete", e.Admin = "admin", e))(Ka || {}), oc = /* @__PURE__ */ ((e) => (e.Chat = "chat", e.Comments = "comments", e.Files = "files", e.Posts = "posts", e))(oc || {}), Nw = /* @__PURE__ */ ((e) => (e.App = "app", e.File = "file", e.Message = "message", e.User = "user", e.Comment = "comment", e.Post = "post", e))(Nw || {});
function Bt(e, t, r, i, n, o = "GET") {
  return {
    // eslint-disable-next-line @tanstack/query/exhaustive-deps
    queryKey: t,
    queryFn: async () => {
      const a = await e.post(r || "/api/" + t.join("/"), o, n);
      if (a.ok)
        return await a.json();
      throw new Error(`Error calling ${r || "/api/" + t.join("/")}`);
    },
    ...i
  };
}
async function pb(e, t, r, i, n, o = "GET", a = !1) {
  const s = e.queryClient, c = Bt(e, t, r, i, n, o);
  return a ? await s.fetchQuery(c) : await s.ensureQueryData(c);
}
function xl(e, t, r) {
  return Bt(e, ["apps", t], void 0, void 0, JSON.stringify({ type: r }), "PUT");
}
function wb(e, t) {
  const r = e.queryClient, i = ["apps", t.uid];
  return {
    mutationFn: async ({ subscribe: o }) => {
      if (t.id >= 1) {
        const a = await e.post(
          `/api/apps/${t.id}/${o ? "subscribe" : "unsubscribe"}`,
          "POST",
          ""
        );
        if (!a.ok)
          throw await a.json();
        return a.json();
      } else
        throw new Error(`Could not subscribe to app ${t.uid}.`);
    },
    onMutate: async (o) => {
      let a;
      return r.setQueryData(i, (c) => (a = c.is_subscribed, { ...c, is_subscribed: o.subscribe })), {
        previousSubscribe: a,
        subscribe: o.subscribe
      };
    },
    onSuccess: (o) => {
      r.setQueryData(
        i,
        (a) => ({ ...a, ...o }),
        { updatedAt: Date.now() }
      ), r.invalidateQueries({ queryKey: i, exact: !0 });
    },
    onError(o, a, s) {
      s && s.previousSubscribe !== void 0 && r.setQueryData(i, (c) => ({ ...c, is_subscribed: s == null ? void 0 : s.previousSubscribe }));
    }
  };
}
function fb(e, t, r = {}, i) {
  if (e) {
    if (e = JSON.parse(JSON.stringify(e)), e != null && e.pages) {
      let n = -1;
      return {
        pages: [...e.pages.map((a, s) => {
          if (n >= 0)
            return a;
          const c = a.data || [], l = c.filter((d) => d.id !== t.id && (!i || d.id !== i));
          return r && r.by ? (n = l.findIndex((d) => {
            let h = d[r.by], y = t[r.by];
            if (r.by === "modified_at" && (h ?? (h = d.created_at), y ?? (y = t.created_at)), typeof h == "string" && typeof y == "string") {
              const w = h.localeCompare(y, void 0, {
                sensitivity: "base",
                numeric: !0
              });
              return r.descending ? w < 0 : w > 0;
            }
            return h && y && (r.descending ? h < y : h > y);
          }), n >= 0 ? (l.splice(n, 0, t), a.data = [...l], a.end && (a.end += 1 + l.length - c.length)) : e && s == e.pages.length - 1 && a.end === a.count ? (a.data = [...l, t], a.end && (a.end += 1 + l.length - c.length)) : a.data = [...l]) : s === 0 && (r.descending ? a.data = [t, ...l] : a.data = [...l, t], a.end && (a.end += 1 + l.length - c.length)), a;
        }) ?? []],
        pageParams: [...e.pageParams]
      };
    } else if (e != null && e.length) {
      let n = -1;
      const o = [
        ...e.filter(
          (a) => a.id !== t.id && (!i || a.id !== i)
        )
      ];
      return r && r.by ? (n = o.findIndex((a) => {
        let s = a[r.by], c = t[r.by];
        if (r.by === "modified_at" && (s ?? (s = a.created_at), c ?? (c = t.created_at)), typeof s == "string" && typeof c == "string") {
          const l = s.localeCompare(c, void 0, {
            sensitivity: "base",
            numeric: !0
          });
          return r.descending ? l < 0 : l > 0;
        }
        return s && c && (r.descending ? s < c : s > c);
      }), n >= 0 ? o.splice(n, 0, t) : o.push(t)) : r.descending ? o.unshift(t) : o.push(t), o;
    }
  }
  return e;
}
function Bw(e, t, r) {
  if (t !== void 0) {
    const i = t instanceof Function ? t : (n) => n.id === t;
    if (e)
      return e = JSON.parse(JSON.stringify(e)), e.pages ? {
        pages: e.pages.map((o) => (o.data && (o.data = [
          ...o.data.map((a) => (i(a) && (a = { ...a }, r(a)), a))
        ]), o)) ?? [],
        pageParams: e.pageParams
      } : e.length ? [
        ...e.map((n) => (i(n) && (n = { ...n }, r(n)), n))
      ] : e.data ? {
        data: [
          ...e.data.map((o) => (i(o) && (o = { ...o }, r(o)), o))
        ],
        count: e.count
      } : (r(e), e);
  }
  return e;
}
function Hw(e, t) {
  if (t !== void 0) {
    const r = t instanceof Function ? t : (i) => i.id === t;
    if (e) {
      if (e = JSON.parse(JSON.stringify(e)), e.pages)
        return {
          pages: e.pages.map((n) => (n.data && (n.data = [...n.data.filter((o) => !r(o))]), n)) ?? [],
          pageParams: e.pageParams
        };
      if (e.length)
        return [...e.filter((i) => !r(i))];
    }
  }
  return e;
}
const Gi = (e, t, r, i, n) => e.setQueryData(t, (o) => fb(o, r, n, i)), et = (e, t, r, i) => e.setQueryData(t, (n) => Bw(n, r, i)), Ke = (e, t, r, i) => {
  e.setQueriesData(t, (n) => Bw(n, r, i));
}, th = (e, t, r) => e.setQueryData(t, (i) => Hw(i, r)), mb = (e, t, r) => {
  e.setQueriesData(t, (i) => Hw(i, r));
};
function vb(e, t, r) {
  var n;
  const i = e.getQueryData(t);
  (n = i == null ? void 0 : i.pages) != null && n.length && i.pages.length > 1 && e.setQueryData(
    t,
    (o) => ({
      pages: o.pages.slice(0, 1),
      pageParams: o.pageParams.slice(0, 1)
    }),
    r
  );
}
function gb(e, t, r = {}) {
  return {
    ...r,
    initialPageParam: 0,
    // eslint-disable-next-line @tanstack/query/exhaustive-deps
    queryKey: ["messages", t],
    queryFn: async (n) => {
      var l;
      const o = n.pageParam, a = "/api/apps/" + t + "/messages?orderby=createdat+desc&skip=" + o + "&top=25", c = await (await e.get(a)).json();
      return c.data = ((l = c.data) == null ? void 0 : l.reverse()) || [], c;
    },
    getNextPageParam: (n, o) => {
      if ((n == null ? void 0 : n.end) < (n == null ? void 0 : n.count))
        return o.length * 25;
    },
    select: (n) => ({
      // reverse scroll
      pages: [...n.pages].reverse(),
      pageParams: [...n.pageParams].reverse()
    })
  };
}
function bb(e, t) {
  const r = e.queryClient;
  return {
    mutationFn: async (n) => {
      var a;
      return (await e.post(
        "/api/apps/" + n.app_id + "/messages",
        "POST",
        JSON.stringify({
          text: n.text,
          blobs: n.blobs,
          embed_id: n.embed_id || null,
          meeting_id: n.meeting_id,
          options: n.poll_options.filter((s) => s.text.trim() !== "").map((s) => ({ text: s.text })),
          metadata: {
            temp_id: (a = n.temp_id) == null ? void 0 : a.toString()
          }
        })
      )).json();
    },
    mutationKey: t,
    onMutate: async (n) => {
      if (await r.cancelQueries({ queryKey: ["messages", n.app_id] }), n.temp_id) {
        const o = {
          id: n.temp_id,
          app_id: -1,
          attachment_ids: [],
          is_trashed: !1,
          text: n.text,
          html: n.text,
          plain: n.text,
          temp: !0,
          created_by_id: n.user_id,
          created_by: { id: n.user_id, avatar_url: "", display_name: "", presence: void 0, name: "" },
          created_at: (/* @__PURE__ */ new Date()).toUTCString(),
          attachments: [],
          attachment_count: 0,
          reactions: []
        };
        Gi(r, ["messages", n.app_id], o);
      }
      return { temp_id: n.temp_id };
    },
    onSuccess: (n, o, a) => {
      Gi(r, ["messages", o.app_id], n, a.temp_id);
    }
  };
}
class Aa {
  get result() {
    return this._result && this.observer ? this.observer.trackResult(this._result) : void 0;
  }
  constructor(t) {
    t.addController(this), this.host = t, this.setContext();
  }
  async setContext() {
    this.whenContext = new Promise((t) => this.resolveContext = t), await Ti(this.host), this.context = new Yr(this.host, { context: Te, subscribe: !0 });
  }
  hostUpdate() {
    var t, r;
    (t = this.context) != null && t.value && ((r = this.resolveContext) == null || r.call(this));
  }
  async trackInfiniteQuery(t, r) {
    var n, o, a;
    if (r || (await this.whenContext, r = (o = (n = this.context) == null ? void 0 : n.value) == null ? void 0 : o.queryClient), !r)
      throw new Error("No QueryClient provided");
    (a = this.observerUnsubscribe) == null || a.call(this);
    const i = new Jm(r, t);
    this.observer = i, this.observerSubscribe();
  }
  observerSubscribe() {
    this.observer && (this._result = this.observer.getOptimisticResult(
      this.observer.options
    ), this.observerUnsubscribe = this.observer.subscribe(() => {
      if (this.observer) {
        const t = Zs(this.result, this.observer.getCurrentResult());
        t !== this._result && (this._result = t, this.host.requestUpdate());
      }
    }), this.observer.updateResult(), this.host.requestUpdate());
  }
  untrackInfiniteQuery() {
    var t;
    (t = this.observerUnsubscribe) == null || t.call(this), this.observerUnsubscribe = void 0, this._result = void 0, this.observer = void 0;
  }
  hostConnected() {
    this.observerSubscribe();
  }
  hostDisconnected() {
    var t;
    (t = this.observerUnsubscribe) == null || t.call(this);
  }
}
function xb(e) {
  for (; e; )
    if (e = e.nextElementSibling, e instanceof HTMLElement && /absolute|sticky|fixed/.test(getComputedStyle(e).position) === !1)
      return e;
  return null;
}
function _l(e, t = !1) {
  if (e) {
    let r = getComputedStyle(e);
    const i = r.position === "absolute", n = t ? /(auto|scroll|overlay|hidden)/ : /(auto|overlay|scroll)/;
    if (r.position === "fixed" && document.scrollingElement)
      return document.scrollingElement;
    for (let o = e; o = o.parentElement || o.parentNode || o.host; )
      if (o instanceof Element && (r = getComputedStyle(o), !(i && r.position === "static") && n.test(r.overflow + r.overflowY + r.overflowX)))
        return o;
  }
  return document.scrollingElement || e;
}
function _b(e) {
  if (e) {
    const t = _l(e);
    return t.clientHeight !== t.scrollHeight;
  }
  return !1;
}
function kb(e, t = 32) {
  if (e) {
    const r = _l(e);
    return Math.abs(r.scrollTop + r.clientHeight - r.scrollHeight) < t;
  }
  return !1;
}
async function Cb(e, t = !1) {
  if (e) {
    const r = _l(e);
    Math.abs(r.scrollTop + r.clientHeight - r.scrollHeight) > 1 && (t ? r.scrollTo({
      top: r.scrollHeight,
      left: 0,
      behavior: "smooth"
    }) : r.scrollTop = r.scrollHeight), await new Promise((i) => {
      let n = r.scrollTop;
      const o = () => {
        t && r.scrollTop === n && (r.scrollTop = r.scrollHeight), n = r.scrollTop, Math.abs(r.scrollTop + r.clientHeight - r.scrollHeight) > 1 ? requestAnimationFrame(o) : i(void 0);
      };
      requestAnimationFrame(o);
    });
  }
}
const $b = 0, Eb = "512px";
function Sb(e, t, r = !1) {
  let i = !1;
  const n = _l(e);
  n.style.overflowAnchor = "none";
  const o = n === document.documentElement ? document : n;
  t ?? (t = () => Promise.reject(new Error("No reverse scroller handler function defined")));
  const a = new IntersectionObserver(
    (s) => {
      s.forEach((c) => {
        if (c.isIntersecting && !i) {
          i = !0;
          let l, d, h;
          r && (l = xb(c.target) || c.target, d = n.scrollHeight, h = l.offsetTop);
          const y = () => {
            queueMicrotask(() => {
              if (d !== n.scrollHeight) {
                if (r && (l != null && l.isConnected)) {
                  const b = l.offsetTop - h;
                  n.scrollTop += b;
                }
                requestAnimationFrame(() => i = !1);
              } else
                queueMicrotask(() => {
                  if (d !== n.scrollHeight) {
                    if (r && (l != null && l.isConnected)) {
                      const b = l.offsetTop - h;
                      n.scrollTop += b;
                    }
                    requestAnimationFrame(() => i = !1);
                  } else
                    requestAnimationFrame(() => {
                      if (r && a.takeRecords().length && (l != null && l.isConnected)) {
                        const b = l.offsetTop - h;
                        n.scrollTop += b;
                      }
                      requestAnimationFrame(() => i = !1);
                    });
                });
            });
          }, w = t();
          w ? w.then(y) : y();
        }
      });
    },
    { root: o, threshold: $b, rootMargin: Eb }
  );
  return a.observe(e), a;
}
class La {
  constructor(t, r = !1) {
    this.reverse = !1, this.isObservePending = !1, t.addController(this), this.host = t, this.reverse = r;
  }
  observe(t, r) {
    t && r && !t.isLoading && !this.isObservePending && (this.isObservePending = !0, requestAnimationFrame(() => {
      var i;
      this.loadMoreRefElement = r, (i = this.scroller) == null || i.disconnect(), this.scroller = Sb(
        r,
        async () => {
          t.hasNextPage && !t.isFetching && (await t.fetchNextPage({ cancelRefetch: !1 }), this.reverse && await this.host.updateComplete);
        },
        this.reverse
      ), this.isObservePending = !1;
    }));
  }
  hostConnected() {
    var t;
    this.loadMoreRefElement && ((t = this.scroller) == null || t.observe(this.loadMoreRefElement));
  }
  hostDisconnected() {
    var t;
    (t = this.scroller) == null || t.disconnect();
  }
}
class Pb extends La {
  constructor(t) {
    super(t, !0);
  }
}
class qi {
  constructor(t) {
    t.addController(this), this.host = t, this.setContext();
  }
  async setContext() {
    this.whenContext = new Promise((t) => this.resolveContext = t), await Ti(this.host), this.context = new Yr(this.host, { context: Te, subscribe: !0 });
  }
  hostUpdate() {
    var t, r;
    (t = this.context) != null && t.value && ((r = this.resolveContext) == null || r.call(this));
  }
  async trackMutation(t, r) {
    var i, n, o;
    if (r || (await this.whenContext, r = (n = (i = this.context) == null ? void 0 : i.value) == null ? void 0 : n.queryClient), !r)
      throw new Error("No QueryClient provided");
    return (o = this.observerUnsubscribe) == null || o.call(this), this.observer = new rt(r, { ...t }), this.observerSubscribe(), this.observer;
  }
  observerSubscribe() {
    this.observer && (this.result = this.observer.getCurrentResult(), this.observerUnsubscribe ?? (this.observerUnsubscribe = this.observer.subscribe(() => {
      if (this.observer) {
        const t = Zs(this.result, this.observer.getCurrentResult());
        this.result !== t && (this.result = t, this.host.requestUpdate());
      }
    })), this.host.requestUpdate());
  }
  untrackMutation() {
    var t;
    (t = this.observerUnsubscribe) == null || t.call(this), this.observerUnsubscribe = void 0, this.result = void 0, this.observer = void 0, this.host.requestUpdate();
  }
  get mutate() {
    return this.observer.mutate;
  }
  hostConnected() {
    this.observerSubscribe();
  }
  hostDisconnected() {
    var t;
    (t = this.observerUnsubscribe) == null || t.call(this);
  }
}
const Ab = `@charset "UTF-8";:where(:host,:host>*,[class^=wy-],[class*=" wy-"]){box-sizing:border-box;text-align:initial;font-size:var(--wy-font-size-base, var(--wy-font-size, 1em))}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:before,:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:after{box-sizing:inherit}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where(a),:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where(a){text-decoration:var(--wy-link-decoration, none);color:var(--wy-link, var(--wy-primary-40, #006399))}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where(a):hover,:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where(a):hover{text-decoration:var(--wy-link-hover-decoration, unset)}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where(a):where(:not([href]):not([class])),:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where(a):where(:not([href]):not([class])):hover,:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where(a):where(:not([href]):not([class])),:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where(a):where(:not([href]):not([class])):hover{text-decoration:none}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where(p),:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where(p){margin-top:0;margin-bottom:calc(1 * var(--wy-rem, 1rem))}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where(label),:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where(label){cursor:inherit}:where(:host,:host>*,[class^=wy-],[class*=" wy-"])[hidden],:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *[hidden]{display:none!important}:where(:host,:host>*,[class^=wy-],[class*=" wy-"]):where([role=button]),:where(:host,:host>*,[class^=wy-],[class*=" wy-"]) *:where([role=button]){cursor:pointer}.wy-scroll-y{overflow-y:auto;touch-action:pan-y,pan-x;will-change:scroll-position,opacity;backface-visibility:hidden;max-height:100%;scroll-padding-top:var(--wy-scrollbar-adjust-top, 0);scroll-padding-bottom:var(--wy-scrollbar-adjust-bottom, 0)}.wy-scroll-y:not(body){-webkit-overflow-scrolling:touch}.wy-scroll-y:not(.wy-scroll-x){overflow-x:hidden;touch-action:pan-y}.wy-scroll-x{overflow-x:auto;touch-action:pan-y,pan-x;will-change:scroll-position,opacity;backface-visibility:hidden;max-width:100%}.wy-scroll-x:not(.wy-scroll-y){overflow-y:hidden;touch-action:pan-x}.wy-scrollbars.wy-scroll-y,.wy-scrollbars .wy-scroll-y{scrollbar-width:thin;scrollbar-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e)) transparent}@supports (overflow-y: overlay){.wy-scrollbars.wy-scroll-y,.wy-scrollbars .wy-scroll-y{overflow-y:overlay}}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar{height:.625rem;width:.625rem;background:transparent;z-index:999}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar-track,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar-track{background:transparent}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar-thumb,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar-thumb{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));border:.125rem solid transparent;border-radius:.5rem;background-clip:padding-box;opacity:75%}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar-thumb:hover,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar-thumb:hover{background-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));opacity:75%}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar-thumb:window-inactive,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar-thumb:window-inactive{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));opacity:50%}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar-button:vertical:start:single-button,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar-button:vertical:start:single-button{height:var(--wy-scrollbar-adjust-top, 0)}.wy-scrollbars.wy-scroll-y::-webkit-scrollbar-button:vertical:end:single-button,.wy-scrollbars .wy-scroll-y::-webkit-scrollbar-button:vertical:end:single-button{height:var(--wy-scrollbar-adjust-bottom, 0)}.wy-block-scroll{overflow:hidden!important}.wy-scrollbar-detection{position:fixed;top:0;left:0;width:8rem;height:8rem;overflow:scroll;z-index:-99999;pointer-events:none;visibility:hidden}.wy-appbars{backface-visibility:hidden;--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));background-color:var(--wy-component-background-color);box-shadow:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce)) 0 -1px 0 0 inset}@supports (position: sticky){.wy-appbars{position:sticky;top:0;z-index:1020}}@supports (backdrop-filter: blur(calc(.5 * var(--wy-rem, 1rem)))){.wy-appbars{-webkit-backdrop-filter:blur(calc(.5 * var(--wy-rem, 1rem)));backdrop-filter:blur(calc(.5 * var(--wy-rem, 1rem)))}.wy-appbars>.wy-appbar{-webkit-backdrop-filter:none;backdrop-filter:none}}.wy-appbars>.wy-appbar,.wy-appbars>.wy-toolbar{background-color:transparent;box-shadow:none}.wy-appbar{--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));display:grid;align-items:center;justify-content:space-between;justify-items:center;height:var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)));padding:calc(.25 * var(--wy-rem, 1rem));flex:0 0 var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)));grid-template-columns:minmax(calc(2.5 * var(--wy-rem, 1rem)),max-content) minmax(0,max-content) minmax(calc(2.5 * var(--wy-rem, 1rem)),max-content);column-gap:calc(.5 * var(--wy-rem, 1rem));line-height:var(--wy-line-height-base, );background-color:var(--wy-component-background-color);color:var(--wy-component-color);box-shadow:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce)) 0 -1px 0 0 inset}.wy-appbar .wy-badge{align-self:center}.wy-appbar .wy-button{max-height:calc(2.5 * var(--wy-rem, 1rem))}.wy-appbar-buttons,.wy-toolbar-buttons{display:flex;flex:0 0 auto;align-items:center}.wy-toolbar-buttons-last{margin-inline-start:auto}.wy-appbar-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%;display:block;color:inherit!important;-webkit-user-select:none;user-select:none}.wy-appbar-text a,.wy-appbar-text a:hover{color:inherit}.wy-appbar-text-trashed{text-decoration:line-through}.wy-toolbars-bottom{position:absolute;z-index:1030;bottom:calc(var(--wy-footerbar-height, calc(4 * var(--wy-rem, 1rem))) / 2);left:0;right:0;min-height:var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)));display:flex;flex-direction:column;justify-content:center;justify-items:center}.wy-toolbar{--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-start;justify-items:center;min-height:var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)));padding:calc(.25 * var(--wy-rem, 1rem));flex:1 0 var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)));column-gap:calc(.25 * var(--wy-rem, 1rem));line-height:var(--wy-line-height-base, );background-color:var(--wy-component-background-color);color:var(--wy-component-color);box-shadow:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce)) 0 -1px 0 0 inset}.wy-toolbar-center{margin:0 auto;border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))}.wy-toolbar-center .wy-input{text-align:center}.wy-toolbar-text{margin-left:calc(.25 * var(--wy-rem, 1rem))}.wy-footerbars{padding-bottom:var(--wy-footerbar-height, calc(4 * var(--wy-rem, 1rem)))}.wy-footerbars>.wy-toolbar{box-shadow:none}.wy-footerbar{--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));position:absolute;bottom:0;left:0;right:0;z-index:1020}.wy-footerbar:after{content:"";background-color:var(--wy-component-background-color);color:var(--wy-component-color);box-shadow:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce)) 0 1px 0 0 inset;position:absolute;width:100%;left:0;bottom:0;height:100%;z-index:-1;backface-visibility:hidden}@supports (backdrop-filter: blur(calc(.5 * var(--wy-rem, 1rem)))){.wy-footerbar:after{-webkit-backdrop-filter:blur(calc(.5 * var(--wy-rem, 1rem)));backdrop-filter:blur(calc(.5 * var(--wy-rem, 1rem)))}}.wy-footerbar .wy-buttons{flex-direction:row-reverse}.wy-footerbar .wy-buttons>:not(:last-child){margin:0 0 0 calc(.5 * var(--wy-rem, 1rem))}.wy-footerbar-sticky{position:sticky}.wy-footerbars-fixed .wy-footerbar{position:fixed}.wy-footerbars-fixed .wy-footerbar:after{position:fixed;height:var(--wy-footerbar-height, calc(4 * var(--wy-rem, 1rem)))}wy-avatar{position:relative;display:block}.wy-avatar{border-radius:50%}.wy-avatar-img{width:var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem)));height:var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem)))}.wy-avatar-initials{background-color:var(--wy-component-avatar-background-color, var(--wy-primary, var(--wy-primary-40, #006399)));color:var(--wy-component-avatar-color, var(--wy-on-primary, var(--wy-white, #ffffff)));width:var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem)));height:var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem)));display:flex;align-items:center;align-content:center;justify-content:center;justify-items:center;font-size:calc(var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem))))}.wy-avatar-initials>span{font-size:max(8px,var(--wy-avatar-font-size, .382em));font-weight:var(--wy-avatar-font-weight, 600);line-height:1}.wy-avatar-type{display:flex;position:absolute;z-index:1;bottom:0;right:-8.3333333333%;border-radius:50%;background-color:var(--wy-primary, var(--wy-primary-40, #006399));color:var(--wy-on-primary, var(--wy-white, #ffffff))}.wy-avatar-header{padding:calc(1.5 * var(--wy-rem, 1rem));margin-left:auto;margin-right:auto;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.wy-avatar-presence{position:relative;display:flex}.wy-avatar-group{position:relative;display:inline-flex;flex-shrink:0;width:var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem)));height:var(--wy-component-avatar-size, calc(2 * var(--wy-rem, 1rem)))}.wy-avatar-group wy-avatar:first-child{position:absolute;top:0;left:0;display:unset;-webkit-mask-image:radial-gradient(at bottom right,rgba(0,0,0,0) calc(35% + .125 * var(--wy-rem, 1rem)),rgb(0,0,0) calc(35% + .1875 * var(--wy-rem, 1rem)));mask-image:radial-gradient(at bottom right,#0000 calc(35% + .125 * var(--wy-rem, 1rem)),#000 calc(35% + .1875 * var(--wy-rem, 1rem)))}.wy-avatar-group wy-avatar:last-child{position:absolute;bottom:0;right:0;display:unset}.wy-presence{background-color:var(--wy-component-background-color, transparent);width:calc(.75 * var(--wy-rem, 1rem));height:calc(.75 * var(--wy-rem, 1rem));border-radius:50%;position:absolute;bottom:0;right:-5%;box-sizing:border-box}.wy-presence:not(.wy-presence-active){display:none}.wy-presence:after{content:"";position:absolute;width:100%;height:100%;top:0;left:0;border-radius:inherit;background-color:var(--wy-presence-active, var(--wy-green-light, #00a38b));background-clip:content-box;padding:calc(.125 * var(--wy-rem, 1rem));box-sizing:border-box}.wy-presence-away:after{background-color:var(--wy-presence-away, var(, ))}.wy-presence-in-text{position:absolute;top:calc(.375 * var(--wy-rem, 1rem));left:calc(.25 * var(--wy-rem, 1rem));bottom:auto;right:auto}.wy-button{--wy-component-color: var(--wy-primary, var(--wy-primary-40, #006399));color:var(--wy-component-color);background:var(--wy-component-background-color, transparent);padding:var(--wy-btn-padding-y, .5em) var(--wy-btn-padding-x, 1.5em);font-family:var(--wy-btn-font-family, var(--wy-font-family, unset)),inherit;font-size:var(--wy-btn-font-size, var(--wy-font-size-base, 1em));font-weight:var(--wy-btn-font-weight, 400);line-height:var(--wy-btn-line-height, var(--wy-line-height, 1.5));text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;user-select:none;border:var(--wy-btn-border-width, 0) solid var(--wy-btn-border-color, transparent);border-radius:var(--wy-btn-border-radius, 1.25em);display:inline-flex;align-items:center;justify-content:center;gap:calc(.25 * var(--wy-rem, 1rem));position:relative}.wy-button:not(.wy-button-link,:disabled)>*{z-index:3}.wy-button:not(.wy-button-link,:disabled):before{content:"";z-index:2;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;background:var(--wy-component-color);opacity:0%}.wy-button:not(.wy-button-link,:disabled):hover:before{opacity:8%}.wy-button:not(.wy-button-link,:disabled):focus:before,.wy-button:not(.wy-button-link,:disabled):active:before,.wy-button:not(.wy-button-link,:disabled).wy-active:before{opacity:12%}.wy-button:disabled{opacity:var(--wy-opacity-disabled, 38%);cursor:unset;pointer-events:none}.wy-button-icon{--wy-component-color: var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e));width:calc(2.5 * var(--wy-rem, 1rem));height:calc(2.5 * var(--wy-rem, 1rem));padding:calc(.5 * var(--wy-rem, 1rem));line-height:1;border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));border-width:0;align-items:center;justify-content:center}.wy-button-icon.wy-active{--wy-component-color: var(--wy-primary, var(--wy-primary-40, #006399))}.wy-button-icon-inline{background:var(--wy-component-background-color);color:currentColor;border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));display:flex;width:auto;background-clip:content-box}.wy-button-inline{border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));padding:calc(.5 * var(--wy-rem, 1rem)) calc(.75 * var(--wy-rem, 1rem))}.wy-button-primary{--wy-component-background-color: var(--wy-primary, var(--wy-primary-40, #006399));--wy-component-color: var(--wy-on-primary, var(--wy-white, #ffffff))}.wy-button-variant{--wy-component-background-color: var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb));--wy-component-color: var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e))}.wy-button-primary-text{--wy-component-color: var(--wy-primary, var(--wy-primary-40, #006399))}.wy-button-link{padding:0;color:var(--wy-link-color, var(--wy-primary, var(--wy-primary-40, #006399)));text-decoration:var(--wy-link-decoration, none)}.wy-button-link:hover,.wy-button-link:focus{text-decoration:var(--wy-link-hover-decoration, unset)}.wy-buttons{display:flex;align-items:center;flex-wrap:wrap;gap:calc(.5 * var(--wy-rem, 1rem))}.wy-code pre,.wy-content pre{text-wrap:pretty}.wy-code code[class*=language-],.wy-code pre[class*=language-],.wy-content code[class*=language-],.wy-content pre[class*=language-]{color:var(--wy-code-text, var(--wy-code-text-light, #3b3b3b));font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:break-word;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}@media print{.wy-code code[class*=language-],.wy-code pre[class*=language-],.wy-content code[class*=language-],.wy-content pre[class*=language-]{text-shadow:none}}.wy-code pre[class*=language-],.wy-content pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}.wy-code :not(pre)>code[class*=language-],.wy-code pre[class*=language-],.wy-content :not(pre)>code[class*=language-],.wy-content pre[class*=language-]{color:var(--wy-code-text, var(--wy-code-text-light, #3b3b3b));background:var(--wy-background, var(--wy-neutral-99, #fcfcff))}.wy-code :not(pre)>code[class*=language-],.wy-content :not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.wy-code .token.variable,.wy-content .token.variable{color:var(--wy-code-variable, var(--wy-code-variable-light, #001080))}.wy-code .token.operator,.wy-content .token.operator{color:var(--wy-code-operator, var(--wy-code-operator-light, #000000))}.wy-code .token.prolog,.wy-content .token.prolog{color:var(--wy-code-prolog, var(--wy-code-prolog-light, #000080))}.wy-code .token.comment,.wy-content .token.comment{color:var(--wy-code-comment, var(--wy-code-comment-light, #008000))}.wy-code .token.builtin,.wy-content .token.builtin{color:var(--wy-code-builtin, var(--wy-code-builtin-light, #0070C1))}.wy-code .token.number,.wy-content .token.number{color:var(--wy-code-number, var(--wy-code-number-light, #098658))}.wy-code .token.inserted,.wy-content .token.inserted{color:var(--wy-code-inserted, var(--wy-code-inserted-light, #098658))}.wy-code .token.constant,.wy-content .token.constant{color:var(--wy-code-constant, var(--wy-code-constant-light, #811F3F))}.wy-code .token.hexcode,.wy-content .token.hexcode{color:var(--wy-code-hexcode, var(--wy-code-hexcode-light, #811F3F))}.wy-code .token.regex,.wy-content .token.regex{color:var(--wy-code-regex, var(--wy-code-regex-light, #811F3F))}.wy-code .token.char,.wy-content .token.char{color:var(--wy-code-char, var(--wy-code-char-light, #811F3F))}.wy-code .token.tag,.wy-content .token.tag{color:var(--wy-code-tag, var(--wy-code-tag-light, #800000))}.wy-code .token.attr-name,.wy-content .token.attr-name{color:var(--wy-code-attr-name, var(--wy-code-attr-name-light, #E50000))}.wy-code .token.selector,.wy-content .token.selector{color:var(--wy-code-selector, var(--wy-code-selector-light, #E50000))}.wy-code .token.property,.wy-content .token.property{color:var(--wy-code-property, var(--wy-code-property-light, #E50000))}.wy-code .token.deleted,.wy-content .token.deleted{color:var(--wy-code-deleted, var(--wy-code-deleted-light, #A31515))}.wy-code .token.string,.wy-content .token.string{color:var(--wy-code-string, var(--wy-code-string-light, #A31515))}.wy-code .token.changed,.wy-content .token.changed{color:var(--wy-code-changed, var(--wy-code-changed-light, #0451A5))}.wy-code .token.punctuation,.wy-content .token.punctuation{color:var(--wy-code-punctuation, var(--wy-code-punctuation-light, #000000))}.wy-code .token.function,.wy-content .token.function{color:var(--wy-code-function, var(--wy-code-function-light, #0000FF))}.wy-code .token.keyword,.wy-content .token.keyword{color:var(--wy-code-keyword, var(--wy-code-keyword-light, #AF00DB))}.wy-code .token.class-name,.wy-content .token.class-name{color:var(--wy-code-class-name, var(--wy-code-class-name-light, #267F99))}.wy-code .token.important,.wy-code .token.bold,.wy-content .token.important,.wy-content .token.bold{font-weight:700}.wy-code .token.italic,.wy-content .token.italic{font-style:italic}.wy-content{overflow-wrap:break-word;min-width:0}.wy-content :not(pre)>code{overflow-wrap:inherit}.wy-content pre,.wy-content pre>code[class*=language-]{white-space:pre-wrap}.wy-content :first-child{margin-top:0}.wy-content :last-child{margin-bottom:0}.wy-content:empty{display:none}.wy-hashtag{color:var(--wy-primary, var(--wy-primary-40, #006399))}.wy-mention{font-weight:700}.wy-dropdown,.wy-dropup{position:relative}.wy-dropdown-toggle{white-space:nowrap}.wy-dropdown-menu{--wy-component-background-color: var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);position:absolute;z-index:1000;min-width:calc(10 * var(--wy-rem, 1rem));padding:0;margin:0;font-size:var(--wy-font-size-base, var(--wy-font-size, 1em));text-align:left;list-style:none;background-clip:padding-box;border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level1, 0 calc(.125 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.1875 * var(--wy-rem, 1rem)) calc(.0625 * var(--wy-rem, 1rem)) calc(-.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12));overflow:hidden;display:block}.wy-dropdown-menu[data-bs-popper]{top:100%;left:0;margin-top:calc(.25 * var(--wy-rem, 1rem))}.wy-dropup .wy-dropdown-menu{top:auto;bottom:100%;margin-top:0;margin-bottom:0}[data-bs-toggle=dropdown]~.wy-dropdown-menu:not(.show){display:none}[data-bs-toggle=dropdown]~.wy-dropdown-menu[hidden].show{display:block!important}.wy-dropdown-menu-end{right:0}.wy-dropdown-item{background-color:transparent;color:var(--wy-component-color, var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e)));display:block;width:100%;padding:calc(.75 * var(--wy-rem, 1rem)) calc(1 * var(--wy-rem, 1rem));clear:both;font-family:var(--wy-font-family, unset),inherit;font-size:inherit;font-weight:400;line-height:1;text-align:inherit;text-decoration:none;white-space:nowrap;border:0;gap:calc(.25 * var(--wy-rem, 1rem));cursor:pointer;display:flex;align-items:center}.wy-dropdown-item:hover,.wy-dropdown-item:focus{--wy-component-color: var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e));--wy-component-background-color: var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb));color:var(--wy-component-color);background-color:var(--wy-component-background-color);text-decoration:none}.wy-dropdown-item.wy-active,.wy-dropdown-item:active{--wy-component-color: var(--wy-on-primary-container, var(--wy-primary-10, #001d32));--wy-component-background-color: var(--wy-primary-container, var(--wy-primary-90, #cde5ff));color:var(--wy-component-color);background-color:var(--wy-component-background-color);text-decoration:none}.wy-dropdown-item.wy-disabled,.wy-dropdown-item:disabled{color:var(--wy-component-color);background-color:var(--wy-component-background-color);pointer-events:none;opacity:var(--wy-opacity-disabled, 38%)}.wy-dropdown-item>img,.wy-dropdown-item>wy-icon{margin-right:calc(.5 * var(--wy-rem, 1rem))}.wy-dropdown-item>img,.wy-dropdown-item>img .wy-icon,.wy-dropdown-item>wy-icon,.wy-dropdown-item>wy-icon .wy-icon{color:inherit}.wy-dropdown-item:active>wy-icon,.wy-dropdown-item:active>wy-icon .wy-icon{color:inherit}.wy-dropdown-item.wy-option wy-icon{visibility:hidden}.wy-dropdown-item.wy-option.wy-selected wy-icon{visibility:visible}.wy-dropdown-divider{height:0;margin:0;overflow:hidden;border:none;border-top:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-emoji{font-size:1.25em;width:1em;height:1em;vertical-align:-.125em;line-height:1;display:inline-flex;justify-content:center;align-items:center}img.wy-emoji,svg.wy-emoji{vertical-align:-.25em}.wy-empty{display:flex;align-items:center;justify-content:center;flex:1;min-width:0;position:relative}.wy-icon{display:inline-flex;align-items:center;justify-content:center;flex:0 0 auto;position:relative;width:var(--wy-component-icon-width);height:var(--wy-component-icon-height)}.wy-icon:not([width]),.wy-icon[width="24"]{width:var(--wy-component-icon-width, calc(1.5 * var(--wy-rem, 1rem)))}.wy-icon:not([height]),.wy-icon[height="24"]{height:var(--wy-component-icon-height, calc(1.5 * var(--wy-rem, 1rem)))}.wy-icon-first{margin-left:calc(-.5 * var(--wy-rem, 1rem))}.wy-icon-last{margin-right:calc(-.5 * var(--wy-rem, 1rem))}.wy-icon-padded{margin:16.66666667%}.wy-icon-inline{vertical-align:-.25em}.wy-icon-overlay{position:absolute;bottom:0;right:0;background:var(--wy-component-background-color, var(--wy-background, var(--wy-neutral-99, #fcfcff)));border-radius:50%;border:1px solid var(--wy-component-background-color, var(--wy-background, var(--wy-neutral-99, #fcfcff)))}.wy-icon-stack{display:inline-flex;position:relative;line-height:1}.wy-icon-stack .wy-icon:last-child,.wy-icon-stack>svg:last-child{position:absolute;bottom:0;right:0;background-color:var(--wy-component-background-color, var(--wy-background, var(--wy-neutral-99, #fcfcff)));border-radius:50%;width:calc(var(--wy-component-icon-width) / 2);height:calc(var(--wy-component-icon-height) / 2)}.wy-icon-active-stack{display:inline-flex;position:relative;line-height:1}.wy-icon-active-stack .wy-icon-stack-item{transition:opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));align-self:center;justify-self:center;margin:auto}.wy-icon-active-stack .wy-icon-stack-item:last-child{position:absolute;opacity:0}.wy-icon-active-stack.wy-active .wy-icon-stack-item:first-child,.wy-active .wy-icon-active-stack .wy-icon-stack-item:first-child{opacity:0}.wy-icon-active-stack.wy-active .wy-icon-stack-item:last-child,.wy-active .wy-icon-active-stack .wy-icon-stack-item:last-child{opacity:1}.wy-icon:not([class*=wy-icon-color-]):not([class*=wy-kind-]):not([data-icon=progress]) *{fill:currentColor}.wy-content-icon{color:var(--wy-component-color, var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e)));border-radius:var(--wy-component-border-radius, var(--wy-border-radius-lg, calc(1.5 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem))))));display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:calc(1 * var(--wy-rem, 1rem)) calc(2 * var(--wy-rem, 1rem));margin:auto}.wy-content-icon>.wy-icon-stack,.wy-content-icon>.wy-icon,.wy-content-icon>wy-icon,.wy-content-icon ::slotted(.wy-icon-stack),.wy-content-icon ::slotted(.wy-icon),.wy-content-icon ::slotted(wy-icon){--wy-component-icon-width: calc(4 * var(--wy-rem, 1rem));--wy-component-icon-height: calc(4 * var(--wy-rem, 1rem))}.wy-content-name,.wy-content-meta{padding:calc(1 * var(--wy-rem, 1rem)) calc(2 * var(--wy-rem, 1rem));text-align:center}.wy-icon-color-theme *,.wy-icon-color-theme * *{fill:var(--wy-theme, var(, ))}.wy-icon-color-primary *,.wy-icon-color-primary * *{fill:var(--wy-primary, var(--wy-primary-40, #006399))}.wy-icon-color-secondary *,.wy-icon-color-secondary * *{fill:var(--wy-secondary, var(--wy-secondary-40, #3b6a1c))}.wy-icon-color-tertiary *,.wy-icon-color-tertiary * *{fill:var(--wy-tertiary, var(--wy-tertiary-40, #3b6a1c))}.wy-icon-color-surface *,.wy-icon-color-surface * *{fill:var(--wy-surface, var(--wy-neutral-99, #fcfcff))}.wy-icon-color-surface-variant *,.wy-icon-color-surface-variant * *{fill:var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb))}.wy-icon-color-error *,.wy-icon-color-error * *{fill:var(--wy-error, var(--wy-error-40, #ba1824))}.wy-icon-color-warning *,.wy-icon-color-warning * *{fill:var(--wy-warning, var(--wy-warning-70, #afb140))}.wy-icon-color-blue *,.wy-icon-color-blue * *{fill:var(--wy-blue, var(--wy-blue-light, #89a9fc))}.wy-icon-color-indigo *,.wy-icon-color-indigo * *{fill:var(--wy-indigo, var(--wy-indigo-light, #9185de))}.wy-icon-color-purple *,.wy-icon-color-purple * *{fill:var(--wy-purple, var(--wy-purple-light, #c675b7))}.wy-icon-color-pink *,.wy-icon-color-pink * *{fill:var(--wy-pink, var(--wy-pink-light, #d57194))}.wy-icon-color-red *,.wy-icon-color-red * *{fill:var(--wy-red, var(--wy-red-light, #db726c))}.wy-icon-color-orange *,.wy-icon-color-orange * *{fill:var(--wy-orange, var(--wy-orange-light, #e89a3a))}.wy-icon-color-yellow *,.wy-icon-color-yellow * *{fill:var(--wy-yellow, var(--wy-yellow-light, #afb140))}.wy-icon-color-green *,.wy-icon-color-green * *{fill:var(--wy-green, var(--wy-green-light, #00a38b))}.wy-icon-color-teal *,.wy-icon-color-teal * *{fill:var(--wy-teal, var(--wy-teal-light, #00a0a8))}.wy-icon-color-cyan *,.wy-icon-color-cyan * *{fill:var(--wy-cyan, var(--wy-cyan-light, #0082a1))}.wy-icon-color-gray *,.wy-icon-color-gray * *{fill:var(--wy-gray, var(--wy-gray-light, #76777a))}.wy-icon-color-black *,.wy-icon-color-black * *{fill:var(--wy-black, var(, ))}.wy-icon-color-white *,.wy-icon-color-white * *{fill:var(--wy-white, var(, ))}[class*=wy-kind-],[class*=wy-kind-] *{fill:var(--wy-gray, var(--wy-gray-light, #76777a))}.wy-kind-archive{fill:var(--wy-orange, var(--wy-orange-light, #e89a3a))}.wy-kind-audio *{fill:var(--wy-teal, var(--wy-teal-light, #00a0a8))}.wy-kind-code *{fill:var(--wy-green, var(--wy-green-light, #00a38b))}.wy-kind-document *{fill:var(--wy-blue, var(--wy-blue-light, #89a9fc))}.wy-kind-email *{fill:var(--wy-red, var(--wy-red-light, #db726c))}.wy-kind-presentation *{fill:var(--wy-orange, var(--wy-orange-light, #e89a3a))}.wy-kind-spreadsheet *{fill:var(--wy-green, var(--wy-green-light, #00a38b))}.wy-kind-image *{fill:var(--wy-pink, var(--wy-pink-light, #d57194))}.wy-kind-text *{fill:var(--wy-cyan, var(--wy-cyan-light, #0082a1))}.wy-kind-video *{fill:var(--wy-purple, var(--wy-purple-light, #c675b7))}.wy-ext-pdf *{fill:var(--wy-red, var(--wy-red-light, #db726c))}.wy-kind-text-icon{width:calc(1.25 * var(--wy-rem, 1rem));height:calc(1.25 * var(--wy-rem, 1rem));vertical-align:calc(-.3125 * var(--wy-rem, 1rem))}[data-icon=progress].wy-icon-primary{color:var(--wy-primary, var(--wy-primary-40, #006399))}[data-icon=progress] :first-child{fill:none;stroke:var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb))}[data-icon=progress] :last-child{fill:none;stroke:currentColor}.wy-image-grid{display:flex;flex-wrap:wrap;justify-content:space-evenly;position:relative;border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));overflow:hidden;column-gap:1px;row-gap:1px}.wy-image-grid .wy-image{padding:0;width:50%;position:relative;flex:auto;background-color:inherit;background-clip:content-box}.wy-image-grid .wy-image:first-of-type:not(:nth-last-of-type(2)){flex-basis:100%!important}.wy-image-grid .wy-image-area{display:block;height:100%;cursor:pointer}.wy-image-grid .wy-image-area img{position:absolute;height:100%;width:100%;object-fit:contain}.wy-image-grid .wy-more{position:absolute;line-height:100%;color:var(--wy-white, #ffffff);top:0;left:0;bottom:0;right:0;display:flex;align-items:center;justify-content:center;font-size:calc(1.5 * var(--wy-rem, 1rem));background:rgba(0,0,0,var(--wy-opacity-disabled, 38%))}.wy-title{font-size:1.25em;font-style:var(--wy-headings-font-style, unset);font-weight:var(--wy-headings-font-weight, 500);line-height:var(--wy-headings-line-height, var(--wy-line-height, 1.5));margin-block:.5em}.wy-input{--wy-component-background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);border:var(--wy-input-border-width, 1px) solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));display:block;width:100%;min-height:calc(2.5 * var(--wy-rem, 1rem));padding:var(--wy-input-padding-y, calc(.4375 * var(--wy-rem, 1rem))) var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem)));font-family:var(--wy-input-font-family, var(--wy-font-family, inherit)),inherit;font-size:var(--wy-input-font-size, var(--wy-font-size-base, 1em));font-weight:var(--wy-input-font-weight, var(--wy-font-weight, unset));line-height:var(--wy-input-line-height, var(--wy-line-height, calc(1.5 * var(--wy-rem, 1rem))));background-clip:padding-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--wy-input-border-radius, var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem))))}.wy-input:focus{--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));color:var(--wy-component-color);border-color:var(--wy-primary, var(--wy-primary-40, #006399));outline:0}.wy-input::placeholder{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));opacity:1}.wy-input:disabled{opacity:38%}.wy-input::file-selector-button,.wy-input::-webkit-file-upload-button{color:var(--wy-component-color);background-color:var(--wy-component-background-color);padding:var(--wy-input-padding-y, calc(.4375 * var(--wy-rem, 1rem))) var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem)));margin:calc(-1 * var(--wy-input-padding-y, calc(.4375 * var(--wy-rem, 1rem)))) calc(-1 * var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem))));margin-inline-end:var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem)));pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:var(--wy-input-border-width, 1px);border-radius:0}.wy-input:hover:not(:disabled):not([readonly])::file-selector-button,.wy-input:hover:not(:disabled):not([readonly]) ::-webkit-file-upload-button{background-color:var(--wy-component-background-color)}.wy-input[type=file]{overflow:hidden}.wy-input[type=file]:not(:disabled):not([readonly]){cursor:pointer}.wy-input::-webkit-date-and-time-value{height:calc(var(--wy-input-line-height, var(--wy-line-height, calc(1.5 * var(--wy-rem, 1rem)))) * 1em)}.wy-input[type=search]::-webkit-search-cancel-button{-webkit-appearance:none}.wy-input-filled{--wy-component-background-color: var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);border-radius:calc(1.25 * var(--wy-rem, 1rem));border-color:var(--wy-component-background-color)}.wy-input-filled:focus{border-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-label{display:inline-block;margin-bottom:calc(.5 * var(--wy-rem, 1rem))}.wy-description{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)));margin-top:calc(.25 * var(--wy-rem, 1rem))}.wy-is-invalid,.wy-is-invalid:focus{border-color:var(--wy-error, var(--wy-error-40, #ba1824))}.wy-invalid-feedback{margin-top:calc(.25 * var(--wy-rem, 1rem));font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)));color:var(--wy-error, var(--wy-error-40, #ba1824))}.wy-input-group{position:relative}.wy-input-group>wy-icon{position:absolute;top:0;left:0;z-index:4}.wy-input-group>wy-icon+.wy-input{padding-left:calc(2.5 * var(--wy-rem, 1rem))}.wy-input-group-button-icon{position:absolute;top:0;right:0;z-index:4;border-radius:var(--wy-input-border-radius, var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem))))}.wy-input-group>wy-button{--wy-component-background-color: transparent}.wy-input-group-input{padding-right:calc(2.5 * var(--wy-rem, 1rem))}.wy-input-group-input:placeholder-shown~.wy-input-group-button-icon[type=reset]{display:none}.wy-input-group-input:not(:placeholder-shown)~.wy-input-group-button-icon[type=reset]+.wy-input-group-button-icon{display:none}.wy-item{position:relative;display:flex;align-items:center;gap:calc(.5 * var(--wy-rem, 1rem));padding:calc(.25 * var(--wy-rem, 1rem)) calc(.75 * var(--wy-rem, 1rem));text-decoration:none;min-height:calc(3 * var(--wy-rem, 1rem))}.wy-item>.wy-avatar,.wy-item>wy-icon,.wy-item>wy-spinner,.wy-item>.wy-icon-stack{margin-left:calc(-.25 * var(--wy-rem, 1rem))}.wy-item-body{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wy-item-body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wy-item-body+.wy-dropdown,.wy-item-body+.wy-button-icon,.wy-item-body+.wy-item-actions{margin-right:calc(-.5 * var(--wy-rem, 1rem))}.wy-item-body+.wy-emoji{margin-right:calc(.125 * var(--wy-rem, 1rem))}.wy-item-title{color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));font-weight:var(--wy-headings-font-weight, 500);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wy-item-text{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)))}.wy-item-text .wy-icon{width:calc(1.25 * var(--wy-rem, 1rem));height:calc(1.25 * var(--wy-rem, 1rem));vertical-align:calc(-.3125 * var(--wy-rem, 1rem))}.wy-item-actions{--wy-component-background-color: transparent;display:flex;align-items:center;flex:0 0 auto}.wy-item-actions-top{position:absolute;top:calc(.25 * var(--wy-rem, 1rem));right:calc(.25 * var(--wy-rem, 1rem));margin:0!important}.wy-item-actions-bottom{position:absolute;bottom:calc(.25 * var(--wy-rem, 1rem));right:calc(.25 * var(--wy-rem, 1rem));margin:0!important}.wy-item-body:has(+.wy-item-actions-bottom) .wy-item-row:last-child{margin-right:calc(4.5 * var(--wy-rem, 1rem))}.wy-item-body:has(+.wy-item-actions-top) .wy-item-row:first-child{margin-right:calc(2 * var(--wy-rem, 1rem))}.wy-action-label{margin-right:calc(.5 * var(--wy-rem, 1rem));font-style:italic}.wy-item-row{display:flex;align-items:baseline}.wy-item-row:first-child{margin-bottom:calc(.125 * var(--wy-rem, 1rem))}.wy-item-row .wy-item-title,.wy-item-row .wy-item-text{margin-right:auto}.wy-item-row .wy-meta{margin:0 calc(.25 * var(--wy-rem, 1rem));white-space:nowrap}.wy-item-hover{-webkit-user-select:none;user-select:none;cursor:pointer}.wy-item-hover:hover,.wy-item-hover:focus{--wy-component-background-color: var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);text-decoration:none}.wy-item-hover:active{--wy-component-background-color: var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb));--wy-component-color: var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e));background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-item-hover.wy-disabled,.wy-item-hover:disabled{opacity:var(--wy-opacity-disabled, 38%);pointer-events:none}.wy-item-hover.wy-active{--wy-component-background-color: var(--wy-primary-container, var(--wy-primary-90, #cde5ff));--wy-component-color: var(--wy-on-primary-container, var(--wy-primary-10, #001d32));background-color:var(--wy-component-background-color);color:var(--wy-component-color);border-color:var(--wy-component-background-color)}.wy-item-trashed{text-decoration:line-through;opacity:var(--wy-opacity-disabled, 38%)}.wy-item-trashed.wy-item-hover:hover{opacity:1}.wy-item-lg{padding:calc(.75 * var(--wy-rem, 1rem));min-height:calc(4.5 * var(--wy-rem, 1rem));gap:calc(.75 * var(--wy-rem, 1rem))}.wy-item-lg>.wy-avatar,.wy-item-lg>wy-icon,.wy-item-lg>.wy-icon-stack{margin-left:0}.wy-list{border-radius:var(--wy-border-radius-sm, calc(.75 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))));display:flex;flex-direction:column;gap:1px;min-width:0}.wy-list .wy-item:not(.wy-item-hover){--wy-component-background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-list .wy-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.wy-list .wy-item:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.wy-list-bordered{border:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));gap:0}.wy-list-bordered .wy-item{border-top:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));border-left:none;border-right:none}.wy-list-bordered .wy-item:first-child{border-top:none}.wy-list-bordered .wy-item:last-child{border-bottom:none}.wy-list-bordered .wy-item+.wy-list-bordered .wy-item{border-top-width:0}.wy-messages{padding:calc(1 * var(--wy-rem, 1rem)) calc(1 * var(--wy-rem, 1rem)) calc(1 * var(--wy-rem, 1rem)) calc(.75 * var(--wy-rem, 1rem));flex:1 1 100%}.wy-message-placeholder{opacity:.5}.wy-date-separator{font-size:var(--wy-font-size-xs, calc(.75 * var(--wy-font-size-base, 1em)));pointer-events:none;margin:calc(.5 * var(--wy-rem, 1rem));text-align:center;position:sticky;top:calc(1.5 * var(--wy-rem, 1rem));z-index:10}.wy-date-separator time{background:var(--wy-surface-3, var(--wy-surface-3-light, #e3e7ee));color:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));padding:calc(.25 * var(--wy-rem, 1rem)) calc(.5 * var(--wy-rem, 1rem));border-radius:var(--wy-border-radius-sm, calc(.75 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))));display:inline-block}.wy-appbars+.wy-pane-body .wy-date-separator{top:calc(var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem))) + 1.5 * var(--wy-rem, 1rem))}.wy-message{display:flex;flex-direction:row;align-items:flex-start;margin-bottom:calc(1 * var(--wy-rem, 1rem));scroll-margin-block:6rem}.wy-message .wy-image-grid,.wy-message .wy-attachments{border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))}.wy-message-meta{font-size:var(--wy-font-size-xs, calc(.75 * var(--wy-font-size-base, 1em)));margin:0 0 calc(.25 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem));color:var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e))}.wy-message-bubble{--wy-component-background-color: var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb));--wy-component-color: var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);border-radius:calc(var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem))) + .5 * var(--wy-rem, 1rem));display:flex;flex-direction:column;padding:calc(.75 * var(--wy-rem, 1rem));gap:calc(.75 * var(--wy-rem, 1rem));max-width:min(32 * var(--wy-rem, 1rem),100% - 2 * var(--wy-rem, 1rem))}.wy-message-bubble>div{flex:1 1 100%}.wy-message-bubble .wy-likes,.wy-message-bubble .wy-reactions-line{position:relative;height:0;min-height:0;max-height:0;margin:0 calc(-.75 * var(--wy-rem, 1rem)) calc(-.75 * var(--wy-rem, 1rem));flex:0 0 0}.wy-message-bubble .wy-like-count{background:var(--wy-component-background-color);border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));color:currentColor}.wy-message-bubble .wy-reactions-line,.wy-message-bubble wy-reactions{display:flex;flex-direction:row-reverse;justify-content:flex-end}.wy-message-author{margin:calc(1.375 * var(--wy-rem, 1rem)) calc(.5 * var(--wy-rem, 1rem)) 0 0}.wy-message-content{display:flex;flex-direction:column;width:100%;align-items:flex-start;flex-wrap:wrap;min-width:0;position:relative}.wy-message-content-row{display:flex;flex-direction:row;align-items:center;max-width:100%}.wy-message-bot .wy-message-bubble{--wy-component-background-color: var(--wy-tertiary-container, var(--wy-tertiary-90, #bbf294));--wy-component-color: var(--wy-on-tertiary-container, var(--wy-tertiary-10, #0a2100));background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-message-me{margin-right:0;margin-left:calc(2.5 * var(--wy-rem, 1rem));align-items:flex-end}.wy-message-me .wy-message-meta{margin:0 calc(.25 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem)) 0}.wy-message-me .wy-message-content{align-items:flex-end}.wy-message-me .wy-message-content-row{flex-direction:row-reverse}.wy-message-me .wy-message-bubble{--wy-component-background-color: var(--wy-primary-container, var(--wy-primary-90, #cde5ff));--wy-component-color: var(--wy-on-primary-container, var(--wy-primary-10, #001d32));background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-message-me .wy-likes{flex-direction:row-reverse}.wy-message-me .wy-reactions-line,.wy-message-me wy-reactions{display:flex;flex-direction:row}.wy-message-me .wy-reactions-line .wy-dropdown-menu,.wy-message-me wy-reactions .wy-dropdown-menu{right:0}.wy-message-emoji .wy-message-bubble{background:none;padding:0 0 calc(.75 * var(--wy-rem, 1rem))}.wy-message-emoji .wy-content .wy-emoji{width:calc(3 * var(--wy-rem, 1rem));height:calc(3 * var(--wy-rem, 1rem));margin:0}.wy-message-emoji.wy-message-me .wy-content{text-align:end}.wy-readby-status{display:flex;gap:calc(.25 * var(--wy-rem, 1rem));height:calc(1.125 * var(--wy-rem, 1rem));justify-content:flex-end;margin-top:calc(-.125 * var(--wy-rem, 1rem))}.wy-status-pending,.wy-status-sent,.wy-status-delivered{--wy-component-background-color: var(--wy-inverse-primary, var(--wy-primary-80, #95ccff));color:var(--wy-component-background-color)}.wy-message-readmore{justify-self:center;text-align:center}.wy-meta{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)))}.wy-meta-sm{font-size:var(--wy-font-size-xs, calc(.75 * var(--wy-font-size-base, 1em)))}.wy-viewport{position:fixed;top:0;right:0;bottom:0;left:0;z-index:2147483647;pointer-events:none}.wy-overlays{pointer-events:none;width:100%;height:100%;max-width:none;display:flex;align-items:center;justify-content:center;transform-style:preserve-3d;overflow-y:initial;overflow-x:initial;perspective:calc(100 * var(--wy-rem, 1rem));perspective-origin:center center}.wy-overlays .wy-panel:not(.wy-transition){transform:translateZ(calc(-4 * var(--wy-rem, 1rem)))!important}.wy-overlays .wy-panel .wy-controls{position:absolute;border-bottom:none;flex-direction:row;transition:opacity .1s .2s step-end}.wy-overlays .wy-panel .wy-controls wy-icon{color:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e))}.wy-overlays .wy-panel.wy-loaded .wy-controls{pointer-events:none;opacity:0}.wy-overlays .wy-panel .wy-panel-frame{background-color:transparent}@media (min-width: 768px){.wy-overlays .wy-panel.wy-modal{left:auto;right:auto;top:calc(2 * var(--wy-rem, 1rem));bottom:calc(3.2 * var(--wy-rem, 1rem));margin-left:calc(4 * var(--wy-rem, 1rem));margin-top:auto;margin-right:calc(4 * var(--wy-rem, 1rem));margin-bottom:auto;border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level4, 0 calc(1 * var(--wy-rem, 1rem)) calc(2.25 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .14), 0 calc(.375 * var(--wy-rem, 1rem)) calc(1.875 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .12), 0 calc(.5 * var(--wy-rem, 1rem)) calc(.625 * var(--wy-rem, 1rem)) calc(-.3125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2));width:calc(32 * var(--wy-rem, 1rem));max-height:calc(32 * var(--wy-rem, 1rem))}.wy-overlays .wy-panel.wy-modal:not(.wy-scroll-y){overflow:hidden}}@media (min-width: 768px){.wy-overlays .wy-panel.wy-modal-full{left:calc(1 * var(--wy-rem, 1rem));top:calc(1 * var(--wy-rem, 1rem));right:calc(1 * var(--wy-rem, 1rem));bottom:calc(1 * var(--wy-rem, 1rem));margin:0;border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level4, 0 calc(1 * var(--wy-rem, 1rem)) calc(2.25 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .14), 0 calc(.375 * var(--wy-rem, 1rem)) calc(1.875 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .12), 0 calc(.5 * var(--wy-rem, 1rem)) calc(.625 * var(--wy-rem, 1rem)) calc(-.3125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2));width:auto;max-height:none}.wy-overlays .wy-panel.wy-modal-full:not(.wy-scroll-y){overflow:hidden}}.wy-overlays .wy-panel.wy-loading .wy-controls{transition:opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));opacity:1}tr.wy-pager{pointer-events:none}:not(tr).wy-pager:not(:empty){display:block;text-align:center;margin:calc(1 * var(--wy-rem, 1rem)) auto}tr.wy-pager td{text-align:center;border:0}tr.wy-pager td .wy-spinner{display:inline;margin:calc(1 * var(--wy-rem, 1rem)) auto}.wy-grid .wy-pager{display:flex}.wy-pane{display:flex;flex-direction:column;position:relative;min-height:0;height:100%;flex:1 1 auto}.wy-pane-body{display:flex;flex-direction:column;flex:1}.wy-pane-group{padding:calc(.75 * var(--wy-rem, 1rem))}.wy-pane-background{--wy-component-background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-panels{position:absolute;top:0;right:0;bottom:0;left:0;overscroll-behavior:contain;overflow-y:auto;overflow-x:hidden}.wy-panel{--wy-component-background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;overflow:hidden;background-color:var(--wy-component-background-color);color:var(--wy-component-color);display:flex;flex-direction:column}.wy-panel .wy-controls{top:calc(.25 * var(--wy-rem, 1rem));left:calc(.25 * var(--wy-rem, 1rem));min-width:calc(2.5 * var(--wy-rem, 1rem));width:auto;display:flex;z-index:10000;order:-1;flex-direction:row-reverse;border-bottom:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-panel .wy-controls:empty{display:none}.wy-panel .wy-controls wy-icon{color:var(--wy-component-color)}.wy-panel .wy-panel-frame{transition:opacity var(--wy-transition-fast, var(--wy-transition-duration-fast, .1s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));transition-delay:.2s;opacity:1}.wy-panel .wy-panel-frame:not([src]){display:none}.wy-panel:not(.wy-loaded) .wy-panel-frame{opacity:0;transition:opacity .2s step-start;transition-delay:.1s}.wy-panel.wy-open{pointer-events:all;z-index:5}.wy-panel.wy-open[data-title]:before{content:attr(data-title);position:absolute;top:0;left:0;right:0;height:var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)));padding:calc(.25 * var(--wy-rem, 1rem));opacity:0;pointer-events:none;display:flex;align-items:center;justify-content:center;transition:opacity .1s step-end;transition-delay:.2s;font-family:var(--wy-font-family, unset),inherit;line-height:var(--wy-line-height, 1.5);font-weight:var(--wy-font-weight, unset);background-color:var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));color:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));box-shadow:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce)) 0 -1px 0 0 inset;backface-visibility:hidden}@supports (backdrop-filter: blur(calc(.5 * var(--wy-rem, 1rem)))){.wy-panel.wy-open[data-title]:before{-webkit-backdrop-filter:blur(calc(.5 * var(--wy-rem, 1rem)));backdrop-filter:blur(calc(.5 * var(--wy-rem, 1rem)))}}.wy-panel.wy-open:after{content:"";position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;opacity:0;transition:opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));transition-duration:0s}.wy-panel.wy-open.wy-loading[data-title]:before{opacity:1}.wy-panel.wy-open.wy-loading:after{transition:opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));transition-duration:.5s;opacity:1;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' width='24' height='24' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cstyle type='text/css'%3Eg%7Banimation:rotate 2s linear infinite;transform-origin:center center%7Dcircle%7Bstroke-dasharray:1,100;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite,color 6s ease-in-out infinite%7D@keyframes rotate%7B100%25%7Btransform:rotate(360deg)%7D%7D@keyframes dash%7B0%25%7Bstroke-dasharray:1,100;stroke-dashoffset:0%7D50%25%7Bstroke-dasharray:44.5,100;stroke-dashoffset:-17.5px%7D100%25%7Bstroke-dasharray:44.5,100;stroke-dashoffset:-62px%7D%7D@keyframes color%7B0%25,100%25%7Bstroke:%23216eb4%7D40%25%7Bstroke:%2328b7cf%7D66%25%7Bstroke:%23216eb4%7D80%25,90%25%7Bstroke:%2328b7cf%7D%7D%3C/style%3E%3Cg%3E%3Ccircle fill='none' cx='12' cy='12' r='11' stroke-linecap='butt' stroke-width='2' /%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;background-position:50%;background-size:calc(2 * var(--wy-rem, 1rem));background-color:transparent}.wy-panel{opacity:0;visibility:hidden;transition:opacity var(--wy-transition-fast, var(--wy-transition-duration-fast, .1s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))) .01s,transform var(--wy-transition-fast, var(--wy-transition-duration-fast, .1s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))) .01s,visibility .01s step-end var(--wy-transition-duration-fast, .1s)}.wy-panel.wy-open{transition:opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))),transform var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))),visibility var(--wy-transition-duration, .2s) step-start;visibility:visible}.wy-panel.wy-open.wy-transition{opacity:1;transform:none}.wy-panel-frame{flex:1 1 100%;border:0}.wy-picker-list{background:var(--wy-component-background-color);color:var(--wy-component-color);border:none}.wy-picker-list>.wy-picker-list-item:first-child,.wy-picker-list>:first-child .wy-picker-list-item{border-top:none}.wy-picker-list>.wy-picker-list-item:last-child,.wy-picker-list>:last-child .wy-picker-list-item{border-bottom:none}.wy-picker-list-item{display:flex;align-items:center;padding:calc(.25 * var(--wy-rem, 1rem)) calc(.5 * var(--wy-rem, 1rem))}.wy-picker-list-item>wy-icon{margin-left:calc(.25 * var(--wy-rem, 1rem));margin-right:calc(.25 * var(--wy-rem, 1rem));flex:0 0 auto}.wy-picker-list-item>button{margin-block-start:auto;flex:0 0 auto}.wy-picker-list-item-title{flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wy-main{display:flex;height:calc(100% - var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem))));min-height:0}@media (max-width: 767.98px){.wy-main{flex-direction:column}}.wy-preview{--wy-component-background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);display:flex;flex-direction:column;align-items:stretch;justify-content:stretch;position:relative;flex:1 1 100%;min-width:calc(16 * var(--wy-rem, 1rem));min-height:calc(16 * var(--wy-rem, 1rem));max-height:100%;max-width:100%}.wy-preview-swiper{display:flex;flex-direction:row;flex:1 1 100%;align-items:center;justify-content:start;min-width:calc(16 * var(--wy-rem, 1rem));min-height:calc(16 * var(--wy-rem, 1rem));max-height:100%;max-width:100%;overflow-x:scroll;scroll-snap-type:x mandatory;scroll-behavior:auto;overscroll-behavior-x:none;scrollbar-width:none}.wy-preview-swiper::-webkit-scrollbar{display:none}.wy-preview-swiper-disabled{overflow-x:hidden}.wy-preview-area{position:relative;min-width:100%;min-height:100%;width:100%;height:100%;flex:1 1 auto;display:flex;flex-direction:column;scroll-snap-stop:always;scroll-snap-align:center}.wy-nav-prev,.wy-nav-next{--wy-component-background-color: var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb));--wy-component-color: var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e));background-color:var(--wy-component-background-color);position:absolute;top:50%;z-index:1000;border-radius:50%}.wy-nav-prev{left:calc(.5 * var(--wy-rem, 1rem))}.wy-nav-next{right:calc(.5 * var(--wy-rem, 1rem))}.wy-document{--wy-component-background-color: var(--wy-background, );--wy-component-color: var(--wy-on-background, );background-color:var(--wy-component-background-color);color:var(--wy-component-color);align-self:flex-start;padding:calc(2 * var(--wy-rem, 1rem)) calc(3.5 * var(--wy-rem, 1rem));width:100%;min-height:100%;flex:1 0 auto}@media (min-width: 768px){.wy-document{padding:calc(3 * var(--wy-rem, 1rem)) calc(4 * var(--wy-rem, 1rem));margin:calc(2 * var(--wy-rem, 1rem)) auto;border-radius:calc(.125 * var(--wy-rem, 1rem));box-shadow:var(--wy-shadow-level2, 0 calc(.25 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.625 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12), 0 calc(.125 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem)) calc(-.0625 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2));width:120ch;min-height:170ch;max-width:calc(100% - 3.5 * var(--wy-rem, 1rem))}}.wy-content-code{align-self:flex-start;width:100%;padding:calc(2 * var(--wy-rem, 1rem)) calc(3.5 * var(--wy-rem, 1rem))}.wy-content-iframe{border:0;display:block;width:100%;height:100%;top:0;left:0;flex:1 1 100%}.wy-content-iframe.wy-loaded{--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-content-iframe.wy-loaded~.wy-content-iframe-fallback,.wy-content-iframe.wy-loaded~.wy-spinner,.wy-content-iframe.wy-loaded~wy-spinner{display:none}.wy-content-iframe.wy-loading:not(.wy-loaded){position:absolute;visibility:hidden;z-index:-1;pointer-events:none}.wy-content-iframe.wy-loading:not(.wy-loaded):not(.wy-fallback)~.wy-content-iframe-fallback{display:none}.wy-content-iframe.wy-loading:not(.wy-loaded).wy-fallback~.wy-spinner,.wy-content-iframe.wy-loading:not(.wy-loaded).wy-fallback~wy-spinner{display:none}.wy-content-iframe~.wy-spinner,.wy-content-iframe~wy-spinner{margin:auto}.wy-content-html pre,.wy-content-html code{word-break:break-word;white-space:pre-wrap}.wy-content-image{min-width:0;display:flex;align-items:center;justify-content:center;position:relative;margin:auto;max-height:100%;max-width:100%;transition:transform var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))),transform-origin var(--wy-transition-duration, .2s) step-end}.wy-content-image.wy-zoom{cursor:zoom-out;transition:transform var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))),transform-origin var(--wy-transition-duration, .2s) step-start}.wy-content-image img{min-width:0;min-height:0;width:100%;height:100%}.wy-content-image img:not(.wy-loading-transition):not([data-controller~=image])~.wy-spinner,.wy-content-image img:not(.wy-loading-transition):not([data-controller~=image])~wy-spinner{display:none}.wy-content-image img.wy-loading,.wy-content-image img[data-controller~=image]{transition:opacity .15s ease-out;opacity:0}.wy-content-image img.wy-loading.wy-loaded,.wy-content-image img[data-controller~=image].wy-loaded{opacity:1;transition:opacity .15s ease-out}.wy-content-image img.wy-loading.wy-loaded~img,.wy-content-image img[data-controller~=image].wy-loaded~img{transition-delay:.15s;opacity:0}.wy-content-image img.wy-loading.wy-loaded~.wy-spinner,.wy-content-image img.wy-loading.wy-loaded~wy-spinner,.wy-content-image img[data-controller~=image].wy-loaded~.wy-spinner,.wy-content-image img[data-controller~=image].wy-loaded~wy-spinner{display:none}.wy-content-image img.wy-responsive-image-thumb{position:absolute;z-index:-1}.wy-content-image img~.wy-spinner,.wy-content-image img~wy-spinner{position:absolute}.wy-content-video:not(.wy-error){min-height:0;max-width:100%;max-height:100%;flex:1 1 auto}.wy-content-video,.wy-content-audio{margin:auto}.wy-content-video.wy-loading:not(.wy-loaded),.wy-content-video[data-controller~=media]:not(.wy-loaded),.wy-content-audio.wy-loading:not(.wy-loaded),.wy-content-audio[data-controller~=media]:not(.wy-loaded){visibility:hidden}.wy-content-video.wy-loading.wy-loaded~.wy-spinner,.wy-content-video.wy-loading.wy-loaded~wy-spinner,.wy-content-video[data-controller~=media].wy-loaded~.wy-spinner,.wy-content-video[data-controller~=media].wy-loaded~wy-spinner,.wy-content-audio.wy-loading.wy-loaded~.wy-spinner,.wy-content-audio.wy-loading.wy-loaded~wy-spinner,.wy-content-audio[data-controller~=media].wy-loaded~.wy-spinner,.wy-content-audio[data-controller~=media].wy-loaded~wy-spinner{display:none}.wy-content-video:focus,.wy-content-audio:focus{outline:none}:host(wy-pdf-viewer){--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--input-focus-border-color: Highlight;--input-focus-outline: 1px solid Canvas;--input-unfocused-border-color: transparent;--input-disabled-border-color: transparent;--input-hover-border-color: black;--xfa-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-focus-outline: auto;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorFreeText-editing-cursor: text;--editorInk-editing-cursor: pointer;--viewer-container-height: 0;--pdfViewer-padding-bottom: 0;--page-margin: calc(2 * var(--wy-rem, 1rem)) auto;--page-border: none;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: -3.5px;--scale-factor: 1}@media (forced-colors: active){:host(wy-pdf-viewer){--input-focus-border-color: CanvasText;--input-unfocused-border-color: ActiveText;--input-disabled-border-color: GrayText;--input-hover-border-color: Highlight}}@media (forced-colors: active){:host(wy-pdf-viewer){--xfa-focus-outline: 2px solid CanvasText}}@media (forced-colors: active){:host(wy-pdf-viewer){--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}@media screen and (forced-colors: active){:host(wy-pdf-viewer){--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}.wy-content-pdf .wy-input[data-pdf-target=pageNumber]{width:calc(3 * var(--wy-rem, 1rem))}.wy-content-pdf .wy-input[data-pdf-target=zoomLevel]{width:calc(5 * var(--wy-rem, 1rem))}.wy-content-pdf .wy-pdf-container{position:absolute;width:100%;height:100%;bottom:0;left:0;overflow-y:auto;max-height:100%;overflow-x:auto;touch-action:pan-y,pan-x;will-change:scroll-position,opacity;backface-visibility:hidden;max-width:100%}.wy-content-pdf .wy-pdf-container:not(body){-webkit-overflow-scrolling:touch}.wy-scrollbars .wy-content-pdf .wy-pdf-container{scrollbar-width:thin;scrollbar-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e)) transparent}.wy-scrollbars .wy-content-pdf .wy-pdf-container::-webkit-scrollbar{height:.625rem;width:.625rem;background:transparent;z-index:999}.wy-scrollbars .wy-content-pdf .wy-pdf-container::-webkit-scrollbar-track{background:transparent}.wy-scrollbars .wy-content-pdf .wy-pdf-container::-webkit-scrollbar-thumb{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));border:.125rem solid transparent;border-radius:.5rem;background-clip:padding-box;opacity:75%}.wy-scrollbars .wy-content-pdf .wy-pdf-container::-webkit-scrollbar-thumb:hover{background-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));opacity:75%}.wy-scrollbars .wy-content-pdf .wy-pdf-container::-webkit-scrollbar-thumb:window-inactive{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));opacity:50%}@supports (overflow-y: overlay){.wy-scrollbars .wy-content-pdf .wy-pdf-container{overflow-y:overlay}}.wy-content-pdf .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.25;line-height:1;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}.wy-content-pdf .textLayer span,.wy-content-pdf .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}.wy-content-pdf .textLayer span.markedContent{top:0;height:0}.wy-content-pdf .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}.wy-content-pdf .textLayer .highlight.appended{position:initial}.wy-content-pdf .textLayer .highlight.begin{border-radius:4px 0 0 4px}.wy-content-pdf .textLayer .highlight.end{border-radius:0 4px 4px 0}.wy-content-pdf .textLayer .highlight.middle{border-radius:0}.wy-content-pdf .textLayer .highlight.selected{background-color:#006400}.wy-content-pdf .textLayer ::-moz-selection{background:#00f;background:AccentColor}.wy-content-pdf .textLayer ::selection{background:#00f;background:AccentColor}.wy-content-pdf .textLayer br::-moz-selection{background:transparent}.wy-content-pdf .textLayer br::selection{background:transparent}.wy-content-pdf .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.wy-content-pdf .textLayer .endOfContent.active{top:0}@media (forced-colors: active){.wy-content-pdf .annotationLayer .textWidgetAnnotation input:required,.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea:required,.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select:required,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:required,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}.wy-content-pdf .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}.wy-content-pdf .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}.wy-content-pdf .annotationLayer .linkAnnotation>a,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}.wy-content-pdf .annotationLayer .linkAnnotation>a:hover,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}.wy-content-pdf .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}.wy-content-pdf .annotationLayer .textWidgetAnnotation input,.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea,.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:2px solid var(--input-unfocused-border-color);box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}.wy-content-pdf .annotationLayer .textWidgetAnnotation input:required,.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea:required,.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select:required,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:required,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select option{padding:0}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea{resize:none}.wy-content-pdf .annotationLayer .textWidgetAnnotation input[disabled],.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea[disabled],.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select[disabled],.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled],.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:2px solid var(--input-disabled-border-color);cursor:not-allowed}.wy-content-pdf .annotationLayer .textWidgetAnnotation input:hover,.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea:hover,.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select:hover,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:hover,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:2px solid var(--input-hover-border-color)}.wy-content-pdf .annotationLayer .textWidgetAnnotation input:hover,.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea:hover,.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select:hover,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:hover{border-radius:2px}.wy-content-pdf .annotationLayer .textWidgetAnnotation input:focus,.wy-content-pdf .annotationLayer .textWidgetAnnotation textarea:focus,.wy-content-pdf .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:2px solid var(--input-focus-border-color);border-radius:2px;outline:var(--input-focus-outline)}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox :focus,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox :focus{border:2px solid var(--input-focus-border-color);border-radius:2px;outline:var(--input-focus-outline)}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton :focus{border:2px solid var(--input-focus-border-color);outline:var(--input-focus-outline)}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}.wy-content-pdf .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}.wy-content-pdf .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.checkBox input,.wy-content-pdf .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none}.wy-content-pdf .annotationLayer .popupTriggerArea{height:100%;width:100%}.wy-content-pdf .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}.wy-content-pdf .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}.wy-content-pdf .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}.wy-content-pdf .annotationLayer .popup h1{display:inline-block}.wy-content-pdf .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}.wy-content-pdf .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}.wy-content-pdf .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}.wy-content-pdf .annotationLayer .highlightAnnotation,.wy-content-pdf .annotationLayer .underlineAnnotation,.wy-content-pdf .annotationLayer .squigglyAnnotation,.wy-content-pdf .annotationLayer .strikeoutAnnotation,.wy-content-pdf .annotationLayer .freeTextAnnotation,.wy-content-pdf .annotationLayer .lineAnnotation svg line,.wy-content-pdf .annotationLayer .squareAnnotation svg rect,.wy-content-pdf .annotationLayer .circleAnnotation svg ellipse,.wy-content-pdf .annotationLayer .polylineAnnotation svg polyline,.wy-content-pdf .annotationLayer .polygonAnnotation svg polygon,.wy-content-pdf .annotationLayer .caretAnnotation,.wy-content-pdf .annotationLayer .inkAnnotation svg polyline,.wy-content-pdf .annotationLayer .stampAnnotation,.wy-content-pdf .annotationLayer .fileAttachmentAnnotation{cursor:pointer}.wy-content-pdf .annotationLayer section svg{position:absolute;width:100%;height:100%}.wy-content-pdf .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}.wy-content-pdf .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){.wy-content-pdf .xfaLayer *:required{outline:1.5px solid selectedItem}}.wy-content-pdf .xfaLayer{background-color:transparent}.wy-content-pdf .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}.wy-content-pdf .xfaLayer .highlight.appended{position:initial}.wy-content-pdf .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}.wy-content-pdf .xfaLayer .highlight.end{border-radius:0 4px 4px 0}.wy-content-pdf .xfaLayer .highlight.middle{border-radius:0}.wy-content-pdf .xfaLayer .highlight.selected{background-color:#cbdfcb}.wy-content-pdf .xfaPage{overflow:hidden;position:relative}.wy-content-pdf .xfaContentarea{position:absolute}.wy-content-pdf .xfaPrintOnly{display:none}.wy-content-pdf .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}.wy-content-pdf .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}.wy-content-pdf .xfaLayer *:required{outline:1.5px solid red}.wy-content-pdf .xfaLayer div{pointer-events:none}.wy-content-pdf .xfaLayer svg{pointer-events:none}.wy-content-pdf .xfaLayer svg *{pointer-events:none}.wy-content-pdf .xfaLayer a{color:#00f}.wy-content-pdf .xfaRich li{margin-left:3em}.wy-content-pdf .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}.wy-content-pdf .xfaCaption{overflow:hidden;flex:0 0 auto}.wy-content-pdf .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}.wy-content-pdf .xfaLabel{height:100%;width:100%}.wy-content-pdf .xfaLeft{display:flex;flex-direction:row;align-items:center}.wy-content-pdf .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}.wy-content-pdf .xfaLeft>.xfaCaption,.wy-content-pdf .xfaLeft>.xfaCaptionForCheckButton,.wy-content-pdf .xfaRight>.xfaCaption,.wy-content-pdf .xfaRight>.xfaCaptionForCheckButton{max-height:100%}.wy-content-pdf .xfaTop{display:flex;flex-direction:column;align-items:flex-start}.wy-content-pdf .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}.wy-content-pdf .xfaTop>.xfaCaption,.wy-content-pdf .xfaTop>.xfaCaptionForCheckButton,.wy-content-pdf .xfaBottom>.xfaCaption,.wy-content-pdf .xfaBottom>.xfaCaptionForCheckButton{width:100%}.wy-content-pdf .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}.wy-content-pdf .xfaWrapped{width:100%;height:100%}.wy-content-pdf .xfaTextfield:focus,.wy-content-pdf .xfaSelect:focus{background-image:none;background-color:transparent;outline:var(--xfa-focus-outline);outline-offset:-1px}.wy-content-pdf .xfaCheckbox:focus,.wy-content-pdf .xfaRadio:focus{outline:var(--xfa-focus-outline)}.wy-content-pdf .xfaTextfield,.wy-content-pdf .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}.wy-content-pdf .xfaSelect{padding-left:2px;padding-right:2px;padding-inline:2px}.wy-content-pdf .xfaTop>.xfaTextfield,.wy-content-pdf .xfaTop>.xfaSelect,.wy-content-pdf .xfaBottom>.xfaTextfield,.wy-content-pdf .xfaBottom>.xfaSelect{flex:0 1 auto}.wy-content-pdf .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}.wy-content-pdf .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}.wy-content-pdf .xfaCheckbox,.wy-content-pdf .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}.wy-content-pdf .xfaRich{white-space:pre-wrap;width:100%;height:100%}.wy-content-pdf .xfaImage{-o-object-position:left top;object-position:left top;-o-object-fit:contain;object-fit:contain;width:100%;height:100%}.wy-content-pdf .xfaLrTb,.wy-content-pdf .xfaRlTb,.wy-content-pdf .xfaTb{display:flex;flex-direction:column;align-items:stretch}.wy-content-pdf .xfaLr{display:flex;flex-direction:row;align-items:stretch}.wy-content-pdf .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}.wy-content-pdf .xfaTb>div{justify-content:left}.wy-content-pdf .xfaPosition,.wy-content-pdf .xfaArea{position:relative}.wy-content-pdf .xfaValignMiddle{display:flex;align-items:center}.wy-content-pdf .xfaTable{display:flex;flex-direction:column;align-items:stretch}.wy-content-pdf .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}.wy-content-pdf .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}.wy-content-pdf .xfaTable .xfaRlRow>div{flex:1}.wy-content-pdf .xfaNonInteractive input,.wy-content-pdf .xfaNonInteractive textarea,.wy-content-pdf .xfaDisabled input,.wy-content-pdf .xfaDisabled textarea,.wy-content-pdf .xfaReadOnly input,.wy-content-pdf .xfaReadOnly textarea{background:initial}@media print{.wy-content-pdf .xfaTextfield,.wy-content-pdf .xfaSelect{background:transparent}.wy-content-pdf .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}.wy-content-pdf [data-editor-rotation="90"]{transform:rotate(90deg)}.wy-content-pdf [data-editor-rotation="180"]{transform:rotate(180deg)}.wy-content-pdf [data-editor-rotation="270"]{transform:rotate(270deg)}.wy-content-pdf .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0;cursor:auto;z-index:20000}.wy-content-pdf .annotationEditorLayer.freeTextEditing{cursor:var(--editorFreeText-editing-cursor)}.wy-content-pdf .annotationEditorLayer.inkEditing{cursor:var(--editorInk-editing-cursor)}.wy-content-pdf .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}.wy-content-pdf .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none;cursor:auto}.wy-content-pdf .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}.wy-content-pdf .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}.wy-content-pdf .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}.wy-content-pdf .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}.wy-content-pdf .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}.wy-content-pdf .annotationEditorLayer .inkEditor.disabled{resize:none}.wy-content-pdf .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}.wy-content-pdf .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor),.wy-content-pdf .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}.wy-content-pdf .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}.wy-content-pdf .annotationEditorLayer .inkEditor.editing{resize:none;cursor:inherit}.wy-content-pdf .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}.wy-content-pdf [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}.wy-content-pdf [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}.wy-content-pdf [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}.wy-content-pdf .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}.wy-content-pdf .pdfViewer .canvasWrapper{overflow:hidden}.wy-content-pdf .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);-o-border-image:var(--page-border-image);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}.wy-content-pdf .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}.wy-content-pdf .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}.wy-content-pdf .pdfViewer.singlePageView{display:inline-block}.wy-content-pdf .pdfViewer.singlePageView .page{margin:0;border:none}.wy-content-pdf .pdfViewer.scrollHorizontal,.wy-content-pdf .pdfViewer.scrollWrapped,.wy-content-pdf .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}.wy-content-pdf .pdfViewer.scrollHorizontal,.wy-content-pdf .spread{white-space:nowrap}.wy-content-pdf .pdfViewer.removePageBorders,.wy-content-pdf .pdfViewer.scrollHorizontal .spread,.wy-content-pdf .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}.wy-content-pdf .spread .page,.wy-content-pdf .spread .dummyPage,.wy-content-pdf .pdfViewer.scrollHorizontal .page,.wy-content-pdf .pdfViewer.scrollWrapped .page,.wy-content-pdf .pdfViewer.scrollHorizontal .spread,.wy-content-pdf .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}.wy-content-pdf .spread .page,.wy-content-pdf .pdfViewer.scrollHorizontal .page,.wy-content-pdf .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}.wy-content-pdf .pdfViewer.removePageBorders .spread .page,.wy-content-pdf .pdfViewer.removePageBorders.scrollHorizontal .page,.wy-content-pdf .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}.wy-content-pdf .pdfViewer .page canvas{margin:0;display:block}.wy-content-pdf .pdfViewer .page canvas[hidden]{display:none}.wy-content-pdf .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0}.wy-content-pdf .pdfViewer .page .loadingIcon.notVisible{background:none}.wy-content-pdf .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important;cursor:not-allowed}.wy-content-pdf .pdfPresentationMode .pdfViewer{padding-bottom:0}.wy-content-pdf .pdfPresentationMode .spread{margin:0}.wy-content-pdf .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}.wy-content-pdf .pdfViewer .page{box-shadow:var(--wy-shadow-level2, 0 calc(.25 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.625 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12), 0 calc(.125 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem)) calc(-.0625 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2));background-color:var(--wy-white, var(, ))}.wy-content-text{word-break:break-word;white-space:pre-wrap}.wy-likes{display:inline-flex;align-items:center}.wy-like-button{background:var(--wy-component-background-color);color:var(--wy-primary);width:calc(2.5 * var(--wy-rem, 1rem));height:calc(2.5 * var(--wy-rem, 1rem))}.wy-like-count{padding:0 calc(.5 * var(--wy-rem, 1rem));color:var(--wy-outline);font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)))}.wy-reaction-count{margin:0 calc(.5 * var(--wy-rem, 1rem)) 0 calc(.125 * var(--wy-rem, 1rem));line-height:1;font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)))}.wy-reaction-menu{padding:calc(.25 * var(--wy-rem, 1rem));font-size:calc(1.125 * var(--wy-rem, 1rem));border-radius:calc(2.5 * var(--wy-rem, 1rem))}.wy-reaction-picker{display:flex}.wy-reaction-picker .wy-reaction-button{color:unset}.wy-reactions{display:inline-flex;align-items:center;column-gap:calc(.1875 * var(--wy-rem, 1rem))}.wy-reactions:empty{display:none}.wy-reactions-line{display:flex;align-items:center}:host(wy-reactions) .wy-emoji{width:calc(1.125 * var(--wy-rem, 1rem));height:calc(1.125 * var(--wy-rem, 1rem));font-size:calc(1.125 * var(--wy-rem, 1rem))}:host(wy-reactions) .wy-emoji:first-child{margin-left:calc(.1875 * var(--wy-rem, 1rem))}:host(wy-reactions) .wy-emoji:last-child{margin-right:calc(.1875 * var(--wy-rem, 1rem))}:host(wy-reactions[small]) .wy-reaction-lineup .wy-emoji,:host(wy-reactions[small]) .wy-reaction-like-button .wy-emoji{width:calc(1.125 * var(--wy-rem, 1rem));height:calc(1.125 * var(--wy-rem, 1rem));font-size:calc(1 * var(--wy-rem, 1rem))}:host(wy-reactions[small]) .wy-reaction-lineup .wy-emoji:first-child,:host(wy-reactions[small]) .wy-reaction-like-button .wy-emoji:first-child{margin-left:calc(.125 * var(--wy-rem, 1rem))}:host(wy-reactions[small]) .wy-reaction-lineup .wy-emoji:last-child,:host(wy-reactions[small]) .wy-reaction-like-button .wy-emoji:last-child{margin-right:calc(.125 * var(--wy-rem, 1rem))}:host(wy-reactions[small]) .wy-reaction-lineup .wy-like-count,:host(wy-reactions[small]) .wy-reaction-like-button .wy-like-count{font-size:var(--wy-font-size-xs, calc(.75 * var(--wy-font-size-base, 1em)))}.wy-table-reactions td:first-child{width:calc(3 * var(--wy-rem, 1rem))}.wy-table-reactions td:nth-child(2){width:100%}.wy-table-reactions tr:last-child td{box-shadow:none}.wy-reaction{font-size:calc(1.125 * var(--wy-rem, 1rem))}.wy-reaction-menu-button,.wy-like-button{background:var(--wy-component-background-color);color:currentColor;border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));background-clip:content-box}.wy-sheet{--wy-scrollbar-adjust-top: 0;--wy-scrollbar-adjust-bottom: 0;--wy-component-background-color: var(--wy-surface-3, var(--wy-surface-3-light, #e3e7ee));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);position:fixed;z-index:1055;display:flex;flex-direction:column;overflow:hidden;bottom:calc(.5 * var(--wy-rem, 1rem));left:calc(.5 * var(--wy-rem, 1rem));right:calc(.5 * var(--wy-rem, 1rem));max-height:max(50vh,50%);min-height:calc(3 * var(--wy-rem, 1rem));margin:calc(.5 * var(--wy-rem, 1rem)) auto;max-width:calc(32 * var(--wy-rem, 1rem));transition:opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level1, 0 calc(.125 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.1875 * var(--wy-rem, 1rem)) calc(.0625 * var(--wy-rem, 1rem)) calc(-.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12))}.wy-sheet>.wy-appbars,.wy-sheet>.wy-appbar{border-top-left-radius:inherit;border-top-right-radius:inherit}.wy-sheet-body{overflow:hidden;padding:calc(.5 * var(--wy-rem, 1rem));position:relative;min-height:calc(3 * var(--wy-rem, 1rem))}.wy-sheet-body.wy-scroll-y{overflow-y:auto}.wy-sheet:not(.wy-show){opacity:0;transform:translateY(calc(32 * var(--wy-rem, 1rem)))}.wy-sheet.wy-show{opacity:1;transform:none;transition:transform var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))),opacity var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));pointer-events:auto}.wy-spinner{align-self:center;justify-self:center;margin:auto}.wy-spinner circle{stroke-dasharray:1,100;stroke-dashoffset:0;transform-origin:center;fill:none!important}.wy-spinner.wy-spin{animation:wy-rotate 1.4s linear infinite}.wy-spinner.wy-spin circle{animation:wy-dash 1.4s ease-in-out infinite,wy-color 2.8s ease-in-out infinite}.wy-spinner.wy-spinner-overlay{position:absolute;left:0;right:0;top:0;bottom:0;margin:auto}@keyframes wy-rotate{to{transform:rotate(360deg)}}@keyframes wy-dash{0%{stroke-dasharray:1,100;stroke-dashoffset:0}50%{stroke-dasharray:44.5,100;stroke-dashoffset:-17.5}to{stroke-dasharray:44.5,100;stroke-dashoffset:-62}}@keyframes wy-color{0%,to{stroke:var(--wy-primary, var(--wy-primary-40, #006399))}25%{stroke:var(--wy-primary, var(--wy-primary-40, #006399))}50%{stroke:transparent}75%{stroke:var(--wy-primary, var(--wy-primary-40, #006399))}}.wy-toasts{position:fixed;left:0;bottom:calc(3.5 * var(--wy-rem, 1rem));right:0;pointer-events:none;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1030;gap:calc(1 * var(--wy-rem, 1rem))}.wy-toast{background:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));color:var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));margin:0 0 calc(1 * var(--wy-rem, 1rem));width:calc(16 * var(--wy-rem, 1rem));max-width:calc(100% - 3 * var(--wy-rem, 1rem));gap:calc(.5 * var(--wy-rem, 1rem));display:flex;cursor:pointer;border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));margin-left:auto;margin-right:auto;margin-bottom:calc(.5 * var(--wy-rem, 1rem));padding:calc(.5 * var(--wy-rem, 1rem)) calc(.75 * var(--wy-rem, 1rem));-webkit-user-select:none;user-select:none;box-shadow:var(--wy-shadow-level2, 0 calc(.25 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.625 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12), 0 calc(.125 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem)) calc(-.0625 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2));position:relative;overflow:hidden;height:auto}.wy-toast.wy-fade{transition:all var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)))}.wy-toast.wy-fade:not(.wy-show){opacity:0;height:0;padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;pointer-events:none}.wy-toast-action{position:sticky;top:calc(4.5 * var(--wy-rem, 1rem));bottom:calc(4.5 * var(--wy-rem, 1rem));z-index:990;background-color:var(--wy-primary, var(--wy-primary-40, #006399));color:var(--wy-on-primary, var(--wy-white, #ffffff));padding:calc(.5 * var(--wy-rem, 1rem)) calc(1 * var(--wy-rem, 1rem));border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));font-size:var(--wy-font-size-xs, calc(.75 * var(--wy-font-size-base, 1em)));width:max-content;align-self:center;text-align:center;box-shadow:none}.wy-toast-primary{background:var(--wy-on-primary-container, var(--wy-primary-10, #001d32));color:var(--wy-primary-container, var(--wy-primary-90, #cde5ff))}.wy-typing-show{font-style:italic;display:none}.wy-typing-active .wy-typing-show{display:block}.wy-typing-active .wy-typing-hide{display:none}.wy-appbar wy-typing{position:relative;padding:0 calc(1.25 * var(--wy-rem, 1rem));max-width:100%}.wy-placeholder{cursor:wait;color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));background:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));opacity:.5;animation:wy-placeholder-glow 2s ease-in-out infinite}@keyframes wy-placeholder-glow{50%{opacity:.2}}.wy-meeting{flex:1 1 100%;align-items:flex-start}.wy-meeting-actions{margin-top:calc(.5 * var(--wy-rem, 1rem))}.wy-dragging:after{content:attr(data-drag-title);background-color:#ffffff80;display:flex;justify-content:center;align-items:center;border:calc(.125 * var(--wy-rem, 1rem)) dashed var(--wy-primary, var(--wy-primary-40, #006399));font-weight:700;z-index:10000;position:absolute;top:0;left:0;bottom:0;right:0}.wy-message-editor-top{background-color:var(--wy-component-background-color);color:var(--wy-component-color)}@supports (position: sticky){.wy-message-editor-top{position:sticky;top:0;z-index:1020}}.wy-message-editor-bottom{background-color:var(--wy-component-background-color);color:var(--wy-component-color)}@supports (position: sticky){.wy-message-editor-bottom{position:sticky;bottom:0;z-index:1020}}.wy-message-form .wy-spinner{display:none}.wy-message-form.wy-uploading .wy-spinner{display:block}.wy-message-form.wy-uploading [data-icon=plus]{display:none}.wy-message-form .wy-picker-list:not(:empty){border-top:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-message-editor-inputs{display:flex;flex-direction:row;align-items:flex-end;padding:calc(.5 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem));min-height:calc(3.5 * var(--wy-rem, 1rem))}.wy-message-editor-inputs>:not(:last-child){margin-right:calc(.25 * var(--wy-rem, 1rem))}.wy-message-editor-buttons{flex:1 0 auto}.wy-message-editor-text{flex:1 1 100%;display:flex;flex-direction:column}.wy-message-editor-mention,.wy-message-editor-link{background:#00f;color:#fff}.wy-message-editor .cm-editor,.wy-message-editor-grow:after,.wy-message-editor-grow>textarea,.wy-message-editor-textfield{flex:1 1 100%;max-height:calc(11.25 * var(--wy-rem, 1rem));background-color:var(--wy-background, var(--wy-neutral-99, #fcfcff));color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));border-radius:calc(1.25 * var(--wy-rem, 1rem));border:var(--wy-input-border-width, 1px) solid var(--wy-background, var(--wy-neutral-99, #fcfcff))}.wy-message-editor .cm-editor:focus,.wy-message-editor-grow:focus:after,.wy-message-editor-grow>textarea:focus,.wy-message-editor-textfield:focus{border-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-message-editor .cm-editor .cm-content,.wy-message-editor-textcontent{font-family:var(--wy-input-font-family, var(--wy-font-family, inherit)), inherit;font-size:var(--wy-font-size-base, var(--wy-font-size, 1em));padding:var(--wy-input-padding-y, calc(.4375 * var(--wy-rem, 1rem))) var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem)));min-height:calc(calc(2.5 * var(--wy-rem, 1rem)) - var(--wy-input-border-width, 1px));line-height:calc(1.5 * var(--wy-rem, 1rem))}.wy-message-editor-grow{display:grid}.wy-message-editor-grow:after,.wy-message-editor-grow>textarea{grid-area:1/1/2/2}.wy-message-editor-grow:after{content:attr(data-replicated-value) " ";white-space:pre-wrap;visibility:hidden}.wy-message-editor-grow>textarea{resize:none;overflow:hidden}.wy-message-editor .cm-scroller{font-family:unset;line-height:1.5}.wy-message-editor .cm-widgetBuffer{vertical-align:unset}.wy-message-editor .cm-placeholder{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e))}.wy-message-editor .cm-content{caret-color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e))}.wy-message-editor .cm-editor.cm-focused{--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));color:var(--wy-component-color);border-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));outline:0}.wy-message-editor .cm-editor .cm-scroller{overflow:auto}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller{scrollbar-width:thin;scrollbar-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e)) transparent}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar{height:.625rem;width:.625rem;background:transparent;z-index:999}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar-track{background:transparent}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));border:.125rem solid transparent;border-radius:.5rem;background-clip:padding-box;opacity:75%}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb:hover{background-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));opacity:75%}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb:window-inactive{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));opacity:50%}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar-button:vertical:start:single-button{height:calc(.375 * var(--wy-rem, 1rem))}.wy-scrollbars .wy-message-editor .cm-editor .cm-scroller::-webkit-scrollbar-button:vertical:end:single-button{height:calc(.375 * var(--wy-rem, 1rem))}.wy-message-editor .wy-is-invalid+[data-editor-target] .cm-editor,.wy-message-editor .wy-is-invalid .cm-editor{border-color:var(--wy-error, var(--wy-error-40, #ba1824))!important}.wy-message-editor .cm-tooltip.cm-tooltip-autocomplete>ul{font-family:unset;max-height:calc(15 * var(--wy-rem, 1rem))}.wy-message-editor .cm-tooltip.cm-tooltip-autocomplete>ul>li{padding:0}.wy-message-editor .cm-tooltip{border:none;background-clip:padding-box;background-color:var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));color:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level1, 0 calc(.125 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.1875 * var(--wy-rem, 1rem)) calc(.0625 * var(--wy-rem, 1rem)) calc(-.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12));overflow:hidden;z-index:1000}.wy-message-editor .cm-tooltip-autocomplete ul li[aria-selected]{background:var(--wy-primary-container, var(--wy-primary-90, #cde5ff));color:unset}.wy-message-editor .cm-tooltip-autocomplete .cm-completionLabel{display:none}.wy-message-editor .cm-tooltip-autocomplete .wy-item-hover:hover,.wy-message-editor .cm-tooltip-autocomplete .wy-item-hover:focus{background:var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb))}.wy-message-editor .cm-tooltip-autocomplete .wy-avatar{width:calc(2 * var(--wy-rem, 1rem));height:calc(2 * var(--wy-rem, 1rem))}.wy-card{--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));--wy-component-border-radius: var(--wy-border-radius-lg, calc(1.5 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))));background-color:var(--wy-component-background-color);color:var(--wy-component-color);border-radius:var(--wy-component-border-radius);position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-clip:border-box}.wy-card>hr{margin-right:0;margin-left:0}.wy-card-primary{--wy-component-background-color: var(--wy-primary-container, var(--wy-primary-90, #cde5ff));--wy-component-color: var(--wy-on-primary-container, var(--wy-primary-10, #001d32))}.wy-card-hover{cursor:pointer;-webkit-user-select:none;user-select:none}.wy-card-hover:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;background:var(--wy-component-color);opacity:0%}.wy-card-hover:hover:before{opacity:var(--wy-opacity-state-hover, 8%)}.wy-card-hover:focus:before{opacity:var(--wy-opacity-state-focus, 12%)}.wy-card-hover:active:before,.wy-card-hover.wy-active:before{opacity:var(--wy-opacity-state-active, 12%)}.wy-card-actions{position:absolute;top:min(.25 * var(--wy-rem, 1rem),100% - 2.5 * var(--wy-rem, 1rem));right:calc(.25 * var(--wy-rem, 1rem));align-items:center;display:flex}.wy-card-actions>.wy-button-icon,.wy-card-actions>.wy-dropdown>.wy-button-icon{background-clip:content-box}.wy-card-content{flex:1 0 auto;padding-block-end:calc(.5 * var(--wy-rem, 1rem));padding-inline-start:calc(.5 * var(--wy-rem, 1rem));padding-inline-end:calc(.5 * var(--wy-rem, 1rem))}.wy-card-content:first-child,.wy-card-actions+.wy-card-content:nth-child(2){padding-block-start:calc(.5 * var(--wy-rem, 1rem))}.wy-card-top{border-radius:var(--wy-component-border-radius);object-fit:cover;object-position:top center;flex:1 1 100%;max-height:calc(10 * var(--wy-rem, 1rem))}.wy-card-top-image{object-position:50% 38%}.wy-card-trashed{text-decoration:line-through}.wy-card-trashed>*:not(.wy-card-actions){opacity:var(--wy-opacity-disabled, 38%)}.wy-truncated-text-and-icon{display:flex;align-items:center;gap:.25rem}.wy-truncated-text-and-icon :first-child{line-height:var(--wy-line-height, 1.5);flex:0 1 auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.wy-truncated-text-and-icon :last-child:not(:first-child){flex:0 0 auto;white-space:nowrap}.wy-filename{font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)))}.wy-filename .wy-truncated-text-and-icon{justify-content:center}.wy-files{width:100%;height:100%;position:relative;color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-background, var(--wy-neutral-99, #fcfcff));display:flex;flex-direction:column;flex:1;container-type:inline-size}@supports (position: sticky){wy-files-appbar{position:sticky;top:0;z-index:1020}}.wy-table-files thead{text-align:left;display:none}@container (inline-size >= 576px){.wy-table-files thead{display:table-header-group}}.wy-table-files tr>:nth-child(2){width:100%}.wy-table-files tr>:nth-child(2) td{padding:0 var(--wy-table-cell-padding-x, calc(.25 * var(--wy-rem, 1rem)))}.wy-table-files tr>:nth-child(3){display:none;width:calc(7 * var(--wy-rem, 1rem));overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@container (inline-size >= 768px){.wy-table-files tr>:nth-child(3){display:table-cell}}.wy-table-files tr>:nth-child(4){display:none;width:calc(7.5 * var(--wy-rem, 1rem));text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@container (inline-size >= 768px){.wy-table-files tr>:nth-child(4){display:table-cell}}.wy-table-files tr>:nth-child(5){display:none;width:calc(7 * var(--wy-rem, 1rem));text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@container (inline-size >= 576px){.wy-table-files tr>:nth-child(5){display:table-cell}}.wy-grid{display:grid;grid-auto-flow:dense;grid-template-columns:repeat(auto-fill,minmax(calc(10 * var(--wy-rem, 1rem)),1fr));grid-gap:calc(.75 * var(--wy-rem, 1rem))}.wy-sidebar{--wy-component-background-color: var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background:var(--wy-component-background-color);color:var(--wy-component-color);min-width:0;min-height:0;flex-grow:0;flex-shrink:0;flex-basis:calc(18 * var(--wy-rem, 1rem));z-index:10;display:flex;flex-direction:column;transition:flex-basis var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));position:relative;order:9999}.wy-sidebar>*{transition:opacity var(--wy-transition-fast, var(--wy-transition-duration-fast, .1s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))) calc(var(--wy-transition-duration, .2s) - var(--wy-transition-duration-fast, .1s));min-width:calc(18 * var(--wy-rem, 1rem))}.wy-sidebar[hidden]{display:flex!important;flex-basis:0}.wy-sidebar[hidden]>*{transition:opacity var(--wy-transition-fast, var(--wy-transition-duration-fast, .1s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));opacity:0}@media (min-width: 768px){.wy-sidebar>*{min-width:calc(18 * var(--wy-rem, 1rem))}.wy-sidebar .wy-sidebar-handle{display:none}}@media (max-width: 767.98px){.wy-sidebar{transition:flex-basis var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1))),margin-top var(--wy-transition, var(--wy-transition-duration, .2s) var(--wy-transition-curve, cubic-bezier(.4, 0, .2, 1)));border-top-left-radius:var(--wy-border-radius-lg, calc(1.5 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))));border-top-right-radius:var(--wy-border-radius-lg, calc(1.5 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))));flex-basis:50vh}.wy-sidebar:not([hidden]){margin-top:calc(-1 * var(--wy-border-radius-lg, calc(1.5 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem))))))}.wy-sidebar:not([hidden]).wy-maximized{flex-basis:calc(100% - var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem))) * .5);margin-top:calc(-50% + var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem))) * 2.5 - var(--wy-border-radius-lg, calc(1.5 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem))))))}.wy-sidebar:not([hidden]).wy-maximized~* .wy-nav-prev,.wy-sidebar:not([hidden]).wy-maximized~* .wy-nav-next{display:none}.wy-sidebar>*{min-height:var(--wy-appbar-height, calc(3 * var(--wy-rem, 1rem)))}}.wy-sidebar-handle{width:calc(4 * var(--wy-rem, 1rem));background-clip:content-box;background-color:var(--wy-on-surface-variant, var(--wy-neutral-variant-30, #42474e));height:calc(1 * var(--wy-rem, 1rem));border:calc(.375 * var(--wy-rem, 1rem)) solid transparent;position:absolute;top:0;z-index:2;left:50%;margin-left:calc(-2 * var(--wy-rem, 1rem));border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));cursor:pointer}.wy-table{--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));--wy-component-background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));color:var(--wy-component-color);background-color:var(--wy-component-background-color);table-layout:fixed;width:100%;vertical-align:top;border-collapse:collapse}.wy-table th,.wy-table td{padding:var(--wy-table-cell-padding-y, calc(.25 * var(--wy-rem, 1rem))) var(--wy-table-cell-padding-x, calc(.25 * var(--wy-rem, 1rem)));box-shadow:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce)) 0 -1px 0 0 inset;line-height:1;vertical-align:middle;height:calc(2.5 * var(--wy-rem, 1rem))}.wy-table th:first-child,.wy-table td:first-child{padding-left:calc(var(--wy-table-cell-padding-x, calc(.25 * var(--wy-rem, 1rem))) * 2)}.wy-table th:last-child,.wy-table td:last-child{padding-right:calc(var(--wy-table-cell-padding-x, calc(.25 * var(--wy-rem, 1rem))) * 2)}.wy-table>tbody{vertical-align:inherit}.wy-table>thead{vertical-align:bottom}.wy-table .wy-table-cell-icon{color:var(--wy-component-color);vertical-align:middle;text-align:center;padding:calc(var(--wy-table-cell-padding-y, calc(.25 * var(--wy-rem, 1rem))) * .5) var(--wy-table-cell-padding-x, calc(.25 * var(--wy-rem, 1rem)));width:calc(calc(2.5 * var(--wy-rem, 1rem)) + var(--wy-table-cell-padding-x, calc(.25 * var(--wy-rem, 1rem))) * 2);font-size:var(--wy-font-size-base, var(--wy-font-size, 1em));font-weight:var(--wy-font-weight-base, );text-transform:none;letter-spacing:normal}.wy-table .wy-table-cell-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.wy-table-hover>tbody>tr:not(.wy-pager):hover>*{--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));--wy-component-background-color: var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));color:var(--color);background-color:var(--wy-component-background-color);cursor:pointer}.wy-table-trashed th,.wy-table-trashed td{text-decoration:line-through}.wy-table-trashed th:not(:last-child)>*,.wy-table-trashed td:not(:last-child)>*{opacity:var(--wy-opacity-disabled, 38%)}.wy-table-trashed th>a,.wy-table-trashed td>a{color:var(--wy-component-color)}.wy-table-trashed:hover th,.wy-table-trashed:hover td{opacity:1}.wy-table-no-result{text-align:center;padding:calc(1 * var(--wy-rem, 1rem))}.wy-table-sort-link{display:inline-flex;align-items:center;color:var(--wy-link, var(--wy-primary-40, #006399));cursor:pointer}.wy-posts{display:flex;flex-direction:column;gap:calc(1 * var(--wy-rem, 1rem))}.wy-post{--wy-component-background-color: var(--wy-surface-1, var(--wy-surface-1-light, #f1f2f7));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);display:flex;flex-direction:column;position:relative;--wy-component-border-radius: var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));border-radius:var(--wy-component-border-radius)}.wy-post .wy-image-grid{border-radius:0;margin-bottom:calc(1 * var(--wy-rem, 1rem))}.wy-post .wy-embed{margin-bottom:calc(1 * var(--wy-rem, 1rem))}.wy-post .wy-comments{margin:calc(.5 * var(--wy-rem, 1rem)) calc(.75 * var(--wy-rem, 1rem));border-top:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));padding:calc(.75 * var(--wy-rem, 1rem)) 0 0}.wy-post-body{padding:0 calc(1 * var(--wy-rem, 1rem))}.wy-post-body:empty{display:none}.wy-post-body .wy-content,.wy-post-body .wy-list,.wy-post-body .wy-poll{margin-bottom:calc(1 * var(--wy-rem, 1rem))}.wy-post-footer{display:flex;align-items:center;justify-content:space-between;margin:0 calc(.25 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem))}.wy-post-footer .wy-meta{margin-right:calc(.5 * var(--wy-rem, 1rem))}.wy-post-dragging:after{content:attr(data-drag-title,"Drop files here to upload.");background-color:#ffffff80;display:flex;justify-content:center;align-items:center;border:calc(.125 * var(--wy-rem, 1rem)) dashed var(--wy-primary, var(--wy-primary-40, #006399));font-weight:700;z-index:10000;position:absolute;top:0;left:0;bottom:0;right:0}.wy-poll{flex:1 1 100%;min-width:0}.wy-poll-form{background:var(--wy-component-background-color);color:var(--wy-component-color);padding:calc(.5 * var(--wy-rem, 1rem))}.wy-poll-form:empty{display:none}.wy-poll-form input:not(:first-child){margin-top:calc(.5 * var(--wy-rem, 1rem))}.wy-poll-option{overflow:hidden;position:relative;background-color:var(--wy-background, var(--wy-neutral-99, #fcfcff));border:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));border-radius:var(--wy-border-radius-sm, calc(.75 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))));margin-bottom:calc(.25 * var(--wy-rem, 1rem));padding:calc(.25 * var(--wy-rem, 1rem)) calc(.5 * var(--wy-rem, 1rem));min-height:calc(2.5 * var(--wy-rem, 1rem));cursor:pointer}.wy-poll-option .wy-progress{position:absolute;top:0;left:0;bottom:0;background-color:var(--wy-surface-5, var(--wy-surface-5-light, #dce2ea))}.wy-poll-option>:not(.wy-progress){z-index:1}.wy-embed{display:flex;flex-direction:column;word-wrap:break-word}.wy-embed-photo a{display:flex}.wy-embed-photo img{width:100%;height:auto}.wy-embed-photo-sm a{padding:0 calc(1 * var(--wy-rem, 1rem))}.wy-embed-photo-sm img{display:block;margin:0 auto;width:auto;max-width:100%;border-radius:var(--wy-border-radius-sm, calc(.75 * var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))))}.wy-embed-video{position:relative;display:block;width:100%;padding:0;overflow:hidden}.wy-embed-video:before{display:block;content:"";padding-top:56.25%}.wy-embed-video iframe,.wy-embed-video embed,.wy-embed-video object,.wy-embed-video video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.wy-embed-caption{--wy-component-background-color: var(--wy-surface-3, var(--wy-surface-3-light, #e3e7ee));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));background-color:var(--wy-component-background-color);color:var(--wy-component-color);padding:calc(.5 * var(--wy-rem, 1rem)) calc(1 * var(--wy-rem, 1rem)) calc(1 * var(--wy-rem, 1rem));position:relative}.wy-embed-link{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));text-transform:uppercase;font-size:var(--wy-font-size-sm, calc(.875 * var(--wy-font-size-base, 1em)))}.wy-embed-link:after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:""}.wy-embed-title{font-weight:var(--wy-headings-font-weight, 500);margin-bottom:calc(.5 * var(--wy-rem, 1rem))}.wy-embed-description{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e))}.wy-embed-preview a[target=_blank]{pointer-events:none}.wy-embed-preview .wy-embed{display:none;margin:calc(.75 * var(--wy-rem, 1rem));border:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))}.wy-embed-preview .wy-embed:first-child{display:block}.wy-embed-preview .wy-embed-caption{border-bottom-left-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));border-bottom-right-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)))}.wy-embed-preview .wy-embed-actions{display:flex}.wy-embed-actions{display:none;justify-content:space-between;padding:calc(.5 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem))}.wy-embed-cycle{visibility:hidden}.wy-embed-show-cycle .wy-embed-cycle{visibility:visible}.wy-post-editor{padding:calc(.75 * var(--wy-rem, 1rem))}.wy-post-editor.wy-uploading .wy-icon-active-stack>:first-child{opacity:0}.wy-post-editor.wy-uploading .wy-icon-active-stack>:last-child{opacity:1}.wy-post-editor .wy-picker-list:not(:empty){margin-top:calc(.75 * var(--wy-rem, 1rem));border-top:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-post-editor-inputs{display:flex;flex-direction:row;align-items:flex-end;min-height:calc(3.5 * var(--wy-rem, 1rem));flex-wrap:wrap}.wy-post-editor-inputs>:not(:last-child){margin-right:calc(.25 * var(--wy-rem, 1rem))}.wy-post-editor-inputs>:last-child{margin-left:auto}.wy-post-editor-buttons{flex:1 0 auto}.wy-post-editor-text{flex:1 1 100%;display:flex;flex-direction:column}.wy-post-editor-mention,.wy-post-editor-link{background:#00f;color:#fff}.wy-post-editor .cm-editor,.wy-post-editor-grow:after,.wy-post-editor-grow>textarea,.wy-post-editor-textfield{flex:1 1 100%;max-height:calc(11.25 * var(--wy-rem, 1rem));min-height:calc(4 * var(--wy-rem, 1rem));background-color:var(--wy-background, var(--wy-neutral-99, #fcfcff));color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));border:var(--wy-input-border-width, 1px) solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));caret-color:var(--wy-primary, var(--wy-primary-40, #006399))}.wy-post-editor .cm-editor:focus,.wy-post-editor-grow:focus:after,.wy-post-editor-grow>textarea:focus,.wy-post-editor-textfield:focus{border-color:var(--wy-primary, var(--wy-primary-40, #006399))}.wy-post-editor .cm-editor .cm-content,.wy-post-editor-textcontent{font-family:var(--wy-input-font-family, var(--wy-font-family, inherit)),inherit;font-size:var(--wy-input-font-size, var(--wy-font-size-base, 1em));padding:var(--wy-input-padding-y, calc(.4375 * var(--wy-rem, 1rem))) var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem)))}.wy-post-editor-grow{display:grid}.wy-post-editor-grow:after,.wy-post-editor-grow>textarea{grid-area:1/1/2/2}.wy-post-editor-grow:after{content:attr(data-replicated-value) " ";white-space:pre-wrap;visibility:hidden}.wy-post-editor-grow>textarea{resize:none;overflow:hidden}.wy-post-editor .cm-scroller{font-family:unset;line-height:1.5}.wy-post-editor .cm-widgetBuffer{vertical-align:unset}.wy-post-editor .cm-placeholder{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e))}.wy-post-editor .cm-content{caret-color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e))}.wy-post-editor .cm-editor.cm-focused{--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));color:var(--wy-component-color);border-color:var(--wy-primary, var(--wy-primary-40, #006399));outline:0}.wy-post-editor .cm-editor .cm-scroller{overflow:auto}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller{scrollbar-width:thin;scrollbar-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e)) transparent}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar{height:.625rem;width:.625rem;background:transparent;z-index:999}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar-track{background:transparent}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));border:.125rem solid transparent;border-radius:.5rem;background-clip:padding-box;opacity:75%}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb:hover{background-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));opacity:75%}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb:window-inactive{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));opacity:50%}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar-button:vertical:start:single-button{height:calc(.375 * var(--wy-rem, 1rem))}.wy-scrollbars .wy-post-editor .cm-editor .cm-scroller::-webkit-scrollbar-button:vertical:end:single-button{height:calc(.375 * var(--wy-rem, 1rem))}.wy-post-editor .wy-is-invalid+[data-editor-target] .cm-editor,.wy-post-editor .wy-is-invalid .cm-editor{border-color:var(--wy-error, var(--wy-error-40, #ba1824))!important}.wy-post-editor .cm-tooltip.cm-tooltip-autocomplete>ul{font-family:unset;max-height:calc(15 * var(--wy-rem, 1rem))}.wy-post-editor .cm-tooltip.cm-tooltip-autocomplete>ul>li{padding:0}.wy-post-editor .cm-tooltip{border:none;background-clip:padding-box;background-color:var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));color:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level1, 0 calc(.125 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.1875 * var(--wy-rem, 1rem)) calc(.0625 * var(--wy-rem, 1rem)) calc(-.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12));overflow:hidden;z-index:1000}.wy-post-editor .cm-tooltip-autocomplete ul li[aria-selected]{background:var(--wy-primary-container, var(--wy-primary-90, #cde5ff));color:unset}.wy-post-editor .cm-tooltip-autocomplete .cm-completionLabel{display:none}.wy-post-editor .cm-tooltip-autocomplete .wy-item-hover:hover,.wy-post-editor .cm-tooltip-autocomplete .wy-item-hover:focus{background:var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb))}.wy-post-editor .cm-tooltip-autocomplete .wy-avatar{width:calc(2 * var(--wy-rem, 1rem));height:calc(2 * var(--wy-rem, 1rem))}.wy-comments{padding:calc(.5 * var(--wy-rem, 1rem)) calc(.75 * var(--wy-rem, 1rem)) 0 calc(.75 * var(--wy-rem, 1rem));display:flex;flex-direction:column;gap:calc(1.25 * var(--wy-rem, 1rem))}:host-context(wy-comments) .wy-comments{padding:0}.wy-comments-count{padding:0 calc(.5 * var(--wy-rem, 1rem));overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wy-comment{--wy-component-background-color: var(--wy-surface-3, var(--wy-surface-3-light, #e3e7ee));--wy-component-color: var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));--wy-component-border-radius: var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));border-radius:var(--wy-component-border-radius);background-color:var(--wy-component-background-color);color:var(--wy-component-color);display:flex;flex-direction:column;gap:calc(.25 * var(--wy-rem, 1rem));padding:calc(.25 * var(--wy-rem, 1rem));position:relative}.wy-comment .wy-item{padding-inline:calc(.5 * var(--wy-rem, 1rem))}.wy-comment .wy-item>.wy-avatar,.wy-comment .wy-item>wy-icon,.wy-comment .wy-item>.wy-icon-stack{margin-left:calc(-.25 * var(--wy-rem, 1rem))}.wy-comment .wy-reactions-line{position:absolute;bottom:calc(-1.125 * var(--wy-rem, 1rem));right:calc(.25 * var(--wy-rem, 1rem))}.wy-comment .wy-item-actions-top{top:0;right:0}.wy-comment-body{flex:1 0 auto;z-index:1}.wy-comment-body .wy-image-grid,.wy-comment-body .wy-embed,.wy-comment-body .wy-content,.wy-comment-body .wy-list,.wy-comment-body .wy-poll{margin-bottom:calc(1 * var(--wy-rem, 1rem))}.wy-comment-body .wy-image-grid:last-child,.wy-comment-body .wy-embed:last-child,.wy-comment-body .wy-content:last-child,.wy-comment-body .wy-list:last-child,.wy-comment-body .wy-poll:last-child{margin-bottom:0}.wy-comment-content{padding:0 calc(.5 * var(--wy-rem, 1rem)) calc(.5 * var(--wy-rem, 1rem));display:flex;flex-direction:column}.wy-comment-editor .wy-spinner{display:none}.wy-comment-editor.wy-uploading .wy-spinner{display:block}.wy-comment-editor.wy-uploading [data-icon=plus]{display:none}.wy-comment-editor .wy-picker-list:not(:empty){border-top:1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-comment-editor-bottom{position:sticky;bottom:0;z-index:999;background-color:var(--wy-component-background-color);color:var(--wy-component-color)}.wy-comment-editor-inputs{display:flex;flex-direction:row;align-items:flex-end;padding:calc(.5 * var(--wy-rem, 1rem)) calc(.25 * var(--wy-rem, 1rem));min-height:calc(3.5 * var(--wy-rem, 1rem))}.wy-comment-editor-inputs>:not(:last-child){margin-right:calc(.25 * var(--wy-rem, 1rem))}.wy-comment-editor-buttons{flex:1 0 auto}.wy-comment-editor-text{flex:1 1 100%;display:flex;flex-direction:column}.wy-comment-editor-mention,.wy-comment-editor-link{background:#00f;color:#fff}.wy-comment-editor .cm-editor,.wy-comment-editor-grow:after,.wy-comment-editor-grow>textarea,.wy-comment-editor-textfield{flex:1 1 100%;max-height:calc(11.25 * var(--wy-rem, 1rem));background-color:var(--wy-background, var(--wy-neutral-99, #fcfcff));color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));border-radius:calc(1.25 * var(--wy-rem, 1rem));border:var(--wy-input-border-width, 1px) solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce))}.wy-comment-editor .cm-editor:focus,.wy-comment-editor-grow:focus:after,.wy-comment-editor-grow>textarea:focus,.wy-comment-editor-textfield:focus{border-color:var(--wy-primary, var(--wy-primary-40, #006399))}.wy-comment-editor .cm-editor .cm-content,.wy-comment-editor-textcontent{font-family:var(--wy-input-font-family, var(--wy-font-family, inherit)),inherit;font-size:var(--wy-input-font-size, var(--wy-font-size-base, 1em));padding:var(--wy-input-padding-y, calc(.4375 * var(--wy-rem, 1rem))) var(--wy-input-padding-x, calc(.75 * var(--wy-rem, 1rem)))}.wy-comment-editor-grow{display:grid}.wy-comment-editor-grow:after,.wy-comment-editor-grow>textarea{grid-area:1/1/2/2}.wy-comment-editor-grow:after{content:attr(data-replicated-value) " ";white-space:pre-wrap;visibility:hidden}.wy-comment-editor-grow>textarea{resize:none;overflow:hidden}.wy-comment-editor{position:relative}.wy-comment-editor .cm-scroller{font-family:unset;line-height:1.5}.wy-comment-editor .cm-widgetBuffer{vertical-align:unset}.wy-comment-editor .cm-placeholder{color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e))}.wy-comment-editor .cm-content{caret-color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e))}.wy-comment-editor .cm-editor.cm-focused{--wy-component-color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));color:var(--wy-component-color);border-color:var(--wy-primary, var(--wy-primary-40, #006399));outline:0}.wy-comment-editor .cm-editor .cm-scroller{overflow:auto}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller{scrollbar-width:thin;scrollbar-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e)) transparent}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar{height:.625rem;width:.625rem;background:transparent;z-index:999}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar-track{background:transparent}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));border:.125rem solid transparent;border-radius:.5rem;background-clip:padding-box;opacity:75%}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb:hover{background-color:var(--wy-outline-variant, var(--wy-neutral-variant-80, #c2c7ce));opacity:75%}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar-thumb:window-inactive{background-color:var(--wy-outline, var(--wy-neutral-variant-50, #72777e));opacity:50%}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar-button:vertical:start:single-button{height:calc(.375 * var(--wy-rem, 1rem))}.wy-scrollbars .wy-comment-editor .cm-editor .cm-scroller::-webkit-scrollbar-button:vertical:end:single-button{height:calc(.375 * var(--wy-rem, 1rem))}.wy-comment-editor .wy-is-invalid+.cm-editor,.wy-comment-editor .wy-is-invalid .cm-editor{border-color:var(--wy-error, var(--wy-error-40, #ba1824))!important}.wy-comment-editor .cm-tooltip.cm-tooltip-autocomplete>ul{font-family:unset;max-height:calc(15 * var(--wy-rem, 1rem))}.wy-comment-editor .cm-tooltip.cm-tooltip-autocomplete>ul>li{padding:0}.wy-comment-editor .cm-tooltip{border:none;background-clip:padding-box;background-color:var(--wy-surface-2, var(--wy-surface-2-light, #eaedf3));color:var(--wy-on-surface, var(--wy-neutral-10, #1a1c1e));border-radius:var(--wy-border-radius, calc(.5 * var(--wy-rem, 1rem)));box-shadow:var(--wy-shadow-level1, 0 calc(.125 * var(--wy-rem, 1rem)) calc(.125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .14), 0 calc(.1875 * var(--wy-rem, 1rem)) calc(.0625 * var(--wy-rem, 1rem)) calc(-.125 * var(--wy-rem, 1rem)) rgba(0, 0, 0, .2), 0 calc(.0625 * var(--wy-rem, 1rem)) calc(.3125 * var(--wy-rem, 1rem)) 0 rgba(0, 0, 0, .12));overflow:hidden;z-index:1000}.wy-comment-editor .cm-tooltip-autocomplete ul li[aria-selected]{background:var(--wy-primary-container, var(--wy-primary-90, #cde5ff));color:unset}.wy-comment-editor .cm-tooltip-autocomplete .cm-completionLabel{display:none}.wy-comment-editor .cm-tooltip-autocomplete .wy-item-hover:hover,.wy-comment-editor .cm-tooltip-autocomplete .wy-item-hover:focus{background:var(--wy-surface-variant, var(--wy-neutral-variant-90, #dee3eb))}.wy-comment-editor .cm-tooltip-autocomplete .wy-avatar{width:calc(2 * var(--wy-rem, 1rem));height:calc(2 * var(--wy-rem, 1rem))}.wy-badge{display:inline-block;padding:.35em .65em;font-size:.75em;font-weight:var(--wy-font-weight-bold, );line-height:1;color:var(--wy-on-primary, var(--wy-white, #ffffff));text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:var(--wy-border-radius-pill, calc(50 * var(--wy-rem, 1rem)));background-color:var(--wy-primary, var(--wy-primary-40, #006399))}.wy-badge:empty{display:none}.wy-button{position:relative}.wy-button .wy-badge{font-size:var(--wy-font-size-xs, calc(.75 * var(--wy-font-size-base, 1em)));position:absolute;right:0;top:0;border-radius:calc(1 * var(--wy-rem, 1rem));margin:0;padding:calc(.25 * var(--wy-rem, 1rem));min-width:calc(1 * var(--wy-rem, 1rem));max-width:calc(2 * var(--wy-rem, 1rem));height:calc(1 * var(--wy-rem, 1rem));line-height:calc(.5 * var(--wy-rem, 1rem));display:block;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wy-button .wy-badge:empty{display:none}.wy-conversations{position:relative}.wy-conversation{display:flex;position:relative}.wy-conversation .wy-item-title{font-weight:400}.wy-conversation.wy-unread .wy-item-title{font-weight:700}.wy-conversation.wy-unread .wy-item-text,.wy-conversation.wy-unread .wy-meta{color:var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));font-weight:600}.wy-conversation .wy-item-text .wy-typing-show{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400}.wy-messenger-conversation{---background-color: var(--wy-background, var(--wy-neutral-99, #fcfcff));---color: var(--wy-on-background, var(--wy-neutral-10, #1a1c1e));background-color:var(---background-color);color:var(---color);overflow-anchor:none;display:flex;flex-direction:column;flex:1 0 min-content;height:100%;width:100%;min-height:0;min-width:0}`, ke = Qs(Ab);
var Lb = "M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M1,10V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z", Mb = "M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z", Ob = "M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z", Ib = "M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z", Tb = "M13 13H11V7H13M11 15H13V17H11M15.73 3H8.27L3 8.27V15.73L8.27 21H15.73L21 15.73V8.27L15.73 3Z", Cy = "M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z", Rb = "M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z", jw = "M7.5,18A5.5,5.5 0 0,1 2,12.5A5.5,5.5 0 0,1 7.5,7H18A4,4 0 0,1 22,11A4,4 0 0,1 18,15H9.5A2.5,2.5 0 0,1 7,12.5A2.5,2.5 0 0,1 9.5,10H17V11.5H9.5A1,1 0 0,0 8.5,12.5A1,1 0 0,0 9.5,13.5H18A2.5,2.5 0 0,0 20.5,11A2.5,2.5 0 0,0 18,8.5H7.5A4,4 0 0,0 3.5,12.5A4,4 0 0,0 7.5,16.5H17V18H7.5Z", Db = "M12,3A9,9 0 0,0 3,12H0L4,16L8,12H5A7,7 0 0,1 12,5A7,7 0 0,1 19,12A7,7 0 0,1 12,19C10.5,19 9.09,18.5 7.94,17.7L6.5,19.14C8.04,20.3 9.94,21 12,21A9,9 0 0,0 21,12A9,9 0 0,0 12,3M14,12A2,2 0 0,0 12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12Z", Uw = "M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21", Ww = "M20.84,22.73L18.11,20H3V19L5,17V11C5,9.86 5.29,8.73 5.83,7.72L1.11,3L2.39,1.73L22.11,21.46L20.84,22.73M19,15.8V11C19,7.9 16.97,5.17 14,4.29C14,4.19 14,4.1 14,4A2,2 0 0,0 12,2A2,2 0 0,0 10,4C10,4.1 10,4.19 10,4.29C9.39,4.47 8.8,4.74 8.26,5.09L19,15.8M12,23A2,2 0 0,0 14,21H10A2,2 0 0,0 12,23Z", Fb = "M15.39,14.04V14.04C15.39,12.62 14.24,11.47 12.82,11.47C11.41,11.47 10.26,12.62 10.26,14.04V14.04C10.26,15.45 11.41,16.6 12.82,16.6C14.24,16.6 15.39,15.45 15.39,14.04M17.1,14.04C17.1,16.4 15.18,18.31 12.82,18.31C11.19,18.31 9.77,17.39 9.05,16.04C8.33,17.39 6.91,18.31 5.28,18.31C2.94,18.31 1.04,16.43 1,14.11V14.11H1V7H1V7C1,6.56 1.39,6.18 1.86,6.18C2.33,6.18 2.7,6.56 2.71,7V7H2.71V10.62C3.43,10.08 4.32,9.76 5.28,9.76C6.91,9.76 8.33,10.68 9.05,12.03C9.77,10.68 11.19,9.76 12.82,9.76C15.18,9.76 17.1,11.68 17.1,14.04V14.04M7.84,14.04V14.04C7.84,12.62 6.69,11.47 5.28,11.47C3.86,11.47 2.71,12.62 2.71,14.04V14.04C2.71,15.45 3.86,16.6 5.28,16.6C6.69,16.6 7.84,15.45 7.84,14.04M22.84,16.96V16.96C22.95,17.12 23,17.3 23,17.47C23,17.73 22.88,18 22.66,18.15C22.5,18.26 22.33,18.32 22.15,18.32C21.9,18.32 21.65,18.21 21.5,18L19.59,15.47L17.7,18V18C17.53,18.21 17.28,18.32 17.03,18.32C16.85,18.32 16.67,18.26 16.5,18.15C16.29,18 16.17,17.72 16.17,17.46C16.17,17.29 16.23,17.11 16.33,16.96V16.96H16.33V16.96L18.5,14.04L16.33,11.11V11.11H16.33V11.11C16.22,10.96 16.17,10.79 16.17,10.61C16.17,10.35 16.29,10.1 16.5,9.93C16.89,9.65 17.41,9.72 17.7,10.09V10.09L19.59,12.61L21.5,10.09C21.76,9.72 22.29,9.65 22.66,9.93C22.89,10.1 23,10.36 23,10.63C23,10.8 22.95,10.97 22.84,11.11V11.11H22.84V11.11L20.66,14.04L22.84,16.96V16.96H22.84Z", zb = "M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M9 17H7V10H9V17M13 17H11V7H13V17M17 17H15V13H17V17Z", $y = "M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z", Vb = "M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z", Nb = "M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20M16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z", Bb = "M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z", Hb = "M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z", jb = "M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z", Ub = "M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z", Wb = "M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z", qb = "M6.5 20Q4.22 20 2.61 18.43 1 16.85 1 14.58 1 12.63 2.17 11.1 3.35 9.57 5.25 9.15 5.88 6.85 7.75 5.43 9.63 4 12 4 14.93 4 16.96 6.04 19 8.07 19 11 20.73 11.2 21.86 12.5 23 13.78 23 15.5 23 17.38 21.69 18.69 20.38 20 18.5 20Z", Qb = "M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z", Kb = "M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9M10,16V19.08L13.08,16H20V4H4V16H10Z", Zb = "M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z", Yb = "M13,19A1,1 0 0,0 14,20H16V22H13.5C12.95,22 12,21.55 12,21C12,21.55 11.05,22 10.5,22H8V20H10A1,1 0 0,0 11,19V5A1,1 0 0,0 10,4H8V2H10.5C11.05,2 12,2.45 12,3C12,2.45 12.95,2 13.5,2H16V4H14A1,1 0 0,0 13,5V19Z", qw = "M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z", Qw = "M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8.46,11.88L9.87,10.47L12,12.59L14.12,10.47L15.53,11.88L13.41,14L15.53,16.12L14.12,17.53L12,15.41L9.88,17.53L8.47,16.12L10.59,14L8.46,11.88M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z", Gb = "M14,14H16L12,10L8,14H10V18H14V14M6,7H18V19C18,19.5 17.8,20 17.39,20.39C17,20.8 16.5,21 16,21H8C7.5,21 7,20.8 6.61,20.39C6.2,20 6,19.5 6,19V7M19,4V6H5V4H8.5L9.5,3H14.5L15.5,4H19Z", Xb = "M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z", Jb = "M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z", e1 = "M3 6.2L8 9.39L13 6.2L8 3L3 6.2M13 6.2L18 9.39L23 6.2L18 3L13 6.2M3 12.55L8 15.74L13 12.55L8 9.35L3 12.55M18 9.35L13 12.55L18 15.74L23 12.55L18 9.35M8.03 16.8L13.04 20L18.04 16.8L13.04 13.61L8.03 16.8Z", t1 = "M17.9,17.39C17.64,16.59 16.89,16 16,16H15V13A1,1 0 0,0 14,12H8V10H10A1,1 0 0,0 11,9V7H13A2,2 0 0,0 15,5V4.59C17.93,5.77 20,8.64 20,12C20,14.08 19.2,15.97 17.9,17.39M11,19.93C7.05,19.44 4,16.08 4,12C4,11.38 4.08,10.78 4.21,10.21L9,15V16A2,2 0 0,0 11,18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z", r1 = "M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z", i1 = "M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z", Ey = "M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M6.12,15.5L9.86,19.24L11.28,17.83L8.95,15.5L11.28,13.17L9.86,11.76L6.12,15.5M17.28,15.5L13.54,11.76L12.12,13.17L14.45,15.5L12.12,17.83L13.54,19.24L17.28,15.5Z", Sy = "M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z", n1 = "M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M15.8,20H14L12,16.6L10,20H8.2L11.1,15.5L8.2,11H10L12,14.4L14,11H15.8L12.9,15.5L15.8,20M13,9V3.5L18.5,9H13Z", o1 = "M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M6,20H15L18,20V12L14,16L12,14L6,20M8,9A2,2 0 0,0 6,11A2,2 0 0,0 8,13A2,2 0 0,0 10,11A2,2 0 0,0 8,9Z", a1 = "M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M13,13H11V18A2,2 0 0,1 9,20A2,2 0 0,1 7,18A2,2 0 0,1 9,16C9.4,16 9.7,16.1 10,16.3V11H13V13M13,9V3.5L18.5,9H13Z", s1 = "M12.6,12.3H10.6V15.5H12.7C13.3,15.5 13.6,15.3 13.9,15C14.2,14.7 14.3,14.4 14.3,13.9C14.3,13.4 14.2,13.1 13.9,12.8C13.6,12.5 13.2,12.3 12.6,12.3M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M15.2,16C14.6,16.5 14.1,16.7 12.8,16.7H10.6V20H9V11H12.8C14.1,11 14.7,11.3 15.2,11.8C15.8,12.4 16,13 16,13.9C16,14.8 15.8,15.5 15.2,16M13,9V3.5L18.5,9H13Z", c1 = "M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M13.5,16V19H10.5V16H8L12,12L16,16H13.5M13,9V3.5L18.5,9H13Z", l1 = "M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M17,19V13L14,15.2V13H7V19H14V16.8L17,19Z", d1 = "M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M15.2,20H13.8L12,13.2L10.2,20H8.8L6.6,11H8.1L9.5,17.8L11.3,11H12.6L14.4,17.8L15.8,11H17.3L15.2,20M13,9V3.5L18.5,9H13Z", u1 = "M20,2H4C2.89,2 2,2.89 2,4V20C2,21.11 2.89,22 4,22H20C21.11,22 22,21.11 22,20V4C22,2.89 21.11,2 20,2M12,4L15,7H13V9H11V7H9M7,15L4,12L7,9V11H9V13H7M12,20L9,17H11V15H13V17H15M17,15V13H15V11H17V9L20,12", h1 = "M17 4H20C21.1 4 22 4.9 22 6V8H20V6H17V4M4 8V6H7V4H4C2.9 4 2 4.9 2 6V8H4M20 16V18H17V20H20C21.1 20 22 19.1 22 18V16H20M7 18H4V16H2V18C2 19.1 2.9 20 4 20H7V18M18 8H6V16H18V8Z", y1 = "M20 6H12L10 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6M18 12H16V14H18V16H16V18H14V16H16V14H14V12H16V10H14V8H16V10H18V12Z", p1 = "M17,7H22V17H17V19A1,1 0 0,0 18,20H20V22H17.5C16.95,22 16,21.55 16,21C16,21.55 15.05,22 14.5,22H12V20H14A1,1 0 0,0 15,19V5A1,1 0 0,0 14,4H12V2H14.5C15.05,2 16,2.45 16,3C16,2.45 16.95,2 17.5,2H20V4H18A1,1 0 0,0 17,5V7M2,7H13V9H4V15H13V17H2V7M20,15V9H17V15H20Z", w1 = "M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z", f1 = "M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z", m1 = "M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3", v1 = "M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z", g1 = "M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z", b1 = "M17,17H7V7H17M21,11V9H19V7C19,5.89 18.1,5 17,5H15V3H13V5H11V3H9V5H7C5.89,5 5,5.89 5,7V9H3V11H5V13H3V15H5V17A2,2 0 0,0 7,19H9V21H11V19H13V21H15V19H17A2,2 0 0,0 19,17V15H21V13H19V11M13,13H11V11H13M15,9H9V15H15V9Z", x1 = "M7,10L12,15L17,10H7Z", _1 = "M7,15L12,10L17,15H7Z", k1 = "M22 7V16C22 17.1 21.1 18 20 18H6L2 22V4C2 2.9 2.9 2 4 2H14.1C14 2.3 14 2.7 14 3C14 5.8 16.2 8 19 8C20.1 8 21.2 7.6 22 7M16 3C16 4.7 17.3 6 19 6S22 4.7 22 3 20.7 0 19 0 16 1.3 16 3Z", C1 = "M18.21 10.29Q19 10.34 19.7 10.68 20.39 11 20.9 11.57 21.41 12.12 21.71 12.83 22 13.54 22 14.34 22 15.18 21.68 15.92 21.36 16.66 20.8 17.21 20.25 17.76 19.5 18.08 18.78 18.41 17.94 18.41H7Q5.97 18.41 5.06 18 4.15 17.61 3.47 16.94 2.79 16.26 2.4 15.35 2 14.44 2 13.41 2 12.59 2.26 11.83 2.5 11.08 3 10.45 3.44 9.82 4.08 9.35 4.72 8.88 5.5 8.63 5.87 8.5 6.21 8.5 6.56 8.43 6.93 8.41H6.94Q7.37 7.75 7.95 7.23 8.5 6.71 9.2 6.34 9.87 6 10.62 5.78 11.37 5.59 12.16 5.59 13.22 5.59 14.2 5.94 15.18 6.29 16 6.91 16.8 7.53 17.37 8.39 17.95 9.26 18.21 10.29M12.16 6.84Q11.05 6.84 10.06 7.3 9.06 7.75 8.36 8.6 8.73 8.7 9.07 8.85 9.4 9 9.73 9.2L13.71 11.58L16 10.62Q16.21 10.53 16.44 10.45 16.67 10.38 16.92 10.33 16.68 9.55 16.21 8.91 15.74 8.27 15.11 7.81 14.5 7.35 13.73 7.1 13 6.84 12.16 6.84M4 15.66L12.27 12.18L9.08 10.26Q8.59 9.97 8.06 9.81 7.5 9.66 6.95 9.66 6.19 9.66 5.5 9.96 4.84 10.26 4.34 10.77 3.84 11.29 3.54 11.97 3.25 12.65 3.25 13.41 3.25 14 3.45 14.59 3.64 15.19 4 15.66M17.94 17.16Q18.41 17.16 18.84 17 19.27 16.86 19.64 16.58L13.61 13L5.03 16.59Q5.47 16.86 5.97 17 6.47 17.16 7 17.16M20.45 15.61Q20.75 15 20.75 14.34 20.75 13.7 20.5 13.17 20.26 12.65 19.85 12.28 19.43 11.91 18.88 11.71 18.32 11.5 17.7 11.5 17.35 11.5 17 11.6 16.66 11.68 16.33 11.81 16 11.93 15.67 12.08 15.35 12.23 15.04 12.37Z", $1 = "M19,13H5V11H19V13Z", E1 = "M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z", Ad = "M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z", S1 = "M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z", P1 = "M2,5.27L3.28,4L20,20.72L18.73,22L12.8,16.07V22H11.2V16H6V14L8,12V11.27L2,5.27M16,12L18,14V16H17.82L8,6.18V4H7V2H17V4H16V12Z", Kw = "M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z", A1 = "M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z", Zw = "M13,3A9,9 0 0,0 4,12H1L4.89,15.89L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3Z", L1 = "M4,3H5V5H3V4A1,1 0 0,1 4,3M20,3A1,1 0 0,1 21,4V5H19V3H20M15,5V3H17V5H15M11,5V3H13V5H11M7,5V3H9V5H7M21,20A1,1 0 0,1 20,21H19V19H21V20M15,21V19H17V21H15M11,21V19H13V21H11M7,21V19H9V21H7M4,21A1,1 0 0,1 3,20V19H5V21H4M3,15H5V17H3V15M21,15V17H19V15H21M3,11H5V13H3V11M21,11V13H19V11H21M3,7H5V9H3V7M21,7V9H19V7H21Z", M1 = "M2,21L23,12L2,3V10L17,12L2,14V21Z", O1 = "M13,19H14A1,1 0 0,1 15,20H15.73L13,17.27V19M22,20V21.18L20.82,20H22M21,22.72L19.73,24L17.73,22H15A1,1 0 0,1 14,23H10A1,1 0 0,1 9,22H2V20H9A1,1 0 0,1 10,19H11V17H4A1,1 0 0,1 3,16V12A1,1 0 0,1 4,11H6.73L4.73,9H4A1,1 0 0,1 3,8V7.27L1,5.27L2.28,4L21,22.72M4,3H20A1,1 0 0,1 21,4V8A1,1 0 0,1 20,9H9.82L7,6.18V5H5.82L3.84,3C3.89,3 3.94,3 4,3M20,11A1,1 0 0,1 21,12V16A1,1 0 0,1 20,17H17.82L11.82,11H20M9,7H10V5H9V7M9,15H10V14.27L9,13.27V15M5,13V15H7V13H5Z", I1 = "M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1M15.08 16L12 14.15L8.93 16L9.74 12.5L7.03 10.16L10.61 9.85L12 6.55L13.39 9.84L16.97 10.15L14.26 12.5L15.08 16Z", T1 = "M18 21L14 17H17V7H14L18 3L22 7H19V17H22M2 19V17H12V19M2 13V11H9V13M2 7V5H6V7H2Z", R1 = "M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z", D1 = "M20.8 22.7L17.9 19.8L18.2 21L12 17.3L5.8 21L7.4 14L2 9.2L6.9 8.8L1.1 3L2.4 1.7L22.1 21.4L20.8 22.7M22 9.2L14.8 8.6L12 2L10 6.8L16.9 13.7L22 9.2Z", F1 = "M21,9L17,5V8H10V10H17V13M7,11L3,15L7,19V16H14V14H7V11Z", z1 = "M9,3L5,7H8V14H10V7H13M16,17V10H14V17H11L15,21L19,17H16Z", V1 = "M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z", N1 = "M5,9V21H1V9H5M9,21A2,2 0 0,1 7,19V9C7,8.45 7.22,7.95 7.59,7.59L14.17,1L15.23,2.06C15.5,2.33 15.67,2.7 15.67,3.11L15.64,3.43L14.69,8H21C22.11,8 23,8.9 23,10V12C23,12.26 22.95,12.5 22.86,12.73L19.84,19.78C19.54,20.5 18.83,21 18,21H9M9,19H18.03L21,12V10H12.21L13.34,4.68L9,9.03V19Z", B1 = "M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z", H1 = "M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z", j1 = "M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z", U1 = "M3 5V19H20V5H3M7 7V9H5V7H7M5 13V11H7V13H5M5 15H7V17H5V15M18 17H9V15H18V17M18 13H9V11H18V13M18 9H9V7H18V9Z", W1 = "M4 5V18H21V5H4M14 7V10.5H11V7H14M6 7H9V10.5H6V7M6 16V12.5H9V16H6M11 16V12.5H14V16H11M19 16H16V12.5H19V16M16 10.5V7H19V10.5H16Z", q1 = "M2.28,3L1,4.27L2.47,5.74C2.04,6 1.61,6.29 1.2,6.6L3,9C3.53,8.6 4.08,8.25 4.66,7.93L6.89,10.16C6.15,10.5 5.44,10.91 4.8,11.4L6.6,13.8C7.38,13.22 8.26,12.77 9.2,12.47L11.75,15C10.5,15.07 9.34,15.5 8.4,16.2L12,21L14.46,17.73L17.74,21L19,19.72M12,3C9.85,3 7.8,3.38 5.9,4.07L8.29,6.47C9.5,6.16 10.72,6 12,6C15.38,6 18.5,7.11 21,9L22.8,6.6C19.79,4.34 16.06,3 12,3M12,9C11.62,9 11.25,9 10.88,9.05L14.07,12.25C15.29,12.53 16.43,13.07 17.4,13.8L19.2,11.4C17.2,9.89 14.7,9 12,9Z";
const Py = L1, Ay = {
  "account-minus": Lb,
  "account-plus": Mb,
  alert: Ob,
  "alert-circle": Ib,
  "alert-octagon": Tb,
  attachment: jw,
  back: Cy,
  "backup-restore": Db,
  bell: Uw,
  "bell-off": Ww,
  bot: b1,
  check: $y,
  "check-circle-outline": Nb,
  "checkbox-blank": Bb,
  "checkbox-marked": Hb,
  "circle-outline": jb,
  "check-circle": Vb,
  close: Ub,
  "close-circle": Wb,
  comment: Qb,
  "comment-outline": Kb,
  confluence: "M.87 18.257c-.248.382-.53.875-.763 1.245a.764.764 0 0 0 .255 1.04l4.965 3.054a.764.764 0 0 0 1.058-.26c.199-.332.454-.763.733-1.221 1.967-3.247 3.945-2.853 7.508-1.146l4.957 2.337a.764.764 0 0 0 1.028-.382l2.364-5.346a.764.764 0 0 0-.382-1 599.851 599.851 0 0 1-4.965-2.361C10.911 10.97 5.224 11.185.87 18.257zM23.131 5.743c.249-.405.531-.875.764-1.25a.764.764 0 0 0-.256-1.034L18.675.404a.764.764 0 0 0-1.058.26c-.195.335-.451.763-.734 1.225-1.966 3.246-3.945 2.85-7.508 1.146L4.437.694a.764.764 0 0 0-1.027.382L1.046 6.422a.764.764 0 0 0 .382 1c1.039.49 3.105 1.467 4.965 2.361 6.698 3.246 12.392 3.029 16.738-4.04z",
  "content-save": Zb,
  delete: qw,
  "delete-restore": Gb,
  "delete-forever": Qw,
  "dots-vertical": Xb,
  download: Jb,
  earth: t1,
  "emoticon-plus": "M 19 0 L 19 3 L 16 3 L 16 5 L 19 5 L 19 8 L 21 8 L 21 5 L 24 5 L 24 3 L 21 3 L 21 0 L 19 0 z M 12 2 C 6.5 2 2 6.5 2 12 C 2 17.5 6.5 22 12 22 C 17.5 22 22 17.5 22 12 L 20 12 C 20 16.4 16.4 20 12 20 C 7.6 20 4 16.4 4 12 C 4 7.6 7.6 4 12 4 L 12 2 z M 8.5 8 C 7.7 8 7 8.7 7 9.5 C 7 10.3 7.7 11 8.5 11 C 9.3 11 10 10.3 10 9.5 C 10 8.7 9.3 8 8.5 8 z M 15.5 8 C 14.7 8 14 8.7 14 9.5 C 14 10.3 14.7 11 15.5 11 C 16.3 11 17 10.3 17 9.5 C 17 8.7 16.3 8 15.5 8 z M 6.9 14 C 7.7 16 9.7 17.5 12 17.5 C 14.3 17.5 16.3 16 17.1 14 L 6.9 14 z",
  "fit-screen": h1,
  "fit-width": u1,
  "help-circle": f1,
  information: v1,
  magnify: g1,
  "menu-down": x1,
  "menu-up": _1,
  minus: $1,
  next: Rb,
  "open-in-new": E1,
  pencil: Ad,
  pin: S1,
  unpin: P1,
  plus: Kw,
  "plus-circle-outline": A1,
  poll: zb,
  previous: Cy,
  read: k1,
  restore: Zw,
  unread: $y,
  send: M1,
  "server-network-off": O1,
  "shield-star": I1,
  sort: T1,
  star: R1,
  unstar: D1,
  "swap-horizontal": F1,
  textbox: p1,
  "thumb-up": V1,
  "thumb-up-outline": N1,
  trashcan: B1,
  video: j1,
  "view-list-outline": U1,
  "view-module-outline": W1,
  "wifi-off": q1,
  // Files
  email: r1,
  file: i1,
  "file-upload": c1,
  "file-music": a1,
  "file-image": o1,
  "file-video": l1,
  "file-code": Ey,
  "file-xml": Ey,
  "file-document": Sy,
  "file-word": d1,
  "file-excel": n1,
  "file-pdf": Sy,
  "file-powerpoint": s1,
  "file-compressed": y1,
  // Integrations
  dropbox: e1,
  onedrive: C1,
  box: Fb,
  "google-drive": w1,
  zoom: "m12 2c-5.6 0-10 4.5-10 10 0 5.6 4.5 10 10 10 5.5 0 9.9-4.5 9.9-10 .1-5.6-4.4-10-9.9-10zm2.6 13.1c0 .2-.1.3-.3.3h-6.9c-1.1 0-1.9-.8-1.9-1.9v-4.6c0-.2.1-.3.3-.3h6.9c1 0 1.9.8 1.9 1.9zm3.8.1c0 .4-.2.4-.5.2l-2.8-2.1v-2.6l2.8-2.1c.2-.2.5-.1.5.2z",
  cloud: qb
}, Ly = {
  attach: jw,
  create: Kw,
  "delete-forever": Qw,
  edit: Ad,
  modify: Ad,
  rename: Yb,
  replace: z1,
  restore: Zw,
  subscribe: Uw,
  trash: qw,
  unsubscribe: Ww,
  upload: H1,
  version: m1
}, My = {
  dropbox: "#0061fe",
  onedrive: "#0078d4",
  box: "#0161d5",
  "google-drive": "#1a73e8",
  zoom: "#4a8cff",
  confluence: "#2684ff"
};
function Q1(e) {
  return e.split("+");
}
function Oy(e) {
  return e && e in Ay ? Ay[e] : "";
}
function K1(e) {
  return e && e in Ly ? Ly[e] : "";
}
const dt = Tn(class extends Rn {
  constructor(e) {
    var t;
    if (super(e), e.type !== Ys.ATTRIBUTE || e.name !== "class" || ((t = e.strings) == null ? void 0 : t.length) > 2)
      throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");
  }
  render(e) {
    return " " + Object.keys(e).filter((t) => e[t]).join(" ") + " ";
  }
  update(e, [t]) {
    var i, n;
    if (this.st === void 0) {
      this.st = /* @__PURE__ */ new Set(), e.strings !== void 0 && (this.nt = new Set(e.strings.join(" ").split(/\s/).filter((o) => o !== "")));
      for (const o in t)
        t[o] && !((i = this.nt) != null && i.has(o)) && this.st.add(o);
      return this.render(t);
    }
    const r = e.element.classList;
    for (const o of this.st)
      o in t || (r.remove(o), this.st.delete(o));
    for (const o in t) {
      const a = !!t[o];
      a === this.st.has(o) || (n = this.nt) != null && n.has(o) || (a ? (r.add(o), this.st.add(o)) : (r.remove(o), this.st.delete(o)));
    }
    return Pi;
  }
});
const ot = (e) => e ?? F;
var Z1 = Object.defineProperty, Y1 = Object.getOwnPropertyDescriptor, Ir = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? Y1(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Z1(t, r, n), n;
};
let rr = class extends we {
  constructor() {
    super(...arguments), this.color = "", this.size = 24, this.path = Py, this.inline = !1, this.first = !1, this.last = !1, this.padded = !1;
  }
  willUpdate(e) {
    if (e.has("name") && this.name) {
      const [t, r] = Q1(this.name);
      this.path = Oy(t) || Py, this.overlayPath = Oy(r) || this.overlayPath, this.nativeIconColor = this.color === "native" && My[t] || void 0, this.nativeOverlayColor = r && My[r] || void 0;
    }
  }
  render() {
    var o;
    const e = this.kind ? up(this.kind) : this.kind, t = (o = this.ext) != null && o.startsWith(".") ? this.ext.substring(1) : this.ext, r = {
      ["wy-kind-" + e]: !!e,
      ["wy-ext-" + t]: !!t,
      ["wy-icon-color-" + this.color]: !!this.color,
      "wy-icon-first": this.first,
      "wy-icon-last": this.last,
      "wy-icon-padded": this.padded,
      "wy-icon-inline": this.inline
    }, i = this.size !== 24 && this.size / 16, n = i ? `width: var(--wy-component-icon-width, calc(${i} * var(--wy-rem, 1rem))); height: var(--wy-component-icon-height, calc(${i} * var(--wy-rem, 1rem)));` : "";
    return this.overlayPath ? v`
        <span class="wy-icon-stack" style="${n}">
          <svg class="wy-icon ${dt(r)}" viewBox="0 0 24 24" width="${this.size}" height="${this.size}">
            <path d="${this.path}" style="fill: ${ot(this.nativeIconColor)}" />
            <!--rect width="24" height="24" fill="transparent" /-->
          </svg>
          <svg viewBox="0 0 24 24" width="${this.size / 2}" height="${this.size / 2}">
            <path d="${this.overlayPath}" style="fill: ${ot(this.nativeOverlayColor)}" />
            <!--rect width="24" height="24" fill="transparent" /-->
          </svg>
        </span>
      ` : v`
      <svg class="wy-icon ${dt(r)}" style="${n}" viewBox="0 0 24 24" width="${this.size}" height="${this.size}">
        <path d="${this.path}" style="fill: ${ot(this.nativeIconColor)}" />
        <!--rect width="24" height="24" fill="transparent" /-->
      </svg>
    `;
  }
};
rr.styles = [
  ke,
  We`
    :host {
      display: contents;
    }
  `
];
Ir([
  m()
], rr.prototype, "name", 2);
Ir([
  m()
], rr.prototype, "color", 2);
Ir([
  m({ type: Number })
], rr.prototype, "size", 2);
Ir([
  m()
], rr.prototype, "kind", 2);
Ir([
  m()
], rr.prototype, "ext", 2);
Ir([
  m({ attribute: !1 })
], rr.prototype, "path", 2);
Ir([
  m({ attribute: !1 })
], rr.prototype, "overlayPath", 2);
Ir([
  m({ type: Boolean })
], rr.prototype, "inline", 2);
Ir([
  m({ type: Boolean })
], rr.prototype, "first", 2);
Ir([
  m({ type: Boolean })
], rr.prototype, "last", 2);
Ir([
  m({ type: Boolean })
], rr.prototype, "padded", 2);
Ir([
  te()
], rr.prototype, "nativeIconColor", 2);
Ir([
  te()
], rr.prototype, "nativeOverlayColor", 2);
rr = Ir([
  fe("wy-icon")
], rr);
var G1 = Object.defineProperty, X1 = Object.getOwnPropertyDescriptor, ac = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? X1(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && G1(t, r, n), n;
};
let la = class extends we {
  constructor() {
    super(...arguments), this.size = 24, this.nospin = !1, this.overlay = !1, this.progress = NaN;
  }
  createRenderRoot() {
    return this;
  }
  render() {
    const e = this.nospin && this.progress && 100 - this.progress || void 0;
    if (e !== void 0) {
      const r = Math.PI * 20;
      return v`<svg
        viewBox="0 0 24 24"
        width=${this.size}
        height=${this.size}
        transform="rotate(-90)"
        data-icon="progress"
        class="wy-icon wy-icon-primary">
        <circle cx="12" cy="12" r=${10} stroke-linecap="butt" stroke-width="2" fill="none" stroke="#eee"></circle>
        <circle
          cx="12"
          cy="12"
          r=${10}
          stroke-dasharray=${r}
          stroke-dashoffset=${r * e / 100}
          stroke-linecap="butt"
          stroke-width="2"
          fill="none"
          stroke="currentColor"
          path-length="200"></circle>
      </svg>`;
    } else {
      const t = {
        "wy-spin": !this.nospin,
        "wy-spinner-overlay": this.overlay
      };
      return v`<svg
        class="wy-spinner ${dt(t)}"
        width=${this.size}
        height=${this.size}
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg">
        <circle fill="none" cx="12" cy="12" r="11" stroke-linecap="butt" stroke-width="2" />
      </svg>`;
    }
  }
};
ac([
  m({ type: Number })
], la.prototype, "size", 2);
ac([
  m({
    type: Boolean
  })
], la.prototype, "nospin", 2);
ac([
  m({ type: Boolean })
], la.prototype, "overlay", 2);
ac([
  m({ type: Number })
], la.prototype, "progress", 2);
la = ac([
  fe("wy-spinner")
], la);
var J1 = Object.defineProperty, e0 = Object.getOwnPropertyDescriptor, rh = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? e0(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && J1(t, r, n), n;
};
let ks = class extends we {
  constructor() {
    super(...arguments), this.noNetwork = !1, this.handleUpdate = () => this.requestUpdate();
  }
  willUpdate(e) {
    if (e.has("weavyContext")) {
      const t = e.get("weavyContext");
      t && t !== this.weavyContext && t.removeNetworkListener(this.handleUpdate), this.weavyContext && t !== this.weavyContext && this.weavyContext.addNetworkListener(this.handleUpdate);
    }
  }
  render() {
    var e, t, r, i;
    return v`
      <div class="wy-empty">
        ${this.weavyContext && !this.noNetwork && ((e = this.weavyContext) == null ? void 0 : e.network.state) === "unreachable" ? v`
              <div class="wy-content-icon">
                <div class="wy-content-icon">
                  <wy-icon name="server-network-off"></wy-icon>
                </div>
                <div class="wy-content-name">
                  <span>${V("The server is offline, try again in a few minutes...")}</span>
                </div>
                <div class="wy-content-meta">
                  <wy-spinner ?hidden=${!((t = this.weavyContext) != null && t.network.isPending)}></wy-spinner>
                </div>
              </div>
            ` : !this.noNetwork && ((r = this.weavyContext) == null ? void 0 : r.network.state) === "offline" ? v`
              <div class="wy-content-icon">
                <div class="wy-content-icon">
                  <wy-icon name="wifi-off"></wy-icon>
                </div>
                <div class="wy-content-name">
                  <span>${V("You are currently offline.")}</span>
                </div>
                <div class="wy-content-meta">
                  <wy-spinner ?hidden=${!((i = this.weavyContext) != null && i.network.isPending)}></wy-spinner>
                </div>
              </div>
            ` : v`
              <slot>
                <div class="wy-content-icon">
                  <div class="wy-content-icon">
                    <wy-icon name="information"></wy-icon>
                  </div>
                  <div class="wy-content-name">
                    <slot name="title">
                      <span>${V("Nothing to see here yet.")}</span>
                    </slot>
                  </div>
                </div>
              </slot>
            `}
      </div>
    `;
  }
  connectedCallback() {
    var e;
    super.connectedCallback(), (e = this.weavyContext) == null || e.addNetworkListener(this.handleUpdate);
  }
  disconnectedCallback() {
    var e;
    super.disconnectedCallback(), (e = this.weavyContext) == null || e.removeNetworkListener(this.handleUpdate);
  }
};
ks.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
rh([
  tt({ context: Te, subscribe: !0 }),
  te()
], ks.prototype, "weavyContext", 2);
rh([
  m({ type: Boolean })
], ks.prototype, "noNetwork", 2);
ks = rh([
  fe("wy-empty"),
  De()
], ks);
const Ld = Tn(class extends Rn {
  constructor() {
    super(...arguments), this.key = F;
  }
  render(e, t) {
    return this.key = e, t;
  }
  update(e, [t, r]) {
    return t !== this.key && (qc(e), this.key = t), r;
  }
});
var ct = /* @__PURE__ */ ((e) => (e.ChatRoom = "edb400ac-839b-45a7-b2a8-6a01820d1c44", e.PrivateChat = "7e14f418-8f15-46f4-b182-f619b671e470", e.BotChat = "2352a1c6-abc6-420e-8b85-ca7d5aed8779", e))(ct || {}), Yw = /* @__PURE__ */ ((e) => (e.ChatRoom = "chat_room", e.PrivateChat = "private_chat", e.BotChat = "bot_chat", e))(Yw || {});
function kl(e) {
  e.stopPropagation();
}
function t0(e) {
  e.key === "Escape" && (e.target.value = "", e.target.dispatchEvent(new InputEvent("input", { data: "", inputType: "deleteContent" })));
}
function Gw(e) {
  e.key === "Escape" && e.target.blur();
}
function Jc(e) {
  e.stopPropagation(), Gw(e);
}
function Xw(e) {
  e.stopPropagation(), e.target.value ? t0(e) : Gw(e);
}
function r0(e) {
  e.key === "Enter" && (e.stopPropagation(), e.target.click());
}
function i0(e) {
  e.key === " " && (e.preventDefault(), e.stopPropagation());
}
function Pn(e) {
  r0(e), i0(e);
}
function An(e) {
  e.key === " " && (e.preventDefault(), e.stopPropagation(), e.target.click());
}
class Md extends Rn {
  constructor(t) {
    if (super(t), this.it = F, t.type !== Ys.CHILD)
      throw Error(this.constructor.directiveName + "() can only be used in child bindings");
  }
  render(t) {
    if (t === F || t == null)
      return this._t = void 0, this.it = t;
    if (t === Pi)
      return t;
    if (typeof t != "string")
      throw Error(this.constructor.directiveName + "() called with a non-string value");
    if (t === this.it)
      return this._t;
    this.it = t;
    const r = [t];
    return r.raw = r, this._t = { _$litType$: this.constructor.resultType, strings: r, values: [] };
  }
}
Md.directiveName = "unsafeHTML", Md.resultType = 1;
const yo = Tn(Md), Ie = (e, t, r = !0) => e && t ? e.indexOf(t) != -1 && r : !1;
var Le = /* @__PURE__ */ ((e) => (e.Attachments = "attachments", e.CloudFiles = "cloud_files", e.Comments = "comments", e.Confluence = "confluence", e.Embeds = "embeds", e.Meetings = "meetings", e.Mentions = "mentions", e.Polls = "polls", e.Previews = "previews", e.Reactions = "reactions", e.Receipts = "receipts", e.Thumbnails = "thumbnails", e.Typing = "typing", e.Versions = "versions", e.WebDAV = "web_dav", e.Webhooks = "webhooks", e))(Le || {}), Jw = /* @__PURE__ */ ((e) => (e.Active = "active", e.Away = "away", e))(Jw || {}), n0 = Object.defineProperty, o0 = Object.getOwnPropertyDescriptor, ih = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? o0(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && n0(t, r, n), n;
};
let Cs = class extends we {
  constructor() {
    super(...arguments), this.placement = "avatar";
  }
  render() {
    const e = {
      "wy-presence": !0,
      "wy-presence-active": this.status === Jw.Active,
      "wy-presence-in-text": this.placement === "text"
    };
    return v` <span class=${dt(e)} data-presence-id=${this.id}></span> `;
  }
};
Cs.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
ih([
  m()
], Cs.prototype, "placement", 2);
ih([
  m()
], Cs.prototype, "status", 2);
Cs = ih([
  fe("wy-presence")
], Cs);
var a0 = Object.defineProperty, s0 = Object.getOwnPropertyDescriptor, ni = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? s0(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && a0(t, r, n), n;
};
let Xi = class extends we {
  constructor() {
    super(...arguments), this.size = 32, this.src = "", this.name = "", this.isBot = !1, this.avatarClass = "";
  }
  render() {
    const e = this.size / 16;
    let t;
    return !this.src && this.name && (t = dm(this.name)), v`<div class=${dt({ "wy-avatar-presence": !this.isBot, [this.avatarClass]: !0 })}>
      ${this.src ? v`
            <img
              alt=""
              title="${ot(this.title || this.name)}"
              class="wy-avatar wy-avatar-img"
              style="--wy-component-avatar-size: calc(${e} * var(--wy-rem, 1rem));"
              height="${this.size}"
              width="${this.size}"
              src="${this.src}"
              decoding="async"
              loading="lazy"
            />
          ` : v`
            <div
              class="wy-avatar wy-avatar-initials"
              style="--wy-component-avatar-size: calc(${e} * var(--wy-rem, 1rem));"
              title="${ot(this.title || this.name)}"
            >
              <span>${t}</span>
            </div>
          `}
      ${this.isBot ? v`<wy-icon class="wy-avatar-type" name="bot" size="${this.size / 3 * 1.25}"></wy-icon>` : F}
      ${this.presence && !this.isBot ? v`<wy-presence .status=${this.presence} id=${this.id}></wy-presence>` : F}
    </div>`;
  }
};
Xi.styles = [ke];
ni([
  m({ type: Number })
], Xi.prototype, "size", 2);
ni([
  m()
], Xi.prototype, "src", 2);
ni([
  m()
], Xi.prototype, "name", 2);
ni([
  m({ type: Boolean })
], Xi.prototype, "isBot", 2);
ni([
  m()
], Xi.prototype, "avatarClass", 2);
ni([
  m()
], Xi.prototype, "presence", 2);
Xi = ni([
  fe("wy-avatar")
], Xi);
let po = class extends we {
  constructor() {
    super(...arguments), this.size = 32, this.name = "";
  }
  render() {
    var n;
    const e = this.size / 16, t = (((n = this.members) == null ? void 0 : n.data) || []).filter((o) => o.id !== this.user.id).slice(0, 2).reverse(), r = (t == null ? void 0 : t.shift()) || this.user, i = (t == null ? void 0 : t.shift()) || (r !== this.user ? this.user : void 0);
    return v`
      <div
        class="wy-avatar-group"
        title=${this.name}
        style="--wy-component-avatar-size: calc(${e} * var(--wy-rem, 1rem));"
      >
        <wy-avatar
          .src=${i == null ? void 0 : i.avatar_url}
          .name=${i == null ? void 0 : i.display_name}
          size=${this.size * 2 / 3}
        ></wy-avatar>
        <wy-avatar
          .src=${r.avatar_url}
          .name=${r.display_name}
          .isBot=${r.is_bot}
          size=${this.size * 2 / 3}
        ></wy-avatar>
      </div>
    `;
  }
};
po.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
ni([
  m({ type: Number })
], po.prototype, "size", 2);
ni([
  m({ type: Object })
], po.prototype, "user", 2);
ni([
  m({
    type: Object,
    attribute: !1
  })
], po.prototype, "members", 2);
ni([
  m()
], po.prototype, "name", 2);
po = ni([
  fe("wy-avatar-group")
], po);
var c0 = Object.defineProperty, l0 = Object.getOwnPropertyDescriptor, Ma = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? l0(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && c0(t, r, n), n;
};
let Ln = class extends we {
  constructor() {
    super(...arguments), this.kind = "filled", this.active = !1, this.buttonClass = "", this.disabled = !1;
  }
  render() {
    var t, r;
    const e = {
      [((t = this.buttonClass) == null ? void 0 : t.toString()) || ""]: !0,
      "wy-active": !!this.active,
      "wy-button-inline": this.kind === "inline",
      "wy-button-icon": !!((r = this.kind) != null && r.startsWith("icon")),
      "wy-button-icon-inline": this.kind === "icon-inline",
      "wy-button-link": this.kind === "link"
    };
    return v`
      <button
        class="wy-button ${dt(e)}"
        type=${ot(this.type)}
        ?disabled=${this.disabled}>
        <slot></slot>
      </button>
    `;
  }
};
Ln.styles = [
  ke,
  We`
      /*:host {
         display: contents 
      }*/
    `
];
Ma([
  m()
], Ln.prototype, "type", 2);
Ma([
  m()
], Ln.prototype, "kind", 2);
Ma([
  m({ type: Boolean })
], Ln.prototype, "active", 2);
Ma([
  m({ type: String })
], Ln.prototype, "buttonClass", 2);
Ma([
  m({ type: Boolean, reflect: !0 })
], Ln.prototype, "disabled", 2);
Ln = Ma([
  fe("wy-button")
], Ln);
var d0 = Object.defineProperty, u0 = Object.getOwnPropertyDescriptor, nh = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? u0(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && d0(t, r, n), n;
};
let $s = class extends we {
  constructor() {
    super(...arguments), this.enableSwap = !1;
  }
  createRenderRoot() {
    return this;
  }
  dispatchRemove(e) {
    const t = new CustomEvent("embed-remove", { detail: { id: e } });
    return this.dispatchEvent(t);
  }
  dispatchSwap() {
    const e = new CustomEvent("embed-swap", { detail: {} });
    return this.dispatchEvent(e);
  }
  render() {
    const e = this.embed.type === "photo" && this.embed.provider_name.toLocaleLowerCase() === "giphy", t = !this.embed.html && !e;
    return v`
      <div class="wy-embed-actions">
        ${this.enableSwap ? v`<wy-button kind="icon" @click=${() => this.dispatchSwap()}
              ><wy-icon name="swap-horizontal"></wy-icon
            ></wy-button>` : v`<wy-button buttonClass="wy-embed-cycle"></wy-button>`}

        <wy-button kind="icon" @click=${() => this.dispatchRemove(this.embed.id)}
          ><wy-icon name="close-circle"></wy-icon
        ></wy-button>
      </div>

      ${this.embed.type === "audio" ? v`<div class="wy-embed-audio"></div>` : F}
      ${this.embed.type === "video" && this.embed.html ? v`<div class="wy-embed-video"><div>${yo(this.embed.html)}</div></div>` : F}
      ${this.embed.type === "rich" ? v`<div class="wy-embed-rich"></div>` : F}
      ${this.embed.type === "photo" && this.embed.thumbnail_url ? v`
            <div
              class=${dt({
      "wy-embed-photo": !0,
      "wy-embed-photo-sm": (this.embed.thumbnail_width || 0) < 250
    })}>
              <a href=${this.embed.original_url} target="_blank">
                <img
                  src=${this.embed.thumbnail_url}
                  width=${this.embed.thumbnail_width}
                  height=${this.embed.thumbnail_height}
                  alt="" />
              </a>
            </div>
          ` : F}
      ${this.embed.type !== "audio" && this.embed.type !== "video" && this.embed.type !== "rich" && this.embed.type !== "photo" && this.embed.thumbnail_url ? v`
            <div
              class=${dt({
      "wy-embed-photo": !0,
      "wy-embed-photo-sm": (this.embed.thumbnail_width || 0) < 250
    })}>
              <a href=${this.embed.original_url} target="_blank">
                <img
                  src=${this.embed.thumbnail_url}
                  width=${this.embed.thumbnail_width}
                  height=${this.embed.thumbnail_height}
                  alt="" />
              </a>
            </div>
          ` : F}
      ${t ? v` <div class="wy-embed-caption">
            <a class="wy-embed-link" href=${this.embed.original_url} target="_blank">${this.embed.host}</a>
            ${this.embed.title ? v`<div class="wy-embed-title">${this.embed.title}</div>` : F}
            ${this.embed.description ? v`<div class="wy-embed-description">${this.embed.description}</div>` : F}
          </div>` : F}
    `;
  }
};
$s.styles = ke;
nh([
  m({ attribute: !1 })
], $s.prototype, "embed", 2);
nh([
  m({ type: Boolean, attribute: !1 })
], $s.prototype, "enableSwap", 2);
$s = nh([
  fe("wy-embed")
], $s);
const Cl = (e, t = 3) => {
  const r = [" B", " KB", " MB", " GB", " TB", " PB", " EB", " ZB", " YB"];
  let i = e, n = 0;
  for (; n < r.length - 1 && i >= 1024; )
    i = 100 * i / 1024 / 100, n++;
  return i.toLocaleString(void 0, { maximumSignificantDigits: t }) + r[n];
};
function gi(e) {
  return e.lastIndexOf(".") === -1 ? "." : (e.substring(e.lastIndexOf("."), e.length) || e).toLowerCase();
}
function ef(e) {
  switch (e) {
    case ".aac":
    case ".aif":
    case ".aiff":
    case ".au":
    case ".gsm":
    case ".m4a":
    case ".mid":
    case ".midi":
    case ".mka":
    case ".mp3":
    case ".oga":
    case ".ogg":
    case ".ra":
    case ".ram":
    case ".snd":
    case ".spx":
    case ".wav":
    case ".wma":
      return !0;
    default:
      return !1;
  }
}
function h0(e) {
  switch (e) {
    case ".ai":
    case ".apng":
    case ".bmp":
    case ".emf":
    case ".eps":
    case ".gif":
    case ".heic":
    case ".ico":
    case ".jpg":
    case ".jpeg":
    case ".png":
    case ".psd":
    case ".svg":
    case ".tif":
    case ".tiff":
    case ".webp":
    case ".wmf":
      return !0;
    default:
      return !1;
  }
}
function y0(e) {
  switch (gi(e)) {
    case ".apng":
    case ".bmp":
    case ".gif":
    case ".ico":
    case ".jpg":
    case ".jpeg":
    case ".png":
    case ".svg":
    case ".webp":
      return !0;
    default:
      return !1;
  }
}
function tf(e) {
  switch (e) {
    case ".3g2":
    case ".asx":
    case ".asf":
    case ".avi":
    case ".flv":
    case ".mk3d":
    case ".mkv":
    case ".mov":
    case ".mp4":
    case ".mpeg":
    case ".mpg":
    case ".ogm":
    case ".ogv":
    case ".ogx":
    case ".qt":
    case ".rm":
    case ".rv":
    case ".smi":
    case ".smil":
    case ".swf":
    case ".webm":
    case ".wmv":
    case ".xaml":
      return !0;
    default:
      return !1;
  }
}
function p0(e) {
  switch (e) {
    case ".markdown":
    case ".md":
      return !0;
    default:
      return !1;
  }
}
function rf(e) {
  switch (e) {
    case ".htm":
    case ".html":
    case ".xhtml":
    case ".xml":
      return !0;
    default:
      return !1;
  }
}
function oh(e) {
  if (rf(e))
    return !0;
  switch (e) {
    case ".as":
    case ".as3":
    case ".asm":
    case ".aspx":
    case ".bat":
    case ".c":
    case ".cc":
    case ".cmake":
    case ".coffee":
    case ".cpp":
    case ".cs":
    case ".css":
    case ".cxx":
    case ".diff":
    case ".erb":
    case ".erl":
    case ".groovy":
    case ".gvy":
    case ".h":
    case ".haml":
    case ".hh":
    case ".hpp":
    case ".hxx":
    case ".java":
    case ".js":
    case ".json":
    case ".jsx":
    case ".less":
    case ".lst":
    case ".m":
    case ".make":
    case ".ml":
    case ".mm":
    case ".out":
    case ".patch":
    case ".php":
    case ".pl":
    case ".plist":
    case ".properties":
    case ".py":
    case ".rb":
    case ".sass":
    case ".scala":
    case ".scm":
    case ".script":
    case ".scss":
    case ".sh":
    case ".sml":
    case ".sql":
    case ".vb":
    case ".vi":
    case ".vim":
    case ".xsd":
    case ".xsl":
    case ".yaml":
    case ".yml":
      return !0;
    default:
      return !1;
  }
}
function nf(e) {
  if (oh(e) || p0(e))
    return !0;
  switch (e) {
    case ".txt":
      return !0;
    default:
      return !1;
  }
}
function Fn(e) {
  const t = gi(e);
  if (t === "")
    return { icon: "file" };
  if (ef(t))
    return { icon: "file-music", color: "indigo" };
  if (h0(t))
    return { icon: "file-image", color: "cyan" };
  if (tf(t))
    return { icon: "file-video", color: "pink" };
  if (rf(t))
    return { icon: "file-xml", color: "purple" };
  if (oh(t))
    return { icon: "file-code", color: "purple" };
  if (nf(t))
    return { icon: "file-document" };
  switch (t) {
    case ".7z":
    case ".zip":
      return { icon: "file-compressed", color: "orange" };
    case ".doc":
    case ".docm":
    case ".docx":
    case ".dotm":
    case ".dotx":
      return { icon: "file-word", color: "native" };
    case ".eml":
    case ".msg":
      return { icon: "email", color: "" };
    case ".xls":
    case ".xlsm":
    case ".xlsx":
    case ".xltx":
      return { icon: "file-excel", color: "native" };
    case ".pdf":
      return { icon: "file-pdf", color: "native" };
    case ".ppt":
    case ".pptm":
    case ".pptx":
    case ".potx":
      return { icon: "file-powerpoint", color: "native" };
    case ".pages":
      return { icon: "file", color: "orange" };
    case ".numbers":
      return { icon: "file", color: "green" };
    case ".keynote":
      return { icon: "file", color: "blue" };
  }
  return { icon: "file" };
}
function w0(e) {
  const t = gi(e);
  return t === "" ? "none" : y0(t) ? "image" : oh(t) ? "code" : nf(t) ? "text" : ef(t) ? "audio" : tf(t) ? "video" : "none";
}
function Oa(e) {
  switch (e) {
    case "Google Drive":
      return "google-drive";
    case "Dropbox":
      return "dropbox";
    case "OneDrive":
      return "onedrive";
    case "Box":
      return "box";
    case "Confluence":
      return "confluence";
    default:
      return "";
  }
}
function ah(e) {
  let t = "file";
  switch (gi(e)) {
    case ".7z":
    case ".zip":
      t = "archive";
      break;
    case ".aac":
    case ".aif":
    case ".aiff":
    case ".au":
    case ".gsm":
    case ".m4a":
    case ".mid":
    case ".midi":
    case ".mka":
    case ".mp3":
    case ".oga":
    case ".ogg":
    case ".ra":
    case ".ram":
    case ".snd":
    case ".spx":
    case ".wav":
    case ".wma":
      t = "audio";
      break;
    case ".c":
    case ".cgi":
    case ".cpp":
    case ".cs":
    case ".cshtml":
    case ".css":
    case ".html":
    case ".java":
    case ".js":
    case ".json":
    case ".less":
    case ".php":
    case ".pl":
    case ".ps1":
    case ".py":
    case ".rb":
    case ".rs":
    case ".scss":
    case ".sh":
    case ".swift":
    case ".sql":
    case ".ts":
    case ".xml":
    case ".yaml":
    case ".yml":
      t = "code";
      break;
    case ".doc":
    case ".docm":
    case ".docx":
    case ".dotm":
    case ".dotx":
    case ".gdoc":
    case ".pages":
    case ".pdf":
      t = "document";
      break;
    case ".eml":
    case ".msg":
      t = "email";
      break;
    case ".gslides":
    case ".keynote":
    case ".ppt":
    case ".pptm":
    case ".pptx":
    case ".potx":
      t = "presentation";
      break;
    case ".gsheet":
    case ".numbers":
    case ".xls":
    case ".xlsm":
    case ".xlsx":
    case ".xltx":
      t = "spreadsheet";
      break;
    case ".ai":
    case ".apng":
    case ".bmp":
    case ".emf":
    case ".eps":
    case ".gif":
    case ".heic":
    case ".ico":
    case ".jpg":
    case ".jpeg":
    case ".png":
    case ".psd":
    case ".svg":
    case ".tif":
    case ".tiff":
    case ".webp":
    case ".wmf":
      t = "image";
      break;
    case ".md":
    case ".markdown":
    case ".txt":
      t = "text";
      break;
    case ".3g2":
    case ".asx":
    case ".asf":
    case ".avi":
    case ".flv":
    case ".mk3d":
    case ".mkv":
    case ".mov":
    case ".mp4":
    case ".mpeg":
    case ".mpg":
    case ".ogm":
    case ".ogv":
    case ".ogx":
    case ".qt":
    case ".rm":
    case ".rv":
    case ".smi":
    case ".smil":
    case ".swf":
    case ".webm":
    case ".wmv":
    case ".xaml":
      t = "video";
      break;
  }
  return t;
}
function sh(e) {
  const t = e.target, r = t == null ? void 0 : t.value.lastIndexOf(".");
  r === -1 ? t == null || t.select() : t == null || t.setSelectionRange(0, r);
}
var f0 = Object.defineProperty, m0 = Object.getOwnPropertyDescriptor, Ia = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? m0(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && f0(t, r, n), n;
};
let Mn = class extends we {
  constructor() {
    super(...arguments), this.name = "", this.previewUrl = "", this.url = "", this.size = 0;
  }
  render() {
    const e = this.size && this.size > 0 ? Cl(this.size) : null, t = gi(this.name);
    let { icon: r } = Fn(this.name);
    const i = ah(this.name), n = Oa(this.provider);
    return n && (r = `${r}+${n}`), v`
      <a href=${this.previewUrl || this.url} class="wy-item wy-item-lg" target="_blank" title=${this.name}>
        <wy-icon name=${r} size="48" kind=${i} ext=${t}></wy-icon>
        <div class="wy-item-body ">
          <div class="wy-item-title">${this.name}</div>
          ${e ? v`<div class="wy-item-text" title="{fileSize}">${e}</div>` : ""}
        </div>
      </a>
    `;
  }
};
Mn.styles = ke;
Ia([
  m()
], Mn.prototype, "name", 2);
Ia([
  m()
], Mn.prototype, "previewUrl", 2);
Ia([
  m()
], Mn.prototype, "url", 2);
Ia([
  m()
], Mn.prototype, "provider", 2);
Ia([
  m({ type: Number })
], Mn.prototype, "size", 2);
Mn = Ia([
  fe("wy-attachment")
], Mn);
const of = "important", v0 = " !" + of, el = Tn(class extends Rn {
  constructor(e) {
    var t;
    if (super(e), e.type !== Ys.ATTRIBUTE || e.name !== "style" || ((t = e.strings) == null ? void 0 : t.length) > 2)
      throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");
  }
  render(e) {
    return Object.keys(e).reduce((t, r) => {
      const i = e[r];
      return i == null ? t : t + `${r = r.includes("-") ? r : r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g, "-$&").toLowerCase()}:${i};`;
    }, "");
  }
  update(e, [t]) {
    const { style: r } = e.element;
    if (this.ft === void 0)
      return this.ft = new Set(Object.keys(t)), this.render(t);
    for (const i of this.ft)
      t[i] == null && (this.ft.delete(i), i.includes("-") ? r.removeProperty(i) : r[i] = null);
    for (const i in t) {
      const n = t[i];
      if (n != null) {
        this.ft.add(i);
        const o = typeof n == "string" && n.endsWith(v0);
        i.includes("-") || o ? r.setProperty(i, o ? n.slice(0, -11) : n, o ? of : "") : r[i] = n;
      }
    }
    return Pi;
  }
});
function Od(e) {
  const t = e;
  t && (t.complete && t.naturalHeight !== 0 ? t.classList.contains("wy-loading") ? t.decode().then(() => {
    t.classList.add("wy-loaded");
  }) : t.classList.add("wy-loading", "wy-loaded") : t.classList.add("wy-loading"));
}
function Id(e) {
  const t = e.target;
  t.tagName === "IMG" && t.classList.contains("wy-loading") && !t.classList.contains("wy-loaded") && t.classList.add("wy-loaded");
}
var g0 = Object.defineProperty, b0 = Object.getOwnPropertyDescriptor, ch = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? b0(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && g0(t, r, n), n;
};
let Es = class extends we {
  constructor() {
    super(...arguments), this.images = [], this.limit = 3;
  }
  createRenderRoot() {
    return this;
  }
  dispatchFileOpen(e, t) {
    if (e.preventDefault(), !t.is_trashed) {
      const r = new CustomEvent("file-open", { detail: { file: t } });
      this.dispatchEvent(r);
    }
  }
  render() {
    const e = this.images.length > this.limit ? this.images.length - this.limit : 0, t = this.images.slice(0, this.limit);
    return v`
      <div class="wy-image-grid">
        ${t.map((r, i) => {
      const n = r.width / r.height || 1, o = 64, a = 2, s = n.toPrecision(5), c = (n * o).toPrecision(5) + "px", l = (100 / n).toPrecision(5) + "%", d = r.width + "px", h = r.width > 0 ? a * r.width + "px" : "none";
      return v`
            <a
              href="#"
              @click=${(y) => {
        !y.defaultPrevented && this.dispatchFileOpen(y, r);
      }}
              class="wy-image"
              style=${el({
        flexBasis: c,
        flexGrow: s,
        flexShrink: s,
        width: d,
        maxWidth: h
      })}>
              <div class="wy-image-area" style=${el({ paddingBottom: l })}>
                <img
                  src=${r.preview_url}
                  ${Pe(Od)}
                  @load=${Id}
                  alt=""
                  loading="lazy"
                  decoding="async" />
                ${i === t.length - 1 && e ? v`<span class="wy-more">+${e}</span>` : ""}
              </div>
            </a>
          `;
    })}
      </div>
    `;
  }
};
Es.styles = ke;
ch([
  m({ attribute: !1 })
], Es.prototype, "images", 2);
ch([
  m({ type: Number })
], Es.prototype, "limit", 2);
Es = ch([
  fe("wy-image-grid")
], Es);
var x0 = Object.defineProperty, _0 = Object.getOwnPropertyDescriptor, lh = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? _0(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && x0(t, r, n), n;
};
let Ss = class extends we {
  constructor() {
    super(...arguments), this.files = [], this.limit = 3;
  }
  createRenderRoot() {
    return this;
  }
  dispatchFileOpen(e, t) {
    e.preventDefault();
    const r = new CustomEvent("file-open", { detail: { file: t } });
    return this.dispatchEvent(r);
  }
  render() {
    return v`
      <div class="wy-list wy-list-bordered">
        ${this.files.map((e) => {
      const t = e.size && e.size > 0 ? Cl(e.size) : null, r = gi(e.name);
      let { icon: i } = Fn(e.name);
      const n = ah(e.name), o = Oa(e.provider);
      return o && (i = `${i}+${o}`), v`
            <a
              @click=${(a) => {
        !a.defaultPrevented && !e.is_trashed && this.dispatchFileOpen(a, e);
      }}
              class="wy-item wy-item-lg"
              href="#"
              title=${e.name}>
              <wy-icon name=${i} size="48" kind=${n} ext=${r}></wy-icon>
              <div class="wy-item-body ">
                <div class="wy-item-title">${e.name}</div>
                ${t ? v`<div class="wy-item-text" title="{fileSize}">${t}</div>` : ""}
              </div>
            </a>
          `;
    })}
      </div>
    `;
  }
};
Ss.styles = ke;
lh([
  m({ attribute: !1 })
], Ss.prototype, "files", 2);
lh([
  m({ type: Number })
], Ss.prototype, "limit", 2);
Ss = lh([
  fe("wy-attachments-list")
], Ss);
var Sr = "top", Xr = "bottom", Jr = "right", Pr = "left", dh = "auto", sc = [Sr, Xr, Jr, Pr], da = "start", Ps = "end", k0 = "clippingParents", af = "viewport", ja = "popper", C0 = "reference", Iy = /* @__PURE__ */ sc.reduce(function(e, t) {
  return e.concat([t + "-" + da, t + "-" + Ps]);
}, []), sf = /* @__PURE__ */ [].concat(sc, [dh]).reduce(function(e, t) {
  return e.concat([t, t + "-" + da, t + "-" + Ps]);
}, []), $0 = "beforeRead", E0 = "read", S0 = "afterRead", P0 = "beforeMain", A0 = "main", L0 = "afterMain", M0 = "beforeWrite", O0 = "write", I0 = "afterWrite", T0 = [$0, E0, S0, P0, A0, L0, M0, O0, I0];
function Li(e) {
  return e ? (e.nodeName || "").toLowerCase() : null;
}
function Nr(e) {
  if (e == null)
    return window;
  if (e.toString() !== "[object Window]") {
    var t = e.ownerDocument;
    return t && t.defaultView || window;
  }
  return e;
}
function wo(e) {
  var t = Nr(e).Element;
  return e instanceof t || e instanceof Element;
}
function Zr(e) {
  var t = Nr(e).HTMLElement;
  return e instanceof t || e instanceof HTMLElement;
}
function uh(e) {
  if (typeof ShadowRoot > "u")
    return !1;
  var t = Nr(e).ShadowRoot;
  return e instanceof t || e instanceof ShadowRoot;
}
function R0(e) {
  var t = e.state;
  Object.keys(t.elements).forEach(function(r) {
    var i = t.styles[r] || {}, n = t.attributes[r] || {}, o = t.elements[r];
    !Zr(o) || !Li(o) || (Object.assign(o.style, i), Object.keys(n).forEach(function(a) {
      var s = n[a];
      s === !1 ? o.removeAttribute(a) : o.setAttribute(a, s === !0 ? "" : s);
    }));
  });
}
function D0(e) {
  var t = e.state, r = {
    popper: {
      position: t.options.strategy,
      left: "0",
      top: "0",
      margin: "0"
    },
    arrow: {
      position: "absolute"
    },
    reference: {}
  };
  return Object.assign(t.elements.popper.style, r.popper), t.styles = r, t.elements.arrow && Object.assign(t.elements.arrow.style, r.arrow), function() {
    Object.keys(t.elements).forEach(function(i) {
      var n = t.elements[i], o = t.attributes[i] || {}, a = Object.keys(t.styles.hasOwnProperty(i) ? t.styles[i] : r[i]), s = a.reduce(function(c, l) {
        return c[l] = "", c;
      }, {});
      !Zr(n) || !Li(n) || (Object.assign(n.style, s), Object.keys(o).forEach(function(c) {
        n.removeAttribute(c);
      }));
    });
  };
}
const F0 = {
  name: "applyStyles",
  enabled: !0,
  phase: "write",
  fn: R0,
  effect: D0,
  requires: ["computeStyles"]
};
function Si(e) {
  return e.split("-")[0];
}
var ao = Math.max, tl = Math.min, ua = Math.round;
function Td() {
  var e = navigator.userAgentData;
  return e != null && e.brands && Array.isArray(e.brands) ? e.brands.map(function(t) {
    return t.brand + "/" + t.version;
  }).join(" ") : navigator.userAgent;
}
function cf() {
  return !/^((?!chrome|android).)*safari/i.test(Td());
}
function ha(e, t, r) {
  t === void 0 && (t = !1), r === void 0 && (r = !1);
  var i = e.getBoundingClientRect(), n = 1, o = 1;
  t && Zr(e) && (n = e.offsetWidth > 0 && ua(i.width) / e.offsetWidth || 1, o = e.offsetHeight > 0 && ua(i.height) / e.offsetHeight || 1);
  var a = wo(e) ? Nr(e) : window, s = a.visualViewport, c = !cf() && r, l = (i.left + (c && s ? s.offsetLeft : 0)) / n, d = (i.top + (c && s ? s.offsetTop : 0)) / o, h = i.width / n, y = i.height / o;
  return {
    width: h,
    height: y,
    top: d,
    right: l + h,
    bottom: d + y,
    left: l,
    x: l,
    y: d
  };
}
function hh(e) {
  var t = ha(e), r = e.offsetWidth, i = e.offsetHeight;
  return Math.abs(t.width - r) <= 1 && (r = t.width), Math.abs(t.height - i) <= 1 && (i = t.height), {
    x: e.offsetLeft,
    y: e.offsetTop,
    width: r,
    height: i
  };
}
function lf(e, t) {
  var r = t.getRootNode && t.getRootNode();
  if (e.contains(t))
    return !0;
  if (r && uh(r)) {
    var i = t;
    do {
      if (i && e.isSameNode(i))
        return !0;
      i = i.parentNode || i.host;
    } while (i);
  }
  return !1;
}
function Ji(e) {
  return Nr(e).getComputedStyle(e);
}
function z0(e) {
  return ["table", "td", "th"].indexOf(Li(e)) >= 0;
}
function zn(e) {
  return ((wo(e) ? e.ownerDocument : (
    // $FlowFixMe[prop-missing]
    e.document
  )) || window.document).documentElement;
}
function $l(e) {
  return Li(e) === "html" ? e : (
    // this is a quicker (but less type safe) way to save quite some bytes from the bundle
    // $FlowFixMe[incompatible-return]
    // $FlowFixMe[prop-missing]
    e.assignedSlot || // step into the shadow DOM of the parent of a slotted node
    e.parentNode || // DOM Element detected
    (uh(e) ? e.host : null) || // ShadowRoot detected
    // $FlowFixMe[incompatible-call]: HTMLElement is a Node
    zn(e)
  );
}
function Ty(e) {
  return !Zr(e) || // https://github.com/popperjs/popper-core/issues/837
  Ji(e).position === "fixed" ? null : e.offsetParent;
}
function V0(e) {
  var t = /firefox/i.test(Td()), r = /Trident/i.test(Td());
  if (r && Zr(e)) {
    var i = Ji(e);
    if (i.position === "fixed")
      return null;
  }
  var n = $l(e);
  for (uh(n) && (n = n.host); Zr(n) && ["html", "body"].indexOf(Li(n)) < 0; ) {
    var o = Ji(n);
    if (o.transform !== "none" || o.perspective !== "none" || o.contain === "paint" || ["transform", "perspective"].indexOf(o.willChange) !== -1 || t && o.willChange === "filter" || t && o.filter && o.filter !== "none")
      return n;
    n = n.parentNode;
  }
  return null;
}
function cc(e) {
  for (var t = Nr(e), r = Ty(e); r && z0(r) && Ji(r).position === "static"; )
    r = Ty(r);
  return r && (Li(r) === "html" || Li(r) === "body" && Ji(r).position === "static") ? t : r || V0(e) || t;
}
function yh(e) {
  return ["top", "bottom"].indexOf(e) >= 0 ? "x" : "y";
}
function as(e, t, r) {
  return ao(e, tl(t, r));
}
function N0(e, t, r) {
  var i = as(e, t, r);
  return i > r ? r : i;
}
function df() {
  return {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  };
}
function uf(e) {
  return Object.assign({}, df(), e);
}
function hf(e, t) {
  return t.reduce(function(r, i) {
    return r[i] = e, r;
  }, {});
}
var B0 = function(t, r) {
  return t = typeof t == "function" ? t(Object.assign({}, r.rects, {
    placement: r.placement
  })) : t, uf(typeof t != "number" ? t : hf(t, sc));
};
function H0(e) {
  var t, r = e.state, i = e.name, n = e.options, o = r.elements.arrow, a = r.modifiersData.popperOffsets, s = Si(r.placement), c = yh(s), l = [Pr, Jr].indexOf(s) >= 0, d = l ? "height" : "width";
  if (!(!o || !a)) {
    var h = B0(n.padding, r), y = hh(o), w = c === "y" ? Sr : Pr, b = c === "y" ? Xr : Jr, C = r.rects.reference[d] + r.rects.reference[c] - a[c] - r.rects.popper[d], E = a[c] - r.rects.reference[c], A = cc(o), _ = A ? c === "y" ? A.clientHeight || 0 : A.clientWidth || 0 : 0, x = C / 2 - E / 2, T = h[w], k = _ - y[d] - h[b], g = _ / 2 - y[d] / 2 + x, S = as(T, g, k), L = c;
    r.modifiersData[i] = (t = {}, t[L] = S, t.centerOffset = S - g, t);
  }
}
function j0(e) {
  var t = e.state, r = e.options, i = r.element, n = i === void 0 ? "[data-popper-arrow]" : i;
  n != null && (typeof n == "string" && (n = t.elements.popper.querySelector(n), !n) || lf(t.elements.popper, n) && (t.elements.arrow = n));
}
const U0 = {
  name: "arrow",
  enabled: !0,
  phase: "main",
  fn: H0,
  effect: j0,
  requires: ["popperOffsets"],
  requiresIfExists: ["preventOverflow"]
};
function ya(e) {
  return e.split("-")[1];
}
var W0 = {
  top: "auto",
  right: "auto",
  bottom: "auto",
  left: "auto"
};
function q0(e, t) {
  var r = e.x, i = e.y, n = t.devicePixelRatio || 1;
  return {
    x: ua(r * n) / n || 0,
    y: ua(i * n) / n || 0
  };
}
function Ry(e) {
  var t, r = e.popper, i = e.popperRect, n = e.placement, o = e.variation, a = e.offsets, s = e.position, c = e.gpuAcceleration, l = e.adaptive, d = e.roundOffsets, h = e.isFixed, y = a.x, w = y === void 0 ? 0 : y, b = a.y, C = b === void 0 ? 0 : b, E = typeof d == "function" ? d({
    x: w,
    y: C
  }) : {
    x: w,
    y: C
  };
  w = E.x, C = E.y;
  var A = a.hasOwnProperty("x"), _ = a.hasOwnProperty("y"), x = Pr, T = Sr, k = window;
  if (l) {
    var g = cc(r), S = "clientHeight", L = "clientWidth";
    if (g === Nr(r) && (g = zn(r), Ji(g).position !== "static" && s === "absolute" && (S = "scrollHeight", L = "scrollWidth")), g = g, n === Sr || (n === Pr || n === Jr) && o === Ps) {
      T = Xr;
      var R = h && g === k && k.visualViewport ? k.visualViewport.height : (
        // $FlowFixMe[prop-missing]
        g[S]
      );
      C -= R - i.height, C *= c ? 1 : -1;
    }
    if (n === Pr || (n === Sr || n === Xr) && o === Ps) {
      x = Jr;
      var U = h && g === k && k.visualViewport ? k.visualViewport.width : (
        // $FlowFixMe[prop-missing]
        g[L]
      );
      w -= U - i.width, w *= c ? 1 : -1;
    }
  }
  var J = Object.assign({
    position: s
  }, l && W0), ne = d === !0 ? q0({
    x: w,
    y: C
  }, Nr(r)) : {
    x: w,
    y: C
  };
  if (w = ne.x, C = ne.y, c) {
    var ue;
    return Object.assign({}, J, (ue = {}, ue[T] = _ ? "0" : "", ue[x] = A ? "0" : "", ue.transform = (k.devicePixelRatio || 1) <= 1 ? "translate(" + w + "px, " + C + "px)" : "translate3d(" + w + "px, " + C + "px, 0)", ue));
  }
  return Object.assign({}, J, (t = {}, t[T] = _ ? C + "px" : "", t[x] = A ? w + "px" : "", t.transform = "", t));
}
function Q0(e) {
  var t = e.state, r = e.options, i = r.gpuAcceleration, n = i === void 0 ? !0 : i, o = r.adaptive, a = o === void 0 ? !0 : o, s = r.roundOffsets, c = s === void 0 ? !0 : s, l = {
    placement: Si(t.placement),
    variation: ya(t.placement),
    popper: t.elements.popper,
    popperRect: t.rects.popper,
    gpuAcceleration: n,
    isFixed: t.options.strategy === "fixed"
  };
  t.modifiersData.popperOffsets != null && (t.styles.popper = Object.assign({}, t.styles.popper, Ry(Object.assign({}, l, {
    offsets: t.modifiersData.popperOffsets,
    position: t.options.strategy,
    adaptive: a,
    roundOffsets: c
  })))), t.modifiersData.arrow != null && (t.styles.arrow = Object.assign({}, t.styles.arrow, Ry(Object.assign({}, l, {
    offsets: t.modifiersData.arrow,
    position: "absolute",
    adaptive: !1,
    roundOffsets: c
  })))), t.attributes.popper = Object.assign({}, t.attributes.popper, {
    "data-popper-placement": t.placement
  });
}
const K0 = {
  name: "computeStyles",
  enabled: !0,
  phase: "beforeWrite",
  fn: Q0,
  data: {}
};
var kc = {
  passive: !0
};
function Z0(e) {
  var t = e.state, r = e.instance, i = e.options, n = i.scroll, o = n === void 0 ? !0 : n, a = i.resize, s = a === void 0 ? !0 : a, c = Nr(t.elements.popper), l = [].concat(t.scrollParents.reference, t.scrollParents.popper);
  return o && l.forEach(function(d) {
    d.addEventListener("scroll", r.update, kc);
  }), s && c.addEventListener("resize", r.update, kc), function() {
    o && l.forEach(function(d) {
      d.removeEventListener("scroll", r.update, kc);
    }), s && c.removeEventListener("resize", r.update, kc);
  };
}
const Y0 = {
  name: "eventListeners",
  enabled: !0,
  phase: "write",
  fn: function() {
  },
  effect: Z0,
  data: {}
};
var G0 = {
  left: "right",
  right: "left",
  bottom: "top",
  top: "bottom"
};
function Mc(e) {
  return e.replace(/left|right|bottom|top/g, function(t) {
    return G0[t];
  });
}
var X0 = {
  start: "end",
  end: "start"
};
function Dy(e) {
  return e.replace(/start|end/g, function(t) {
    return X0[t];
  });
}
function ph(e) {
  var t = Nr(e), r = t.pageXOffset, i = t.pageYOffset;
  return {
    scrollLeft: r,
    scrollTop: i
  };
}
function wh(e) {
  return ha(zn(e)).left + ph(e).scrollLeft;
}
function J0(e, t) {
  var r = Nr(e), i = zn(e), n = r.visualViewport, o = i.clientWidth, a = i.clientHeight, s = 0, c = 0;
  if (n) {
    o = n.width, a = n.height;
    var l = cf();
    (l || !l && t === "fixed") && (s = n.offsetLeft, c = n.offsetTop);
  }
  return {
    width: o,
    height: a,
    x: s + wh(e),
    y: c
  };
}
function e2(e) {
  var t, r = zn(e), i = ph(e), n = (t = e.ownerDocument) == null ? void 0 : t.body, o = ao(r.scrollWidth, r.clientWidth, n ? n.scrollWidth : 0, n ? n.clientWidth : 0), a = ao(r.scrollHeight, r.clientHeight, n ? n.scrollHeight : 0, n ? n.clientHeight : 0), s = -i.scrollLeft + wh(e), c = -i.scrollTop;
  return Ji(n || r).direction === "rtl" && (s += ao(r.clientWidth, n ? n.clientWidth : 0) - o), {
    width: o,
    height: a,
    x: s,
    y: c
  };
}
function fh(e) {
  var t = Ji(e), r = t.overflow, i = t.overflowX, n = t.overflowY;
  return /auto|scroll|overlay|hidden/.test(r + n + i);
}
function yf(e) {
  return ["html", "body", "#document"].indexOf(Li(e)) >= 0 ? e.ownerDocument.body : Zr(e) && fh(e) ? e : yf($l(e));
}
function ss(e, t) {
  var r;
  t === void 0 && (t = []);
  var i = yf(e), n = i === ((r = e.ownerDocument) == null ? void 0 : r.body), o = Nr(i), a = n ? [o].concat(o.visualViewport || [], fh(i) ? i : []) : i, s = t.concat(a);
  return n ? s : (
    // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here
    s.concat(ss($l(a)))
  );
}
function Rd(e) {
  return Object.assign({}, e, {
    left: e.x,
    top: e.y,
    right: e.x + e.width,
    bottom: e.y + e.height
  });
}
function t2(e, t) {
  var r = ha(e, !1, t === "fixed");
  return r.top = r.top + e.clientTop, r.left = r.left + e.clientLeft, r.bottom = r.top + e.clientHeight, r.right = r.left + e.clientWidth, r.width = e.clientWidth, r.height = e.clientHeight, r.x = r.left, r.y = r.top, r;
}
function Fy(e, t, r) {
  return t === af ? Rd(J0(e, r)) : wo(t) ? t2(t, r) : Rd(e2(zn(e)));
}
function r2(e) {
  var t = ss($l(e)), r = ["absolute", "fixed"].indexOf(Ji(e).position) >= 0, i = r && Zr(e) ? cc(e) : e;
  return wo(i) ? t.filter(function(n) {
    return wo(n) && lf(n, i) && Li(n) !== "body";
  }) : [];
}
function i2(e, t, r, i) {
  var n = t === "clippingParents" ? r2(e) : [].concat(t), o = [].concat(n, [r]), a = o[0], s = o.reduce(function(c, l) {
    var d = Fy(e, l, i);
    return c.top = ao(d.top, c.top), c.right = tl(d.right, c.right), c.bottom = tl(d.bottom, c.bottom), c.left = ao(d.left, c.left), c;
  }, Fy(e, a, i));
  return s.width = s.right - s.left, s.height = s.bottom - s.top, s.x = s.left, s.y = s.top, s;
}
function pf(e) {
  var t = e.reference, r = e.element, i = e.placement, n = i ? Si(i) : null, o = i ? ya(i) : null, a = t.x + t.width / 2 - r.width / 2, s = t.y + t.height / 2 - r.height / 2, c;
  switch (n) {
    case Sr:
      c = {
        x: a,
        y: t.y - r.height
      };
      break;
    case Xr:
      c = {
        x: a,
        y: t.y + t.height
      };
      break;
    case Jr:
      c = {
        x: t.x + t.width,
        y: s
      };
      break;
    case Pr:
      c = {
        x: t.x - r.width,
        y: s
      };
      break;
    default:
      c = {
        x: t.x,
        y: t.y
      };
  }
  var l = n ? yh(n) : null;
  if (l != null) {
    var d = l === "y" ? "height" : "width";
    switch (o) {
      case da:
        c[l] = c[l] - (t[d] / 2 - r[d] / 2);
        break;
      case Ps:
        c[l] = c[l] + (t[d] / 2 - r[d] / 2);
        break;
    }
  }
  return c;
}
function As(e, t) {
  t === void 0 && (t = {});
  var r = t, i = r.placement, n = i === void 0 ? e.placement : i, o = r.strategy, a = o === void 0 ? e.strategy : o, s = r.boundary, c = s === void 0 ? k0 : s, l = r.rootBoundary, d = l === void 0 ? af : l, h = r.elementContext, y = h === void 0 ? ja : h, w = r.altBoundary, b = w === void 0 ? !1 : w, C = r.padding, E = C === void 0 ? 0 : C, A = uf(typeof E != "number" ? E : hf(E, sc)), _ = y === ja ? C0 : ja, x = e.rects.popper, T = e.elements[b ? _ : y], k = i2(wo(T) ? T : T.contextElement || zn(e.elements.popper), c, d, a), g = ha(e.elements.reference), S = pf({
    reference: g,
    element: x,
    strategy: "absolute",
    placement: n
  }), L = Rd(Object.assign({}, x, S)), R = y === ja ? L : g, U = {
    top: k.top - R.top + A.top,
    bottom: R.bottom - k.bottom + A.bottom,
    left: k.left - R.left + A.left,
    right: R.right - k.right + A.right
  }, J = e.modifiersData.offset;
  if (y === ja && J) {
    var ne = J[n];
    Object.keys(U).forEach(function(ue) {
      var K = [Jr, Xr].indexOf(ue) >= 0 ? 1 : -1, ae = [Sr, Xr].indexOf(ue) >= 0 ? "y" : "x";
      U[ue] += ne[ae] * K;
    });
  }
  return U;
}
function n2(e, t) {
  t === void 0 && (t = {});
  var r = t, i = r.placement, n = r.boundary, o = r.rootBoundary, a = r.padding, s = r.flipVariations, c = r.allowedAutoPlacements, l = c === void 0 ? sf : c, d = ya(i), h = d ? s ? Iy : Iy.filter(function(b) {
    return ya(b) === d;
  }) : sc, y = h.filter(function(b) {
    return l.indexOf(b) >= 0;
  });
  y.length === 0 && (y = h);
  var w = y.reduce(function(b, C) {
    return b[C] = As(e, {
      placement: C,
      boundary: n,
      rootBoundary: o,
      padding: a
    })[Si(C)], b;
  }, {});
  return Object.keys(w).sort(function(b, C) {
    return w[b] - w[C];
  });
}
function o2(e) {
  if (Si(e) === dh)
    return [];
  var t = Mc(e);
  return [Dy(e), t, Dy(t)];
}
function a2(e) {
  var t = e.state, r = e.options, i = e.name;
  if (!t.modifiersData[i]._skip) {
    for (var n = r.mainAxis, o = n === void 0 ? !0 : n, a = r.altAxis, s = a === void 0 ? !0 : a, c = r.fallbackPlacements, l = r.padding, d = r.boundary, h = r.rootBoundary, y = r.altBoundary, w = r.flipVariations, b = w === void 0 ? !0 : w, C = r.allowedAutoPlacements, E = t.options.placement, A = Si(E), _ = A === E, x = c || (_ || !b ? [Mc(E)] : o2(E)), T = [E].concat(x).reduce(function(Ce, Re) {
      return Ce.concat(Si(Re) === dh ? n2(t, {
        placement: Re,
        boundary: d,
        rootBoundary: h,
        padding: l,
        flipVariations: b,
        allowedAutoPlacements: C
      }) : Re);
    }, []), k = t.rects.reference, g = t.rects.popper, S = /* @__PURE__ */ new Map(), L = !0, R = T[0], U = 0; U < T.length; U++) {
      var J = T[U], ne = Si(J), ue = ya(J) === da, K = [Sr, Xr].indexOf(ne) >= 0, ae = K ? "width" : "height", ee = As(t, {
        placement: J,
        boundary: d,
        rootBoundary: h,
        altBoundary: y,
        padding: l
      }), Q = K ? ue ? Jr : Pr : ue ? Xr : Sr;
      k[ae] > g[ae] && (Q = Mc(Q));
      var Z = Mc(Q), le = [];
      if (o && le.push(ee[ne] <= 0), s && le.push(ee[Q] <= 0, ee[Z] <= 0), le.every(function(Ce) {
        return Ce;
      })) {
        R = J, L = !1;
        break;
      }
      S.set(J, le);
    }
    if (L)
      for (var O = b ? 3 : 1, de = function(Re) {
        var qe = T.find(function(Ge) {
          var Ne = S.get(Ge);
          if (Ne)
            return Ne.slice(0, Re).every(function(it) {
              return it;
            });
        });
        if (qe)
          return R = qe, "break";
      }, ve = O; ve > 0; ve--) {
        var me = de(ve);
        if (me === "break")
          break;
      }
    t.placement !== R && (t.modifiersData[i]._skip = !0, t.placement = R, t.reset = !0);
  }
}
const s2 = {
  name: "flip",
  enabled: !0,
  phase: "main",
  fn: a2,
  requiresIfExists: ["offset"],
  data: {
    _skip: !1
  }
};
function zy(e, t, r) {
  return r === void 0 && (r = {
    x: 0,
    y: 0
  }), {
    top: e.top - t.height - r.y,
    right: e.right - t.width + r.x,
    bottom: e.bottom - t.height + r.y,
    left: e.left - t.width - r.x
  };
}
function Vy(e) {
  return [Sr, Jr, Xr, Pr].some(function(t) {
    return e[t] >= 0;
  });
}
function c2(e) {
  var t = e.state, r = e.name, i = t.rects.reference, n = t.rects.popper, o = t.modifiersData.preventOverflow, a = As(t, {
    elementContext: "reference"
  }), s = As(t, {
    altBoundary: !0
  }), c = zy(a, i), l = zy(s, n, o), d = Vy(c), h = Vy(l);
  t.modifiersData[r] = {
    referenceClippingOffsets: c,
    popperEscapeOffsets: l,
    isReferenceHidden: d,
    hasPopperEscaped: h
  }, t.attributes.popper = Object.assign({}, t.attributes.popper, {
    "data-popper-reference-hidden": d,
    "data-popper-escaped": h
  });
}
const l2 = {
  name: "hide",
  enabled: !0,
  phase: "main",
  requiresIfExists: ["preventOverflow"],
  fn: c2
};
function d2(e, t, r) {
  var i = Si(e), n = [Pr, Sr].indexOf(i) >= 0 ? -1 : 1, o = typeof r == "function" ? r(Object.assign({}, t, {
    placement: e
  })) : r, a = o[0], s = o[1];
  return a = a || 0, s = (s || 0) * n, [Pr, Jr].indexOf(i) >= 0 ? {
    x: s,
    y: a
  } : {
    x: a,
    y: s
  };
}
function u2(e) {
  var t = e.state, r = e.options, i = e.name, n = r.offset, o = n === void 0 ? [0, 0] : n, a = sf.reduce(function(d, h) {
    return d[h] = d2(h, t.rects, o), d;
  }, {}), s = a[t.placement], c = s.x, l = s.y;
  t.modifiersData.popperOffsets != null && (t.modifiersData.popperOffsets.x += c, t.modifiersData.popperOffsets.y += l), t.modifiersData[i] = a;
}
const h2 = {
  name: "offset",
  enabled: !0,
  phase: "main",
  requires: ["popperOffsets"],
  fn: u2
};
function y2(e) {
  var t = e.state, r = e.name;
  t.modifiersData[r] = pf({
    reference: t.rects.reference,
    element: t.rects.popper,
    strategy: "absolute",
    placement: t.placement
  });
}
const p2 = {
  name: "popperOffsets",
  enabled: !0,
  phase: "read",
  fn: y2,
  data: {}
};
function w2(e) {
  return e === "x" ? "y" : "x";
}
function f2(e) {
  var t = e.state, r = e.options, i = e.name, n = r.mainAxis, o = n === void 0 ? !0 : n, a = r.altAxis, s = a === void 0 ? !1 : a, c = r.boundary, l = r.rootBoundary, d = r.altBoundary, h = r.padding, y = r.tether, w = y === void 0 ? !0 : y, b = r.tetherOffset, C = b === void 0 ? 0 : b, E = As(t, {
    boundary: c,
    rootBoundary: l,
    padding: h,
    altBoundary: d
  }), A = Si(t.placement), _ = ya(t.placement), x = !_, T = yh(A), k = w2(T), g = t.modifiersData.popperOffsets, S = t.rects.reference, L = t.rects.popper, R = typeof C == "function" ? C(Object.assign({}, t.rects, {
    placement: t.placement
  })) : C, U = typeof R == "number" ? {
    mainAxis: R,
    altAxis: R
  } : Object.assign({
    mainAxis: 0,
    altAxis: 0
  }, R), J = t.modifiersData.offset ? t.modifiersData.offset[t.placement] : null, ne = {
    x: 0,
    y: 0
  };
  if (g) {
    if (o) {
      var ue, K = T === "y" ? Sr : Pr, ae = T === "y" ? Xr : Jr, ee = T === "y" ? "height" : "width", Q = g[T], Z = Q + E[K], le = Q - E[ae], O = w ? -L[ee] / 2 : 0, de = _ === da ? S[ee] : L[ee], ve = _ === da ? -L[ee] : -S[ee], me = t.elements.arrow, Ce = w && me ? hh(me) : {
        width: 0,
        height: 0
      }, Re = t.modifiersData["arrow#persistent"] ? t.modifiersData["arrow#persistent"].padding : df(), qe = Re[K], Ge = Re[ae], Ne = as(0, S[ee], Ce[ee]), it = x ? S[ee] / 2 - O - Ne - qe - U.mainAxis : de - Ne - qe - U.mainAxis, je = x ? -S[ee] / 2 + O + Ne + Ge + U.mainAxis : ve + Ne + Ge + U.mainAxis, Fe = t.elements.arrow && cc(t.elements.arrow), ir = Fe ? T === "y" ? Fe.clientTop || 0 : Fe.clientLeft || 0 : 0, bt = (ue = J == null ? void 0 : J[T]) != null ? ue : 0, Ni = Q + it - bt - ir, oe = Q + je - bt, ye = as(w ? tl(Z, Ni) : Z, Q, w ? ao(le, oe) : le);
      g[T] = ye, ne[T] = ye - Q;
    }
    if (s) {
      var _e, $e = T === "x" ? Sr : Pr, Ee = T === "x" ? Xr : Jr, Me = g[k], Y = k === "y" ? "height" : "width", M = Me + E[$e], u = Me - E[Ee], f = [Sr, Pr].indexOf(A) !== -1, P = (_e = J == null ? void 0 : J[k]) != null ? _e : 0, I = f ? M : Me - S[Y] - L[Y] - P + U.altAxis, H = f ? Me + S[Y] + L[Y] - P - U.altAxis : u, W = w && f ? N0(I, Me, H) : as(w ? I : M, Me, w ? H : u);
      g[k] = W, ne[k] = W - Me;
    }
    t.modifiersData[i] = ne;
  }
}
const m2 = {
  name: "preventOverflow",
  enabled: !0,
  phase: "main",
  fn: f2,
  requiresIfExists: ["offset"]
};
function v2(e) {
  return {
    scrollLeft: e.scrollLeft,
    scrollTop: e.scrollTop
  };
}
function g2(e) {
  return e === Nr(e) || !Zr(e) ? ph(e) : v2(e);
}
function b2(e) {
  var t = e.getBoundingClientRect(), r = ua(t.width) / e.offsetWidth || 1, i = ua(t.height) / e.offsetHeight || 1;
  return r !== 1 || i !== 1;
}
function x2(e, t, r) {
  r === void 0 && (r = !1);
  var i = Zr(t), n = Zr(t) && b2(t), o = zn(t), a = ha(e, n, r), s = {
    scrollLeft: 0,
    scrollTop: 0
  }, c = {
    x: 0,
    y: 0
  };
  return (i || !i && !r) && ((Li(t) !== "body" || // https://github.com/popperjs/popper-core/issues/1078
  fh(o)) && (s = g2(t)), Zr(t) ? (c = ha(t, !0), c.x += t.clientLeft, c.y += t.clientTop) : o && (c.x = wh(o))), {
    x: a.left + s.scrollLeft - c.x,
    y: a.top + s.scrollTop - c.y,
    width: a.width,
    height: a.height
  };
}
function _2(e) {
  var t = /* @__PURE__ */ new Map(), r = /* @__PURE__ */ new Set(), i = [];
  e.forEach(function(o) {
    t.set(o.name, o);
  });
  function n(o) {
    r.add(o.name);
    var a = [].concat(o.requires || [], o.requiresIfExists || []);
    a.forEach(function(s) {
      if (!r.has(s)) {
        var c = t.get(s);
        c && n(c);
      }
    }), i.push(o);
  }
  return e.forEach(function(o) {
    r.has(o.name) || n(o);
  }), i;
}
function k2(e) {
  var t = _2(e);
  return T0.reduce(function(r, i) {
    return r.concat(t.filter(function(n) {
      return n.phase === i;
    }));
  }, []);
}
function C2(e) {
  var t;
  return function() {
    return t || (t = new Promise(function(r) {
      Promise.resolve().then(function() {
        t = void 0, r(e());
      });
    })), t;
  };
}
function $2(e) {
  var t = e.reduce(function(r, i) {
    var n = r[i.name];
    return r[i.name] = n ? Object.assign({}, n, i, {
      options: Object.assign({}, n.options, i.options),
      data: Object.assign({}, n.data, i.data)
    }) : i, r;
  }, {});
  return Object.keys(t).map(function(r) {
    return t[r];
  });
}
var Ny = {
  placement: "bottom",
  modifiers: [],
  strategy: "absolute"
};
function By() {
  for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)
    t[r] = arguments[r];
  return !t.some(function(i) {
    return !(i && typeof i.getBoundingClientRect == "function");
  });
}
function E2(e) {
  e === void 0 && (e = {});
  var t = e, r = t.defaultModifiers, i = r === void 0 ? [] : r, n = t.defaultOptions, o = n === void 0 ? Ny : n;
  return function(s, c, l) {
    l === void 0 && (l = o);
    var d = {
      placement: "bottom",
      orderedModifiers: [],
      options: Object.assign({}, Ny, o),
      modifiersData: {},
      elements: {
        reference: s,
        popper: c
      },
      attributes: {},
      styles: {}
    }, h = [], y = !1, w = {
      state: d,
      setOptions: function(A) {
        var _ = typeof A == "function" ? A(d.options) : A;
        C(), d.options = Object.assign({}, o, d.options, _), d.scrollParents = {
          reference: wo(s) ? ss(s) : s.contextElement ? ss(s.contextElement) : [],
          popper: ss(c)
        };
        var x = k2($2([].concat(i, d.options.modifiers)));
        return d.orderedModifiers = x.filter(function(T) {
          return T.enabled;
        }), b(), w.update();
      },
      // Sync update – it will always be executed, even if not necessary. This
      // is useful for low frequency updates where sync behavior simplifies the
      // logic.
      // For high frequency updates (e.g. `resize` and `scroll` events), always
      // prefer the async Popper#update method
      forceUpdate: function() {
        if (!y) {
          var A = d.elements, _ = A.reference, x = A.popper;
          if (By(_, x)) {
            d.rects = {
              reference: x2(_, cc(x), d.options.strategy === "fixed"),
              popper: hh(x)
            }, d.reset = !1, d.placement = d.options.placement, d.orderedModifiers.forEach(function(U) {
              return d.modifiersData[U.name] = Object.assign({}, U.data);
            });
            for (var T = 0; T < d.orderedModifiers.length; T++) {
              if (d.reset === !0) {
                d.reset = !1, T = -1;
                continue;
              }
              var k = d.orderedModifiers[T], g = k.fn, S = k.options, L = S === void 0 ? {} : S, R = k.name;
              typeof g == "function" && (d = g({
                state: d,
                options: L,
                name: R,
                instance: w
              }) || d);
            }
          }
        }
      },
      // Async and optimistically optimized update – it will not be executed if
      // not necessary (debounced to run at most once-per-tick)
      update: C2(function() {
        return new Promise(function(E) {
          w.forceUpdate(), E(d);
        });
      }),
      destroy: function() {
        C(), y = !0;
      }
    };
    if (!By(s, c))
      return w;
    w.setOptions(l).then(function(E) {
      !y && l.onFirstUpdate && l.onFirstUpdate(E);
    });
    function b() {
      d.orderedModifiers.forEach(function(E) {
        var A = E.name, _ = E.options, x = _ === void 0 ? {} : _, T = E.effect;
        if (typeof T == "function") {
          var k = T({
            state: d,
            name: A,
            instance: w,
            options: x
          }), g = function() {
          };
          h.push(k || g);
        }
      });
    }
    function C() {
      h.forEach(function(E) {
        return E();
      }), h = [];
    }
    return w;
  };
}
var S2 = [Y0, p2, K0, F0, h2, s2, m2, U0, l2], wf = /* @__PURE__ */ E2({
  defaultModifiers: S2
});
function P2(e, t, r, i, n, o) {
  return new rt(e.queryClient, {
    mutationFn: async () => await e.post(
      `/api/${i}/${r}/reactions`,
      "POST",
      JSON.stringify({ content: n })
    ),
    onMutate: () => {
      et(e.queryClient, [i, t], r, (a) => {
        a.reactions = a.reactions || [], a.reactions = [...a.reactions.filter((s) => s.created_by_id !== o), { content: n, created_by_id: o }];
      });
    },
    onSuccess: () => {
      et(e.queryClient, [i, t], r, (a) => {
        a.reactions = a.reactions || [], a.reactions = [...a.reactions.filter((s) => s.created_by_id !== o), { content: n, created_by_id: o }];
      });
    }
  });
}
function A2(e, t, r, i, n) {
  return new rt(e.queryClient, {
    mutationFn: async () => await e.post(`/api/${i}/${r}/reactions`, "DELETE", JSON.stringify({})),
    onMutate: () => {
      et(e.queryClient, [i, t], r, (o) => {
        o.reactions = [...o.reactions.filter((a) => a.created_by_id !== n)];
      });
    },
    onSuccess: () => {
      et(e.queryClient, [i, t], r, (o) => {
        o.reactions = [...o.reactions.filter((a) => a.created_by_id !== n)];
      });
    }
  });
}
function L2(e, t, r, i, n, o) {
  return new rt(e.queryClient, {
    mutationFn: async () => (await e.post(`/api/${i}/${r}/reactions`, "DELETE", JSON.stringify({})), await e.post(
      `/api/${i}/${r}/reactions`,
      "POST",
      JSON.stringify({ content: n })
    )),
    onMutate: () => {
      et(e.queryClient, [i, t], r, (a) => {
        a.reactions = a.reactions || [], a.reactions = [...a.reactions.filter((s) => s.created_by_id !== o), { content: n, created_by_id: o }];
      });
    },
    onSuccess: () => {
      et(e.queryClient, [i, t], r, (a) => {
        a.reactions = a.reactions || [], a.reactions = [...a.reactions.filter((s) => s.created_by_id !== o), { content: n, created_by_id: o }];
      });
    }
  });
}
function M2(e, t, r) {
  return {
    queryKey: ["reactions", t, r],
    enabled: !1,
    queryFn: async () => await (await e.get("/api/" + t + "/" + r + "/reactions")).json()
  };
}
var O2 = Object.defineProperty, I2 = Object.getOwnPropertyDescriptor, ff = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? I2(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && O2(t, r, n), n;
};
let rl = class extends we {
  render() {
    return v` <div class="wy-item">
      <wy-avatar .src=${this.reaction.created_by.avatar_url} .name=${this.reaction.created_by.display_name}></wy-avatar>
      <div class="wy-item-body">${this.reaction.created_by.display_name}</div>
      <span class="wy-emoji">${this.reaction.content}</span>
    </div>`;
  }
};
rl.styles = ke;
ff([
  m({ attribute: !1 })
], rl.prototype, "reaction", 2);
rl = ff([
  fe("wy-reaction-item")
], rl);
var T2 = Object.defineProperty, R2 = Object.getOwnPropertyDescriptor, El = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? R2(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && T2(t, r, n), n;
};
let fo = class extends we {
  constructor() {
    super(), this.show = !1, this.sheetId = "", this.viewportRef = Ve(), this.handleKeys = (e) => {
      this.show && e.key === "Escape" && (e.stopImmediatePropagation(), this.close());
    }, this.handleGlobalClose = (e) => {
      var t;
      if (this.show) {
        const r = (t = e.detail) == null ? void 0 : t.sheet;
        r instanceof fo && r !== this && this.close();
      }
    };
  }
  close() {
    this.show = !1, this.dispatchEvent(new Event("removeModal", { bubbles: !0, composed: !0 })), this.dispatchEvent(new CustomEvent("release-focus", { bubbles: !0, composed: !0 }));
  }
  regainFocus(e) {
    var t;
    this.show && e.composedPath()[0] !== this && (e.stopImmediatePropagation(), (t = this.viewportRef.value) == null || t.focus());
  }
  connectedCallback() {
    var e;
    super.connectedCallback(), (e = this.weavyContext) == null || e.host.addEventListener("wy-sheets-close", this.handleGlobalClose);
  }
  willUpdate(e) {
    var t;
    e.has("show") && (this.show ? ((t = this.weavyContext) == null || t.host.dispatchEvent(
      new CustomEvent("wy-sheets-close", { bubbles: !0, composed: !0, detail: { sheet: this } })
    ), this.addEventListener("keyup", this.handleKeys), this.addEventListener("release-focus", this.regainFocus)) : (this.removeEventListener("keyup", this.handleKeys), this.removeEventListener("release-focus", this.regainFocus)));
  }
  render() {
    return v`
      <section class="wy-viewport" tabindex="0" ${Pe(this.viewportRef)}>
        <div class="wy-sheet ${this.show ? "wy-show" : ""}">
          <slot name="header">
            <header class="wy-appbars">
              <nav class="wy-appbar">
                <slot name="appbar-buttons" class="wy-appbar-buttons"></slot>
                <slot name="appbar-text" class="wy-appbar-text"></slot>
                <wy-button kind="icon" @click=${() => this.close()}>
                  <wy-icon name="close"></wy-icon>
                </wy-button>
              </nav>
            </header>
          </slot>
          <div class="wy-sheet-body wy-scroll-y">
            <slot></slot>
          </div>
        </div>
      </section>
    `;
  }
  updated(e) {
    var t;
    e.has("show") && this.show && ((t = this.viewportRef.value) == null || t.focus());
  }
  disconnectedCallback() {
    var e;
    super.disconnectedCallback(), (e = this.weavyContext) == null || e.host.removeEventListener("wy-sheets-close", this.handleGlobalClose), this.close();
  }
};
fo.styles = ke;
El([
  tt({ context: Te, subscribe: !0 }),
  te()
], fo.prototype, "weavyContext", 2);
El([
  m({ type: Boolean })
], fo.prototype, "show", 2);
El([
  m({ attribute: !1 })
], fo.prototype, "sheetId", 2);
fo = El([
  fe("wy-sheet")
], fo);
var D2 = Object.defineProperty, F2 = Object.getOwnPropertyDescriptor, lr = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? F2(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && D2(t, r, n), n;
};
let Xt = class extends we {
  constructor() {
    super(...arguments), this.directionX = "left", this.directionY = "up", this.small = !1, this.reactions = [], this._placement = "bottom-start", this.emojis = [], this.visible = !1, this.messageType = "messages", this.userId = -1, this.showSheet = !1, this.sheetId = "", this.popperReferenceRef = Ve(), this.popperElementRef = Ve(), this.reactionListQuery = new lt(this), this._documentClickHandler = () => {
      this.visible = !1;
    }, this.handleReaction = async (e) => {
      var t, r, i;
      !this.weavyContext || !this.parentId || (this.reactedEmoji === e ? (this.reactedEmoji = void 0, await (await A2(
        this.weavyContext,
        this.parentId,
        this.entityId,
        this.messageType,
        this.userId
      )).mutate(), (t = this.reactionListQuery.observer) == null || t.refetch()) : this.reactedEmoji === void 0 ? (this.reactedEmoji = e, await (await P2(
        this.weavyContext,
        this.parentId,
        this.entityId,
        this.messageType,
        e,
        this.userId
      )).mutate(), (r = this.reactionListQuery.observer) == null || r.refetch()) : (this.reactedEmoji = e, await (await L2(
        this.weavyContext,
        this.parentId,
        this.entityId,
        this.messageType,
        e,
        this.userId
      )).mutate(), (i = this.reactionListQuery.observer) == null || i.refetch()));
    };
  }
  handleReactionsClick() {
    var e;
    (e = this.reactionListQuery.observer) == null || e.refetch(), this.showSheet = !this.showSheet;
  }
  willUpdate(e) {
    var t, r, i, n;
    e.has("reactions") && (this.reactedEmoji = (r = (t = this.reactions) == null ? void 0 : t.find((o) => o.created_by_id === this.userId)) == null ? void 0 : r.content), (e.has("directionX") || e.has("directionY")) && (this._placement = this.directionX === "right" && this.directionY === "down" ? "bottom-start" : this.directionX === "left" && this.directionY === "down" ? "bottom-end" : this.directionX === "right" && this.directionY === "up" ? "top-start" : "top-end"), e.has("visible") && (this.visible ? requestAnimationFrame(() => {
      document.addEventListener("click", this._documentClickHandler, { once: !0 });
    }) : document.removeEventListener("click", this._documentClickHandler), this.visible && !this._popper && this.popperReferenceRef.value && this.popperElementRef.value ? this._popper = wf(this.popperReferenceRef.value, this.popperElementRef.value) : !this.visible && this._popper && (this._popper.destroy(), this._popper = void 0), (i = this._popper) == null || i.setOptions({
      placement: this._placement,
      modifiers: [
        {
          name: "offset",
          options: {
            offset: [4, 0]
          }
        },
        {
          name: "preventOverflow",
          options: {
            padding: 4
          }
        }
      ]
    })), e.has("weavyContext") && ((n = this.weavyContext) != null && n.reactions) && this.emojis != this.weavyContext.reactions && (this.emojis = this.weavyContext.reactions);
  }
  render() {
    var i, n, o;
    const { data: e, isPending: t } = this.reactionListQuery.result ?? {}, r = [
      ...new Map((i = this.reactions) == null ? void 0 : i.map((a) => [a.content, a])).values()
    ];
    return v`
        ${r.length ? v`
              <wy-button
                class="wy-reaction-lineup"
                kind="icon-inline"
                ?active=${this.showSheet}
                @click=${this.handleReactionsClick}
                buttonClass="wy-reactions ${this.small ? "wy-reactions-small" : F}">
                ${r.map((a) => v`<span class="wy-emoji" title="">${a.content}</span>`)}
                ${((n = this.reactions) == null ? void 0 : n.length) > 1 ? v`<small class="wy-reaction-count">${this.reactions.length}</small>` : F}
              </wy-button>
            ` : F}

        <wy-button
          ${Pe(this.popperReferenceRef)}
          kind="icon"
          ?active=${this.visible}
          buttonClass="wy-reaction-menu-button"
          @click=${() => {
      this.visible = !this.visible;
    }}
          title=${V("React", { desc: "Button action to react" })}>
          <wy-icon name="emoticon-plus" size=${this.small ? 18 : 20}></wy-icon>
        </wy-button>

        <div ${Pe(this.popperElementRef)} class="wy-reaction-menu wy-dropdown-menu" ?hidden=${!this.visible}>
          <div class="wy-reaction-picker">
            ${this.emojis.map(
      (a) => v`
                  <wy-button
                    kind="icon"
                    buttonClass=${"wy-reaction-button"}
                    ?active=${this.reactedEmoji === a}
                    @click=${() => {
        this.handleReaction(a);
      }}>
                    <span class="wy-emoji">${a}</span>
                  </wy-button>
                `
    )}
          </div>
        </div>

        ${Yi(
      this.showSheet,
      v`
            <wy-sheet
              .show=${this.showSheet}
              .sheetId="${this.sheetId}"
              @release-focus=${() => this.dispatchEvent(new CustomEvent("release-focus", { bubbles: !0, composed: !0 }))}>
              <span slot="appbar-text">${V("Reactions")}</span>
              <!-- <wy-spinner></wy-spinner> -->
              ${e && !t ? v`
                    ${(o = e.data) == null ? void 0 : o.map((a) => v` <wy-reaction-item .reaction=${a}></wy-reaction-item> `)}
                  ` : F}
            </wy-sheet>
          `,
      () => this.showSheet = !1
    )}
      `;
  }
  updated(e) {
    (e.has("weavyContext") || e.has("entityId")) && this.weavyContext && this.entityId && (this.reactionListQuery.trackQuery(M2(this.weavyContext, this.messageType, this.entityId)), this.sheetId = "sheet-" + this.messageType + "-" + this.entityId);
  }
};
Xt.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
lr([
  te()
], Xt.prototype, "reactedEmoji", 2);
lr([
  tt({ context: Te, subscribe: !0 }),
  te()
], Xt.prototype, "weavyContext", 2);
lr([
  m()
], Xt.prototype, "directionX", 2);
lr([
  m()
], Xt.prototype, "directionY", 2);
lr([
  m({ type: Boolean })
], Xt.prototype, "small", 2);
lr([
  m({ attribute: !1 })
], Xt.prototype, "reactions", 2);
lr([
  te()
], Xt.prototype, "_placement", 2);
lr([
  m({ attribute: !1 })
], Xt.prototype, "emojis", 2);
lr([
  m({ attribute: !1 })
], Xt.prototype, "visible", 2);
lr([
  m({ attribute: !0, type: String })
], Xt.prototype, "messageType", 2);
lr([
  m({ attribute: !0, type: Number })
], Xt.prototype, "parentId", 2);
lr([
  m({ attribute: !0, type: Number })
], Xt.prototype, "entityId", 2);
lr([
  m({ attribute: !1, type: Number })
], Xt.prototype, "userId", 2);
lr([
  te()
], Xt.prototype, "showSheet", 2);
lr([
  te()
], Xt.prototype, "sheetId", 2);
Xt = lr([
  fe("wy-reactions"),
  De()
], Xt);
const z2 = 1e3 * 60 * 60, Yl = z2 * 24;
function lc(e, t, r, i = 7) {
  r ?? (r = /* @__PURE__ */ new Date());
  const n = new Date(r.getFullYear(), r.getMonth(), r.getDate()), o = t.valueOf() - r.valueOf(), a = t.toDateString() === r.toDateString(), s = t.valueOf() > n.valueOf() - Yl * i && t.valueOf() < n.valueOf() + Yl * i;
  if (!a && s) {
    const c = Math.round(o / Yl);
    return new Intl.RelativeTimeFormat(e, { numeric: "auto" }).format(c, "days");
  } else
    return a ? new Intl.DateTimeFormat(e, { timeStyle: "short" }).format(t) : new Intl.DateTimeFormat(e, { dateStyle: "short" }).format(t);
}
var V2 = Object.defineProperty, N2 = Object.getOwnPropertyDescriptor, mh = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? N2(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && V2(t, r, n), n;
};
let Ls = class extends we {
  render() {
    var r, i;
    const e = this.meeting.ended_at ? new Intl.DateTimeFormat((r = this.weavyContext) == null ? void 0 : r.locale, { dateStyle: "full", timeStyle: "short" }).format(
      new Date(this.meeting.ended_at)
    ) : "", t = this.meeting.ended_at ? lc((i = this.weavyContext) == null ? void 0 : i.locale, new Date(this.meeting.ended_at)) : "";
    return v`
      <div class="wy-list">
        ${this.meeting.ended_at ? v`
              <div class="wy-item wy-meeting">
                <wy-icon name="zoom" size="96"></wy-icon>
                <div class="wy-item-body">
                  <div class="wy-item-title">${V("Zoom meeting")}</div>
                  <div class="wy-item-body">
                    <time datetime=${this.meeting.ended_at} title=${e}>${V(Qi`Ended ${t}`)}</time>
                    ${this.meeting.ended_at ? v`
                          <div class="wy-meeting-actions">
                            <a href=${this.meeting.recording_url} target="_blank" class="wy-button wy-button-primary"
                              >${V("Play recording")}</a
                            >
                          </div>
                        ` : F}
                  </div>
                </div>
              </div>
            ` : v`
              <a class="wy-item wy-meeting" href=${this.meeting.join_url} target="_blank">
                <wy-icon name="zoom" size="96" color="native"></wy-icon>
                <div class="wy-item-body">
                  <div class="wy-item-title">${V("Zoom meeting")}</div>
                  <div class="wy-item-body">
                    <div
                      >ID:
                      ${this.meeting.provider_id.substring(0, 3)}-${this.meeting.provider_id.substring(
      3,
      6
    )}-${this.meeting.provider_id.substring(6)}</div
                    >
                    <div class="wy-meeting-actions">
                      <wy-button buttonClass="wy-button-primary">${V("Join meeting")}</wy-button>
                    </div>
                  </div>
                </div>
              </a>
            `}
      </div>
    `;
  }
};
Ls.styles = ke;
mh([
  tt({ context: Te, subscribe: !0 }),
  te()
], Ls.prototype, "weavyContext", 2);
mh([
  m({ attribute: !1 })
], Ls.prototype, "meeting", 2);
Ls = mh([
  fe("wy-meeting-card"),
  De()
], Ls);
var B2 = Object.defineProperty, H2 = Object.getOwnPropertyDescriptor, mf = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? H2(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && B2(t, r, n), n;
};
let il = class extends we {
  constructor() {
    super(...arguments), this.text = "";
  }
  render() {
    const e = this.text.trim();
    let t = "";
    return e.length && (t = e.split(/(\n+)/).map((i) => `<div>${i.split(/(\s+)/).map((o) => `<span class="wy-placeholder">${o}</span>`).join(" ")}</div>`).join(" ")), v`
      <div>${yo(t)}</div>
    `;
  }
};
il.styles = ke;
mf([
  m()
], il.prototype, "text", 2);
il = mf([
  fe("wy-skeleton")
], il);
class j2 {
  constructor(t) {
    this.delay = NaN, this.sleep = !1, t.addController(this), this.host = t;
  }
  createObserver(t) {
    var r;
    (r = this.scrollObserver) == null || r.disconnect(), this.swipeElement = t, this.scrollObserver = new IntersectionObserver(
      (i) => {
        i.forEach(async (n) => {
          n.isIntersecting && !this.sleep && n.intersectionRatio >= 1 && (this.sleep = !0, Number.isNaN(this.delay) || await new Promise((o) => {
            setTimeout(o, this.delay);
          }), n.target === this.prevElement && this.whenPrev && await this.whenPrev(), n.target === this.nextElement && this.whenNext && await this.whenNext(), await this.host.updateComplete);
        });
      },
      { root: t, threshold: 1, rootMargin: "0px" }
    );
  }
  observe(t, r) {
    var i, n, o, a;
    this.prevElement && ((i = this.scrollObserver) == null || i.unobserve(this.prevElement), this.prevElement = void 0), this.nextElement && ((n = this.scrollObserver) == null || n.unobserve(this.nextElement), this.nextElement = void 0), t && ((o = this.scrollObserver) == null || o.observe(t), this.prevElement = t), r && ((a = this.scrollObserver) == null || a.observe(r), this.nextElement = r), this.sleep = !1;
  }
  clearObserver() {
    var t;
    this.prevElement = void 0, this.nextElement = void 0, (t = this.scrollObserver) == null || t.disconnect(), this.sleep = !1;
  }
  hostConnected() {
    this.scrollObserver && (this.prevElement && this.scrollObserver.observe(this.prevElement), this.nextElement && this.scrollObserver.observe(this.nextElement), this.sleep = !1);
  }
  hostDisconnected() {
    var t;
    (t = this.scrollObserver) == null || t.disconnect();
  }
}
const U2 = "WEAVY_OFFLINE_CACHE";
let so;
try {
  so = window.sessionStorage;
} catch {
  console.warn("Session storage not available.");
}
const Za = /* @__PURE__ */ new Map();
function W2() {
  Za.clear();
}
async function q2(e, t) {
  const r = so == null ? void 0 : so.getItem(`${e}-${t.toString()}`);
  if (r)
    return JSON.parse(r);
}
async function Q2(e, t, r) {
  const i = JSON.stringify(r);
  i && (so == null || so.setItem(`${e}-${t.toString()}`, i));
}
async function K2(e, t, r) {
  const i = `${U2}:${typeof e}:${t}`;
  r.forEach(async (n) => {
    if (!Za.has(n)) {
      const o = await q2(i, n);
      o && (e[n] = o), Za.set(n, o);
    }
    if (e[n] !== Za.get(n)) {
      const o = e[n];
      Za.set(n, o), Q2(i, n, o);
    }
  });
}
var gn;
class vh {
  constructor(t, r, i) {
    D(this, gn, void 0);
    B(this, gn, ""), this.properties = [], t.addController(this), this.host = t, i && (this.properties = i), r && B(this, gn, r);
  }
  get prefixKey() {
    return p(this, gn);
  }
  set prefixKey(t) {
    t !== p(this, gn) && (W2(), B(this, gn, t), this.host.requestUpdate());
  }
  observe(t, r) {
    this.properties = t, r && (this.prefixKey = r);
  }
  hostUpdate() {
    this.prefixKey && this.properties && K2(this.host, this.prefixKey, this.properties);
  }
}
gn = new WeakMap();
function Oc(e, t) {
  const r = ls({}, window.history.state, !0);
  if (!r.weavy || !r.weavy[e] || !Object.hasOwn(r.weavy[e], t))
    throw new Error("Property not found");
  return r.weavy[e][t];
}
function Dd(e, t, r = "push", i) {
  if (t) {
    const n = ls({}, window.history.state, !0);
    n.weavy ?? (n.weavy = {}), n.weavy[e] = t, i = i && String(i) || window.location.href;
    try {
      r === "replace" ? window.history.replaceState(n, "", i) : window.history.pushState(n, "", i);
    } catch (o) {
      console.warn("history: Could not push history state.", o, t);
    }
  }
}
function Z2(e, t, r) {
  const i = `${typeof e}:${t}`;
  r.forEach(async (n) => {
    try {
      const o = Oc(i, n);
      e[n] = o;
    } catch {
    }
  });
}
function Fd(e, t, r, i = "push") {
  const n = `${typeof e}:${t}`, o = {};
  r.forEach(async (a) => {
    o[a] = e[a];
  }), Dd(n, o, i);
}
function Y2(e, t, r) {
  Fd(e, t, r, "replace");
}
class G2 {
  constructor(t, r, i) {
    if (this._backCount = 0, this.restoreHistory = () => {
      if (this.prefixKey && this.properties) {
        Z2(this.host, this.prefixKey, this.properties);
        try {
          this._backCount = Oc(this.prefixKey, "_backCount") || 0;
        } catch {
          this._backCount = 0;
        }
        this.updatePrevPropertyValues();
      }
    }, t.addController(this), this.host = t, i && (this.properties = i), r) {
      this.prefixKey = r;
      try {
        this._backCount = Oc(this.prefixKey, "_backCount") || this._backCount;
      } catch {
      }
    }
  }
  get hasBackNavigation() {
    return this._backCount > 0;
  }
  back() {
    window.history.back();
  }
  backAll() {
    window.history.go(this._backCount * -1);
  }
  observe(t, r) {
    if (this.properties = t, r) {
      this.prefixKey = r;
      try {
        this._backCount = Oc(this.prefixKey, "_hasBack") || this._backCount;
      } catch {
      }
    }
  }
  /**
   * Method to manually push history
   */
  pushCurrentState() {
    this.prefixKey && (Fd(this.host, this.prefixKey, this.properties), this._backCount++, Dd(this.prefixKey, { _backCount: this._backCount }, "replace"));
  }
  updatePrevPropertyValues() {
    this.properties && (this.prevPropertyValues ?? (this.prevPropertyValues = {}), this.properties.forEach((t) => {
      this.prevPropertyValues[t] = this.host[t];
    }));
  }
  hostConnected() {
    window.addEventListener("popstate", this.restoreHistory);
  }
  hostUpdated() {
    this.prefixKey && this.properties && (this.prevPropertyValues ? this.properties.some(
      (r) => this.prevPropertyValues[r] !== this.host[r]
    ) && (Fd(
      this.prevPropertyValues,
      this.prefixKey,
      this.properties
    ), this._backCount++, Dd(this.prefixKey, { _backCount: this._backCount }, "replace")) : this.prevPropertyValues = {}, Y2(this.host, this.prefixKey, this.properties), this.updatePrevPropertyValues());
  }
  hostDisconnected() {
    window.removeEventListener("popstate", this.restoreHistory);
  }
}
function Sl(e) {
  const t = typeof e == "string" && e.length <= 0;
  return !(e === void 0 || typeof e > "u" || e === "undefined" || t) && (typeof e == "string" ? !!JSON.parse(e) : !!e);
}
var X2 = Object.defineProperty, J2 = Object.getOwnPropertyDescriptor, Pl = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? J2(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && X2(t, r, n), n;
};
let pa = class extends we {
  constructor() {
    super(...arguments), this.open = !0, this.maximized = !1, this.header = !1, this.viewportRef = Ve(), this.releaseFocusEvent = () => new CustomEvent("release-focus", { bubbles: !0, composed: !0 }), this.removeModalEvent = () => new Event("removeModal", { bubbles: !0, composed: !0 }), this.handleKeys = (e) => {
      this.open && e.key === "Escape" && (e.stopImmediatePropagation(), this.close());
    };
  }
  close() {
    this.open = !1, this.dispatchEvent(this.removeModalEvent()), this.dispatchEvent(this.releaseFocusEvent());
  }
  regainFocus(e) {
    var t;
    this.open && e.composedPath()[0] !== this && (e.stopImmediatePropagation(), (t = this.viewportRef.value) == null || t.focus());
  }
  willUpdate(e) {
    e.has("open") && (this.open ? (this.addEventListener("keyup", this.handleKeys), this.addEventListener("release-focus", this.regainFocus)) : (this.removeEventListener("keyup", this.handleKeys), this.removeEventListener("release-focus", this.regainFocus)));
  }
  render() {
    const e = {
      "wy-open": this.open,
      "wy-modal-full": this.maximized
    };
    return v`
      <section class="wy-overlays wy-viewport" tabindex="0" ${Pe(this.viewportRef)}>
        <div class="wy-panel wy-overlay wy-transition wy-modal ${dt(e)}">
          ${this.header ? v`
                <slot name="header">
                  <header class="wy-appbars">
                    <nav class="wy-appbar">
                      <wy-button kind="icon" @click=${() => this.close()}><wy-icon name="close"></wy-icon></wy-button>
                      <slot name="appbar-text" class="wy-appbar-text"></slot>
                      <slot name="appbar-buttons" class="wy-appbar-buttons"></slot>
                    </nav>
                  </header>
                </slot>
              ` : F}
          <slot></slot>
        </div>
      </section>
    `;
  }
  updated(e) {
    var t;
    e.has("open") && this.open && ((t = this.viewportRef.value) == null || t.focus());
  }
  disconnectedCallback() {
    super.disconnectedCallback(), this.close();
  }
};
pa.styles = ke;
Pl([
  m({ converter: Sl })
], pa.prototype, "open", 2);
Pl([
  m({ type: Boolean })
], pa.prototype, "maximized", 2);
Pl([
  m({ type: Boolean })
], pa.prototype, "header", 2);
pa = Pl([
  fe("wy-overlay")
], pa);
var ex = Object.defineProperty, tx = Object.getOwnPropertyDescriptor, dr = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? tx(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && ex(t, r, n), n;
};
let ei = class extends we {
  constructor() {
    super(), this.directionX = "right", this.directionY = "down", this.icon = "dots-vertical", this.noWrapper = !1, this.disabled = !1, this._placement = "bottom-start", this.wasVisible = !1, this.visible = !1, this.popperReferenceRef = Ve(), this.popperElementRef = Ve(), this._documentClickHandler = (e) => {
      this.wasVisible = this.visible, e.preventDefault(), this.visible = !1;
    }, this.addEventListener("click", (e) => {
      e.stopPropagation();
    });
  }
  handleClickToggle(e) {
    (!e.defaultPrevented || e.defaultPrevented && !this.wasVisible) && (this.visible = !this.visible);
  }
  willUpdate(e) {
    var t;
    (e.has("directionX") || e.has("directionY")) && (this._placement = this.directionX === "right" && this.directionY === "down" ? "bottom-start" : this.directionX === "left" && this.directionY === "down" ? "bottom-end" : this.directionX === "right" && this.directionY === "up" ? "top-start" : "top-end"), e.has("visible") && (this.visible ? requestAnimationFrame(() => {
      document.addEventListener("click", this._documentClickHandler, { once: !0, capture: !0 });
    }) : document.removeEventListener("click", this._documentClickHandler, { capture: !0 }), this.visible && !this._popper && this.popperReferenceRef.value && this.popperElementRef.value ? this._popper = wf(this.popperReferenceRef.value, this.popperElementRef.value) : !this.visible && this._popper && (this._popper.destroy(), this._popper = void 0), (t = this._popper) == null || t.setOptions({
      placement: this._placement,
      //strategy: 'fixed',
      modifiers: [
        {
          name: "offset",
          options: {
            offset: ({ placement: r }) => [0, r.includes("top") ? 9 : 13]
          }
        },
        {
          name: "preventOverflow",
          options: {
            padding: 4
          }
        }
      ]
    }));
  }
  render() {
    const e = this._slotButton.length === 0 || this._slotButton.length === 1 && this._slotButton[0] instanceof rr;
    return v`
      <span
        tabindex="0"
        @click=${this.handleClickToggle}
        @keydown=${Pn}
        @keyup=${An}
      >
        <wy-button
          .kind=${e ? "icon" : void 0}
          ${Pe(this.popperReferenceRef)}
          class=${dt({ "wy-active": this.visible })}
          title=${this.title}
          ?disabled=${this.disabled}
        >
          <slot name="button" @slotchange=${() => this.requestUpdate()}>
            <wy-icon name=${this.icon}></wy-icon>
          </slot>
        </wy-button>

        <div ${Pe(this.popperElementRef)} class="wy-dropdown-menu" ?hidden=${!this.visible}>
          <slot></slot>
        </div>
      </span>
    `;
  }
};
ei.styles = [
  We`
      /*:host {
        position: relative;
      }*/
    `,
  ke
];
dr([
  m()
], ei.prototype, "directionX", 2);
dr([
  m()
], ei.prototype, "directionY", 2);
dr([
  m()
], ei.prototype, "icon", 2);
dr([
  m({ type: Boolean })
], ei.prototype, "noWrapper", 2);
dr([
  m({ type: Boolean })
], ei.prototype, "disabled", 2);
dr([
  te()
], ei.prototype, "_placement", 2);
dr([
  te()
], ei.prototype, "visible", 2);
dr([
  gv({ slot: "button" })
], ei.prototype, "_slotButton", 2);
dr([
  te()
], ei.prototype, "_popper", 2);
ei = dr([
  fe("wy-dropdown")
], ei);
let nl = class extends we {
  constructor() {
    super(...arguments), this.active = !1;
  }
  render() {
    return v`<div class="wy-dropdown-item ${dt({ "wy-active": this.active })}"><slot></slot></div>`;
  }
};
nl.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
dr([
  m({ converter: Sl })
], nl.prototype, "active", 2);
nl = dr([
  fe("wy-dropdown-item")
], nl);
let Ms = class extends we {
  constructor() {
    super(...arguments), this.active = !1, this.selected = !1;
  }
  render() {
    const e = {
      visibility: this.selected ? null : "hidden"
    };
    return v`
      <div class="wy-dropdown-item wy-option ${dt({ "wy-active": this.active, "wy-selected": this.selected })}">
        <slot name="icon" style=${el(e)}><wy-icon name="check"></wy-icon></slot>
        <slot></slot>
      </div>
    `;
  }
};
Ms.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
dr([
  m({ converter: Sl })
], Ms.prototype, "active", 2);
dr([
  m({ type: Boolean })
], Ms.prototype, "selected", 2);
Ms = dr([
  fe("wy-dropdown-option")
], Ms);
let zd = class extends we {
  render() {
    return v`<hr class="wy-dropdown-divider" />`;
  }
};
zd.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
zd = dr([
  fe("wy-dropdown-divider")
], zd);
var rx = Object.defineProperty, ix = Object.getOwnPropertyDescriptor, dc = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? ix(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && rx(t, r, n), n;
};
let mo = class extends we {
  render() {
    let e = this.icon;
    const t = Oa(this.provider);
    return t && (e = `${e}+${t}`), v`
      <div class="wy-content-icon ${this.iconClass ?? ""}">
        <div class="wy-content-icon">
          <wy-icon name=${e}></wy-icon>
        </div>
        <div class="wy-content-name">
          ${this.provider ? v`
                <span>${V("No preview available :(")} </span>
                <a href=${this.src} target="_blank">${V(Qi`Open in ${this.provider}?`)}</a>
              ` : v`<span>${V("No preview available :(")}</span>`}
        </div>
      </div>
    `;
  }
};
mo.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
dc([
  m()
], mo.prototype, "src", 2);
dc([
  m()
], mo.prototype, "icon", 2);
dc([
  m()
], mo.prototype, "provider", 2);
dc([
  m()
], mo.prototype, "iconClass", 2);
mo = dc([
  fe("wy-preview-icon"),
  De()
], mo);
var nx = Object.defineProperty, ox = Object.getOwnPropertyDescriptor, Al = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? ox(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && nx(t, r, n), n;
};
let wa = class extends we {
  render() {
    if (this.width && this.height) {
      const e = { "--width": this.width, "--height": this.height };
      return v`
        <div class="wy-content-image wy-responsive-image" style=${el(e)}>
          <img
            class="wy-loading-transition"
            src=${this.src}
            ${Pe(Od)}
            @load=${Id}
            width=${this.width}
            height=${this.height}
            decoding="async"
            alt=${V("Preview")} />
          <wy-spinner></wy-spinner>
        </div>
      `;
    } else
      return v`
        <div class="wy-content-image wy-responsive-image wy-intrinsic-image">
          <img src=${this.src} ${Pe(Od)} @load=${Id} decoding="async" alt=${V("Preview")} />
        </div>
      `;
  }
};
wa.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
Al([
  m()
], wa.prototype, "src", 2);
Al([
  m({ type: Number })
], wa.prototype, "width", 2);
Al([
  m({ type: Number })
], wa.prototype, "height", 2);
wa = Al([
  fe("wy-preview-image"),
  De()
], wa);
function vf(e) {
  e.classList.contains("wy-loading") && e.classList.add("wy-loaded"), e.classList.add("wy-error"), e.outerHTML = e.outerHTML.replace(/<(video|audio)/, "<div").replace(/(video|audio)>/, "div>");
}
function Hy(e) {
  const t = e.target;
  (t.tagName === "VIDEO" || t.tagName === "AUDIO") && t.classList.contains("wy-loading") && t.classList.add("wy-loaded");
}
function jy(e) {
  const t = e.target;
  if (t.tagName === "SOURCE" && t.parentNode) {
    const r = t.parentNode, i = parseInt(r.dataset.errors || "0") + 1;
    r.dataset.errors = i.toString(), r.querySelectorAll("source").length >= i && (console.warn(r.tagName.toLowerCase() + " source error, switching to fallback"), vf(r));
  }
}
function Uy(e) {
  const t = e.target;
  (t.tagName === "VIDEO" || t.tagName === "AUDIO") && (t.tagName === "VIDEO" && !t.videoWidth || t.tagName === "AUDIO" && !t.duration) && (console.warn(t.tagName.toLowerCase() + " track not available, switching to fallback"), vf(t));
}
var ax = Object.defineProperty, sx = Object.getOwnPropertyDescriptor, uc = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? sx(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && ax(t, r, n), n;
};
let vo = class extends we {
  constructor() {
    super(...arguments), this.format = "", this.name = "";
  }
  registerLoading(e) {
    this.unregisterLoading(), e && (this.mediaElement = e, e.classList.add("wy-loading"), e.addEventListener("error", jy, !0), e.addEventListener("loadedmetadata", Hy, !0), e.addEventListener("loadedmetadata", Uy, !0));
  }
  unregisterLoading() {
    this.mediaElement && (this.mediaElement.pause(), this.mediaElement.removeAttribute("autoplay"), this.mediaElement.setAttribute("preload", "none"), this.mediaElement.removeEventListener("error", jy, !0), this.mediaElement.removeEventListener("loadedmetadata", Hy, !0), this.mediaElement.removeEventListener("loadedmetadata", Uy, !0), this.mediaElement = void 0);
  }
  render() {
    return this.format === "video" ? v`
          <video ${Pe(this.registerLoading)} class="wy-content-video" controls crossorigin="use-credentials" autoplay>
            <source src=${this.src} type=${ot(this.mediaType)} />
            <wy-preview-icon src=${this.src} icon="file-video"></wy-preview-icon>
          </video>
          <wy-spinner></wy-spinner>
        ` : v`
          <audio ${Pe(this.registerLoading)} class="wy-content-audio" controls crossorigin="use-credentials" autoplay>
            <source src=${this.src} type=${ot(this.mediaType)} />
          </audio>
        `;
  }
  disconnectedCallback() {
    this.unregisterLoading(), super.disconnectedCallback();
  }
};
vo.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
uc([
  m()
], vo.prototype, "format", 2);
uc([
  m()
], vo.prototype, "src", 2);
uc([
  m()
], vo.prototype, "name", 2);
uc([
  m()
], vo.prototype, "mediaType", 2);
vo = uc([
  fe("wy-preview-media")
], vo);
var cx = Object.defineProperty, lx = Object.getOwnPropertyDescriptor, Ao = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? lx(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && cx(t, r, n), n;
};
let en = class extends we {
  constructor() {
    super(...arguments), this.html = !1, this.code = !1, this.textOrHtmlContent = "", this.loading = !0;
  }
  async updated(e) {
    (e.has("weavyContext") || e.has("src")) && this.weavyContext && (this.loading = !0, fetch(this.src, await this.weavyContext.fetchOptions()).then(hm).then((t) => new Response(t)).then((t) => t.text()).then((t) => {
      this.loading = !1, this.textOrHtmlContent = t;
    }));
  }
  render() {
    return this.loading ? v`
      <wy-empty><wy-spinner></wy-spinner></wy-empty>
    ` : this.html ? this.code ? v` <div class="wy-content-code wy-code">${yo(this.textOrHtmlContent)}</div> ` : v`
            <div class="wy-document wy-light">
              <div class="wy-content-html">${yo(this.textOrHtmlContent)}</div>
            </div>
          ` : this.code ? v` <div class="wy-content-code">${this.textOrHtmlContent}</div> ` : v`
          <div class="wy-document wy-light">
            <pre class="wy-content-text">${this.textOrHtmlContent}</pre>
          </div>
        `;
  }
};
en.styles = [
  ke,
  Po,
  We`
      :host {
        display: contents;
      }
    `
];
Ao([
  tt({ context: Te, subscribe: !0 }),
  te()
], en.prototype, "weavyContext", 2);
Ao([
  m()
], en.prototype, "src", 2);
Ao([
  m({ type: Boolean })
], en.prototype, "html", 2);
Ao([
  m({ type: Boolean })
], en.prototype, "code", 2);
Ao([
  te()
], en.prototype, "textOrHtmlContent", 2);
Ao([
  te()
], en.prototype, "loading", 2);
en = Ao([
  fe("wy-preview-text")
], en);
var dx = Object.defineProperty, ux = Object.getOwnPropertyDescriptor, hc = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? ux(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && dx(t, r, n), n;
};
let go = class extends we {
  registerLoading(e) {
    var t;
    if ((t = this.unregisterLoading) == null || t.call(this), e) {
      this.embedElement = e, e.classList.add("wy-loading");
      const r = window.setTimeout(() => {
        e.classList.add("wy-fallback");
      }, 2500), i = (n) => {
        const o = n.target;
        o.tagName === "OBJECT" && o.classList.contains("wy-loading") && !o.classList.contains("wy-loaded") && (o.classList.add("wy-loaded"), window.clearTimeout(r));
      };
      e.addEventListener("load", i, !0), this.unregisterLoading = () => {
        this.embedElement && (e.removeEventListener("load", i, !0), window.clearTimeout(r), this.embedElement = void 0);
      };
    }
  }
  render() {
    return v`
      <object title=${V("Preview")} ${Pe(this.registerLoading)} class="wy-content-iframe" data=${this.src}></object>
      <wy-spinner overlay></wy-spinner>
      <wy-preview-icon
        src=${this.src}
        icon=${this.icon}
        provider=${ot(this.provider)}
        class="wy-content-iframe-fallback"></wy-preview-icon>
    `;
  }
  disconnectedCallback() {
    var e;
    (e = this.unregisterLoading) == null || e.call(this), super.disconnectedCallback();
  }
};
go.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
hc([
  m()
], go.prototype, "src", 2);
hc([
  m()
], go.prototype, "name", 2);
hc([
  m()
], go.prototype, "icon", 2);
hc([
  m()
], go.prototype, "provider", 2);
go = hc([
  fe("wy-preview-embed"),
  De()
], go);
var gf = { exports: {} };
(function(e, t) {
  (function(i, n) {
    e.exports = i.pdfjsViewer = n();
  })(globalThis, () => (
    /******/
    (() => {
      var r = [
        ,
        /* 1 */
        /***/
        (a, s, c) => {
          var ee, Q, Z, le, bf, de, Vd, me, Nd, Re, xf, Ge, _f, it, kf, Fe, Bd, bt, Cf, oe, $f, _e, Ic, Ee, Ya, Y, Ro, u, Ef, P, Hd, H, jd, ce, Tc, be, Sf, pt, Ud, qt, Wd, N, Ga;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.PDFFindController = s.FindState = void 0;
          var l = c(2), d = c(3), h = c(4);
          const y = {
            FOUND: 0,
            NOT_FOUND: 1,
            WRAPPED: 2,
            PENDING: 3
          };
          s.FindState = y;
          const w = 250, b = -50, C = -400, E = {
            "‐": "-",
            "‘": "'",
            "’": "'",
            "‚": "'",
            "‛": "'",
            "“": '"',
            "”": '"',
            "„": '"',
            "‟": '"',
            "¼": "1/4",
            "½": "1/2",
            "¾": "3/4"
          }, A = /* @__PURE__ */ new Set([12441, 12442, 2381, 2509, 2637, 2765, 2893, 3021, 3149, 3277, 3387, 3388, 3405, 3530, 3642, 3770, 3972, 4153, 4154, 5908, 5940, 6098, 6752, 6980, 7082, 7083, 7154, 7155, 11647, 43014, 43052, 43204, 43347, 43456, 43766, 44013, 3158, 3953, 3954, 3962, 3963, 3964, 3965, 3968, 3956]);
          let _;
          const x = new RegExp("\\p{M}+", "gu"), T = new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})", "gu"), k = new RegExp("([^\\p{M}])\\p{M}*$", "u"), g = new RegExp("^\\p{M}*([^\\p{M}])", "u"), S = /[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g, L = /* @__PURE__ */ new Map(), R = "[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]", U = /* @__PURE__ */ new Map();
          let J = null, ne = null;
          function ue(ie) {
            const z = [];
            let q;
            for (; (q = S.exec(ie)) !== null; ) {
              let {
                index: Rr
              } = q;
              for (const ur of q[0]) {
                let or = L.get(ur);
                or || (or = ur.normalize("NFD").length, L.set(ur, or)), z.push([or, Rr++]);
              }
            }
            let G;
            if (z.length === 0 && J)
              G = J;
            else if (z.length > 0 && ne)
              G = ne;
            else {
              const Rr = Object.keys(E).join(""), ur = (0, d.getNormalizeWithNFKC)(), br = `([${Rr}])|([${ur}])|((?:゙|゚)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[぀-ヿ])\\n)|(\\n)`;
              z.length === 0 ? G = J = new RegExp(br + "|(\\u0000)", "gum") : G = ne = new RegExp(br + `|(${R})`, "gum");
            }
            const re = [];
            for (; (q = x.exec(ie)) !== null; )
              re.push([q[0].length, q.index]);
            let ge = ie.normalize("NFD");
            const xe = [[0, 0]];
            let Oe = 0, Ue = 0, Ae = 0, Qe = 0, Xe = 0, nr = !1;
            return ge = ge.replace(G, (Rr, ur, or, wt, br, Oo, ai, Il, Io, Qt) => {
              var _h, kh, Ch;
              if (Qt -= Qe, ur) {
                const Wt = E[ur], xr = Wt.length;
                for (let _r = 1; _r < xr; _r++)
                  xe.push([Qt - Ae + _r, Ae - _r]);
                return Ae -= xr - 1, Wt;
              }
              if (or) {
                let Wt = U.get(or);
                Wt || (Wt = or.normalize("NFKC"), U.set(or, Wt));
                const xr = Wt.length;
                for (let _r = 1; _r < xr; _r++)
                  xe.push([Qt - Ae + _r, Ae - _r]);
                return Ae -= xr - 1, Wt;
              }
              if (wt)
                return nr = !0, Qt + Xe === ((_h = re[Oe]) == null ? void 0 : _h[1]) ? ++Oe : (xe.push([Qt - 1 - Ae + 1, Ae - 1]), Ae -= 1, Qe += 1), xe.push([Qt - Ae + 1, Ae]), Qe += 1, Xe += 1, wt.charAt(0);
              if (br) {
                const Wt = br.endsWith(`
`), xr = Wt ? br.length - 2 : br.length;
                nr = !0;
                let _r = xr;
                Qt + Xe === ((kh = re[Oe]) == null ? void 0 : kh[1]) && (_r -= re[Oe][0], ++Oe);
                for (let mc = 1; mc <= _r; mc++)
                  xe.push([Qt - 1 - Ae + mc, Ae - mc]);
                return Ae -= _r, Qe += _r, Wt ? (Qt += xr - 1, xe.push([Qt - Ae + 1, 1 + Ae]), Ae += 1, Qe += 1, Xe += 1, br.slice(0, xr)) : br;
              }
              if (Oo) {
                const Wt = Oo.length - 2;
                return xe.push([Qt - Ae + Wt, 1 + Ae]), Ae += 1, Qe += 1, Xe += 1, Oo.slice(0, -2);
              }
              if (ai) {
                const Wt = ai.length - 1;
                return xe.push([Qt - Ae + Wt, Ae]), Qe += 1, Xe += 1, ai.slice(0, -1);
              }
              if (Il)
                return xe.push([Qt - Ae + 1, Ae - 1]), Ae -= 1, Qe += 1, Xe += 1, " ";
              if (Qt + Xe === ((Ch = z[Ue]) == null ? void 0 : Ch[1])) {
                const Wt = z[Ue][0] - 1;
                ++Ue;
                for (let xr = 1; xr <= Wt; xr++)
                  xe.push([Qt - (Ae - xr), Ae - xr]);
                Ae -= Wt, Qe += Wt;
              }
              return Io;
            }), xe.push([ge.length, Ae]), [ge, xe, nr];
          }
          function K(ie, z, q) {
            if (!ie)
              return [z, q];
            const G = z, re = z + q - 1;
            let ge = (0, l.binarySearchFirstItem)(ie, (Qe) => Qe[0] >= G);
            ie[ge][0] > G && --ge;
            let xe = (0, l.binarySearchFirstItem)(ie, (Qe) => Qe[0] >= re, ge);
            ie[xe][0] > re && --xe;
            const Oe = G + ie[ge][1], Ae = re + ie[xe][1] + 1 - Oe;
            return [Oe, Ae];
          }
          class ae {
            constructor({
              linkService: z,
              eventBus: q,
              updateMatchesCountOnProgress: G = !0
            }) {
              D(this, le);
              D(this, de);
              D(this, me);
              D(this, Re);
              D(this, Ge);
              D(this, it);
              D(this, Fe);
              D(this, bt);
              D(this, oe);
              D(this, _e);
              D(this, Ee);
              D(this, Y);
              D(this, u);
              D(this, P);
              D(this, H);
              D(this, ce);
              D(this, be);
              D(this, pt);
              D(this, qt);
              D(this, N);
              D(this, ee, null);
              D(this, Q, !0);
              D(this, Z, 0);
              this._linkService = z, this._eventBus = q, B(this, Q, G), this.onIsPageVisible = null, j(this, de, Vd).call(this), q._on("find", j(this, le, bf).bind(this)), q._on("findbarclose", j(this, be, Sf).bind(this));
            }
            get highlightMatches() {
              return this._highlightMatches;
            }
            get pageMatches() {
              return this._pageMatches;
            }
            get pageMatchesLength() {
              return this._pageMatchesLength;
            }
            get selected() {
              return this._selected;
            }
            get state() {
              return p(this, ee);
            }
            setDocument(z) {
              this._pdfDocument && j(this, de, Vd).call(this), z && (this._pdfDocument = z, this._firstPageCapability.resolve());
            }
            scrollMatchIntoView({
              element: z = null,
              selectedLeft: q = 0,
              pageIndex: G = -1,
              matchIndex: re = -1
            }) {
              if (!this._scrollMatches || !z)
                return;
              if (re === -1 || re !== this._selected.matchIdx)
                return;
              if (G === -1 || G !== this._selected.pageIdx)
                return;
              this._scrollMatches = !1;
              const ge = {
                top: b,
                left: q + C
              };
              (0, l.scrollIntoView)(z, ge, !0);
            }
          }
          ee = new WeakMap(), Q = new WeakMap(), Z = new WeakMap(), le = new WeakSet(), bf = function(z) {
            if (!z)
              return;
            z.phraseSearch === !1 && (console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."), typeof z.query == "string" && (z.query = z.query.match(/\S+/g)));
            const q = this._pdfDocument, {
              type: G
            } = z;
            (p(this, ee) === null || j(this, Re, xf).call(this, z)) && (this._dirtyMatch = !0), B(this, ee, z), G !== "highlightallchange" && j(this, N, Ga).call(this, y.PENDING), this._firstPageCapability.promise.then(() => {
              if (!this._pdfDocument || q && this._pdfDocument !== q)
                return;
              j(this, oe, $f).call(this);
              const re = !this._highlightMatches, ge = !!this._findTimeout;
              this._findTimeout && (clearTimeout(this._findTimeout), this._findTimeout = null), G ? this._dirtyMatch ? j(this, Y, Ro).call(this) : G === "again" ? (j(this, Y, Ro).call(this), re && p(this, ee).highlightAll && j(this, Ee, Ya).call(this)) : G === "highlightallchange" ? (ge ? j(this, Y, Ro).call(this) : this._highlightMatches = !0, j(this, Ee, Ya).call(this)) : j(this, Y, Ro).call(this) : this._findTimeout = setTimeout(() => {
                j(this, Y, Ro).call(this), this._findTimeout = null;
              }, w);
            });
          }, de = new WeakSet(), Vd = function() {
            this._highlightMatches = !1, this._scrollMatches = !1, this._pdfDocument = null, this._pageMatches = [], this._pageMatchesLength = [], B(this, Z, 0), B(this, ee, null), this._selected = {
              pageIdx: -1,
              matchIdx: -1
            }, this._offset = {
              pageIdx: null,
              matchIdx: null,
              wrapped: !1
            }, this._extractTextPromises = [], this._pageContents = [], this._pageDiffs = [], this._hasDiacritics = [], this._matchesCountTotal = 0, this._pagesToSearch = null, this._pendingFindMatches = /* @__PURE__ */ new Set(), this._resumePageIdx = null, this._dirtyMatch = !1, clearTimeout(this._findTimeout), this._findTimeout = null, this._firstPageCapability = new h.PromiseCapability();
          }, me = new WeakSet(), Nd = function() {
            const {
              query: z
            } = p(this, ee);
            return typeof z == "string" ? (z !== this._rawQuery && (this._rawQuery = z, [this._normalizedQuery] = ue(z)), this._normalizedQuery) : (z || []).filter((q) => !!q).map((q) => ue(q)[0]);
          }, Re = new WeakSet(), xf = function(z) {
            var xe;
            const q = z.query, G = p(this, ee).query, re = typeof q;
            if (re !== typeof G)
              return !0;
            if (re === "string") {
              if (q !== G)
                return !0;
            } else if (JSON.stringify(q) !== JSON.stringify(G))
              return !0;
            switch (z.type) {
              case "again":
                const Oe = this._selected.pageIdx + 1, Ue = this._linkService;
                return Oe >= 1 && Oe <= Ue.pagesCount && Oe !== Ue.page && !(((xe = this.onIsPageVisible) == null ? void 0 : xe.call(this, Oe)) ?? !0);
              case "highlightallchange":
                return !1;
            }
            return !0;
          }, Ge = new WeakSet(), _f = function(z, q, G) {
            let re = z.slice(0, q).match(k);
            if (re) {
              const ge = z.charCodeAt(q), xe = re[1].charCodeAt(0);
              if ((0, d.getCharacterType)(ge) === (0, d.getCharacterType)(xe))
                return !1;
            }
            if (re = z.slice(q + G).match(g), re) {
              const ge = z.charCodeAt(q + G - 1), xe = re[1].charCodeAt(0);
              if ((0, d.getCharacterType)(ge) === (0, d.getCharacterType)(xe))
                return !1;
            }
            return !0;
          }, it = new WeakSet(), kf = function(z, q, G, re) {
            const ge = this._pageMatches[G] = [], xe = this._pageMatchesLength[G] = [];
            if (!z)
              return;
            const Oe = this._pageDiffs[G];
            let Ue;
            for (; (Ue = z.exec(re)) !== null; ) {
              if (q && !j(this, Ge, _f).call(this, re, Ue.index, Ue[0].length))
                continue;
              const [Ae, Qe] = K(Oe, Ue.index, Ue[0].length);
              Qe && (ge.push(Ae), xe.push(Qe));
            }
          }, Fe = new WeakSet(), Bd = function(z, q) {
            const {
              matchDiacritics: G
            } = p(this, ee);
            let re = !1;
            z = z.replaceAll(T, (xe, Oe, Ue, Ae, Qe, Xe) => Oe ? `[ ]*\\${Oe}[ ]*` : Ue ? `[ ]*${Ue}[ ]*` : Ae ? "[ ]+" : G ? Qe || Xe : Qe ? A.has(Qe.charCodeAt(0)) ? Qe : "" : q ? (re = !0, `${Xe}\\p{M}*`) : Xe);
            const ge = "[ ]*";
            return z.endsWith(ge) && (z = z.slice(0, z.length - ge.length)), G && q && (_ || (_ = String.fromCharCode(...A)), re = !0, z = `${z}(?=[${_}]|[^\\p{M}]|$)`), [re, z];
          }, bt = new WeakSet(), Cf = function(z) {
            let q = p(this, me, Nd);
            if (q.length === 0)
              return;
            const {
              caseSensitive: G,
              entireWord: re
            } = p(this, ee), ge = this._pageContents[z], xe = this._hasDiacritics[z];
            let Oe = !1;
            typeof q == "string" ? [Oe, q] = j(this, Fe, Bd).call(this, q, xe) : q = q.sort().reverse().map((Qe) => {
              const [Xe, nr] = j(this, Fe, Bd).call(this, Qe, xe);
              return Oe || (Oe = Xe), `(${nr})`;
            }).join("|");
            const Ue = `g${Oe ? "u" : ""}${G ? "" : "i"}`;
            q = q ? new RegExp(q, Ue) : null, j(this, it, kf).call(this, q, re, z, ge), p(this, ee).highlightAll && j(this, _e, Ic).call(this, z), this._resumePageIdx === z && (this._resumePageIdx = null, j(this, P, Hd).call(this));
            const Ae = this._pageMatches[z].length;
            this._matchesCountTotal += Ae, p(this, Q) ? Ae > 0 && j(this, qt, Wd).call(this) : ++Fa(this, Z)._ === this._linkService.pagesCount && j(this, qt, Wd).call(this);
          }, oe = new WeakSet(), $f = function() {
            if (this._extractTextPromises.length > 0)
              return;
            let z = Promise.resolve();
            const q = {
              disableNormalization: !0
            };
            for (let G = 0, re = this._linkService.pagesCount; G < re; G++) {
              const ge = new h.PromiseCapability();
              this._extractTextPromises[G] = ge.promise, z = z.then(() => this._pdfDocument.getPage(G + 1).then((xe) => xe.getTextContent(q)).then((xe) => {
                const Oe = [];
                for (const Ue of xe.items)
                  Oe.push(Ue.str), Ue.hasEOL && Oe.push(`
`);
                [this._pageContents[G], this._pageDiffs[G], this._hasDiacritics[G]] = ue(Oe.join("")), ge.resolve();
              }, (xe) => {
                console.error(`Unable to get text content for page ${G + 1}`, xe), this._pageContents[G] = "", this._pageDiffs[G] = null, this._hasDiacritics[G] = !1, ge.resolve();
              }));
            }
          }, _e = new WeakSet(), Ic = function(z) {
            this._scrollMatches && this._selected.pageIdx === z && (this._linkService.page = z + 1), this._eventBus.dispatch("updatetextlayermatches", {
              source: this,
              pageIndex: z
            });
          }, Ee = new WeakSet(), Ya = function() {
            this._eventBus.dispatch("updatetextlayermatches", {
              source: this,
              pageIndex: -1
            });
          }, Y = new WeakSet(), Ro = function() {
            const z = p(this, ee).findPrevious, q = this._linkService.page - 1, G = this._linkService.pagesCount;
            if (this._highlightMatches = !0, this._dirtyMatch) {
              this._dirtyMatch = !1, this._selected.pageIdx = this._selected.matchIdx = -1, this._offset.pageIdx = q, this._offset.matchIdx = null, this._offset.wrapped = !1, this._resumePageIdx = null, this._pageMatches.length = 0, this._pageMatchesLength.length = 0, B(this, Z, 0), this._matchesCountTotal = 0, j(this, Ee, Ya).call(this);
              for (let xe = 0; xe < G; xe++)
                this._pendingFindMatches.has(xe) || (this._pendingFindMatches.add(xe), this._extractTextPromises[xe].then(() => {
                  this._pendingFindMatches.delete(xe), j(this, bt, Cf).call(this, xe);
                }));
            }
            if (p(this, me, Nd).length === 0) {
              j(this, N, Ga).call(this, y.FOUND);
              return;
            }
            if (this._resumePageIdx)
              return;
            const ge = this._offset;
            if (this._pagesToSearch = G, ge.matchIdx !== null) {
              const xe = this._pageMatches[ge.pageIdx].length;
              if (!z && ge.matchIdx + 1 < xe || z && ge.matchIdx > 0) {
                ge.matchIdx = z ? ge.matchIdx - 1 : ge.matchIdx + 1, j(this, ce, Tc).call(this, !0);
                return;
              }
              j(this, H, jd).call(this, z);
            }
            j(this, P, Hd).call(this);
          }, u = new WeakSet(), Ef = function(z) {
            const q = this._offset, G = z.length, re = p(this, ee).findPrevious;
            return G ? (q.matchIdx = re ? G - 1 : 0, j(this, ce, Tc).call(this, !0), !0) : (j(this, H, jd).call(this, re), q.wrapped && (q.matchIdx = null, this._pagesToSearch < 0) ? (j(this, ce, Tc).call(this, !1), !0) : !1);
          }, P = new WeakSet(), Hd = function() {
            this._resumePageIdx !== null && console.error("There can only be one pending page.");
            let z = null;
            do {
              const q = this._offset.pageIdx;
              if (z = this._pageMatches[q], !z) {
                this._resumePageIdx = q;
                break;
              }
            } while (!j(this, u, Ef).call(this, z));
          }, H = new WeakSet(), jd = function(z) {
            const q = this._offset, G = this._linkService.pagesCount;
            q.pageIdx = z ? q.pageIdx - 1 : q.pageIdx + 1, q.matchIdx = null, this._pagesToSearch--, (q.pageIdx >= G || q.pageIdx < 0) && (q.pageIdx = z ? G - 1 : 0, q.wrapped = !0);
          }, ce = new WeakSet(), Tc = function(z = !1) {
            let q = y.NOT_FOUND;
            const G = this._offset.wrapped;
            if (this._offset.wrapped = !1, z) {
              const re = this._selected.pageIdx;
              this._selected.pageIdx = this._offset.pageIdx, this._selected.matchIdx = this._offset.matchIdx, q = G ? y.WRAPPED : y.FOUND, re !== -1 && re !== this._selected.pageIdx && j(this, _e, Ic).call(this, re);
            }
            j(this, N, Ga).call(this, q, p(this, ee).findPrevious), this._selected.pageIdx !== -1 && (this._scrollMatches = !0, j(this, _e, Ic).call(this, this._selected.pageIdx));
          }, be = new WeakSet(), Sf = function(z) {
            const q = this._pdfDocument;
            this._firstPageCapability.promise.then(() => {
              !this._pdfDocument || q && this._pdfDocument !== q || (this._findTimeout && (clearTimeout(this._findTimeout), this._findTimeout = null), this._resumePageIdx && (this._resumePageIdx = null, this._dirtyMatch = !0), j(this, N, Ga).call(this, y.FOUND), this._highlightMatches = !1, j(this, Ee, Ya).call(this));
            });
          }, pt = new WeakSet(), Ud = function() {
            var ge;
            const {
              pageIdx: z,
              matchIdx: q
            } = this._selected;
            let G = 0, re = this._matchesCountTotal;
            if (q !== -1) {
              for (let xe = 0; xe < z; xe++)
                G += ((ge = this._pageMatches[xe]) == null ? void 0 : ge.length) || 0;
              G += q + 1;
            }
            return (G < 1 || G > re) && (G = re = 0), {
              current: G,
              total: re
            };
          }, qt = new WeakSet(), Wd = function() {
            this._eventBus.dispatch("updatefindmatchescount", {
              source: this,
              matchesCount: j(this, pt, Ud).call(this)
            });
          }, N = new WeakSet(), Ga = function(z, q = !1) {
            var G;
            !p(this, Q) && (p(this, Z) !== this._linkService.pagesCount || z === y.PENDING) || this._eventBus.dispatch("updatefindcontrolstate", {
              source: this,
              state: z,
              previous: q,
              matchesCount: j(this, pt, Ud).call(this),
              rawQuery: ((G = p(this, ee)) == null ? void 0 : G.query) ?? null
            });
          }, s.PDFFindController = ae;
        },
        /* 2 */
        /***/
        (a, s) => {
          var ye, _e, $e, Ee, Me;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.animationStarted = s.VERTICAL_PADDING = s.UNKNOWN_SCALE = s.TextLayerMode = s.SpreadMode = s.SidebarView = s.ScrollMode = s.SCROLLBAR_PADDING = s.RenderingStates = s.ProgressBar = s.PresentationModeState = s.OutputScale = s.MIN_SCALE = s.MAX_SCALE = s.MAX_AUTO_SCALE = s.DEFAULT_SCALE_VALUE = s.DEFAULT_SCALE_DELTA = s.DEFAULT_SCALE = s.CursorTool = s.AutoPrintRegExp = void 0, s.apiPageLayoutToViewerModes = ir, s.apiPageModeToSidebarView = bt, s.approximateFraction = ee, s.backtrackBeforeAllVisibleElements = le, s.binarySearchFirstItem = ae, s.docStyle = void 0, s.getActiveOrFocusedElement = Fe, s.getPageSizeInches = Z, s.getVisibleElements = O, s.isPortraitOrientation = qe, s.isValidRotation = me, s.isValidScrollMode = Ce, s.isValidSpreadMode = Re, s.normalizeWheelEventDelta = ve, s.normalizeWheelEventDirection = de, s.parseQueryString = ne, s.removeNullCharacters = K, s.roundToDivide = Q, s.scrollIntoView = U, s.toggleCheckedBtn = Ni, s.toggleExpandedBtn = oe, s.watchScroll = J;
          const c = "auto";
          s.DEFAULT_SCALE_VALUE = c;
          const l = 1;
          s.DEFAULT_SCALE = l;
          const d = 1.1;
          s.DEFAULT_SCALE_DELTA = d;
          const h = 0.1;
          s.MIN_SCALE = h;
          const y = 10;
          s.MAX_SCALE = y;
          const w = 0;
          s.UNKNOWN_SCALE = w;
          const b = 1.25;
          s.MAX_AUTO_SCALE = b;
          const C = 40;
          s.SCROLLBAR_PADDING = C;
          const E = 5;
          s.VERTICAL_PADDING = E;
          const A = {
            INITIAL: 0,
            RUNNING: 1,
            PAUSED: 2,
            FINISHED: 3
          };
          s.RenderingStates = A;
          const _ = {
            UNKNOWN: 0,
            NORMAL: 1,
            CHANGING: 2,
            FULLSCREEN: 3
          };
          s.PresentationModeState = _;
          const x = {
            UNKNOWN: -1,
            NONE: 0,
            THUMBS: 1,
            OUTLINE: 2,
            ATTACHMENTS: 3,
            LAYERS: 4
          };
          s.SidebarView = x;
          const T = {
            DISABLE: 0,
            ENABLE: 1,
            ENABLE_PERMISSIONS: 2
          };
          s.TextLayerMode = T;
          const k = {
            UNKNOWN: -1,
            VERTICAL: 0,
            HORIZONTAL: 1,
            WRAPPED: 2,
            PAGE: 3
          };
          s.ScrollMode = k;
          const g = {
            UNKNOWN: -1,
            NONE: 0,
            ODD: 1,
            EVEN: 2
          };
          s.SpreadMode = g;
          const S = {
            SELECT: 0,
            HAND: 1,
            ZOOM: 2
          };
          s.CursorTool = S;
          const L = /\bprint\s*\(/;
          s.AutoPrintRegExp = L;
          class R {
            constructor() {
              const M = window.devicePixelRatio || 1;
              this.sx = M, this.sy = M;
            }
            get scaled() {
              return this.sx !== 1 || this.sy !== 1;
            }
          }
          s.OutputScale = R;
          function U(Y, M, u = !1) {
            let f = Y.offsetParent;
            if (!f) {
              console.error("offsetParent is not set -- cannot scroll");
              return;
            }
            let P = Y.offsetTop + Y.clientTop, I = Y.offsetLeft + Y.clientLeft;
            for (; f.clientHeight === f.scrollHeight && f.clientWidth === f.scrollWidth || u && (f.classList.contains("markedContent") || getComputedStyle(f).overflow === "hidden"); )
              if (P += f.offsetTop, I += f.offsetLeft, f = f.offsetParent, !f)
                return;
            M && (M.top !== void 0 && (P += M.top), M.left !== void 0 && (I += M.left, f.scrollLeft = I)), f.scrollTop = P;
          }
          function J(Y, M) {
            const u = function(I) {
              P || (P = window.requestAnimationFrame(function() {
                P = null;
                const W = Y.scrollLeft, ce = f.lastX;
                W !== ce && (f.right = W > ce), f.lastX = W;
                const he = Y.scrollTop, be = f.lastY;
                he !== be && (f.down = he > be), f.lastY = he, M(f);
              }));
            }, f = {
              right: !0,
              down: !0,
              lastX: Y.scrollLeft,
              lastY: Y.scrollTop,
              _eventHandler: u
            };
            let P = null;
            return Y.addEventListener("scroll", u, !0), f;
          }
          function ne(Y) {
            const M = /* @__PURE__ */ new Map();
            for (const [u, f] of new URLSearchParams(Y))
              M.set(u.toLowerCase(), f);
            return M;
          }
          const ue = /[\x01-\x1F]/g;
          function K(Y, M = !1) {
            return typeof Y != "string" ? (console.error("The argument must be a string."), Y) : (M && (Y = Y.replaceAll(ue, " ")), Y.replaceAll("\0", ""));
          }
          function ae(Y, M, u = 0) {
            let f = u, P = Y.length - 1;
            if (P < 0 || !M(Y[P]))
              return Y.length;
            if (M(Y[f]))
              return f;
            for (; f < P; ) {
              const I = f + P >> 1, H = Y[I];
              M(H) ? P = I : f = I + 1;
            }
            return f;
          }
          function ee(Y) {
            if (Math.floor(Y) === Y)
              return [Y, 1];
            const M = 1 / Y, u = 8;
            if (M > u)
              return [1, u];
            if (Math.floor(M) === M)
              return [1, M];
            const f = Y > 1 ? M : Y;
            let P = 0, I = 1, H = 1, W = 1;
            for (; ; ) {
              const he = P + H, be = I + W;
              if (be > u)
                break;
              f <= he / be ? (H = he, W = be) : (P = he, I = be);
            }
            let ce;
            return f - P / I < H / W - f ? ce = f === Y ? [P, I] : [I, P] : ce = f === Y ? [H, W] : [W, H], ce;
          }
          function Q(Y, M) {
            const u = Y % M;
            return u === 0 ? Y : Math.round(Y - u + M);
          }
          function Z({
            view: Y,
            userUnit: M,
            rotate: u
          }) {
            const [f, P, I, H] = Y, W = u % 180 !== 0, ce = (I - f) / 72 * M, he = (H - P) / 72 * M;
            return {
              width: W ? he : ce,
              height: W ? ce : he
            };
          }
          function le(Y, M, u) {
            if (Y < 2)
              return Y;
            let f = M[Y].div, P = f.offsetTop + f.clientTop;
            P >= u && (f = M[Y - 1].div, P = f.offsetTop + f.clientTop);
            for (let I = Y - 2; I >= 0 && (f = M[I].div, !(f.offsetTop + f.clientTop + f.clientHeight <= P)); --I)
              Y = I;
            return Y;
          }
          function O({
            scrollEl: Y,
            views: M,
            sortByVisibility: u = !1,
            horizontal: f = !1,
            rtl: P = !1
          }) {
            const I = Y.scrollTop, H = I + Y.clientHeight, W = Y.scrollLeft, ce = W + Y.clientWidth;
            function he(ie) {
              const z = ie.div;
              return z.offsetTop + z.clientTop + z.clientHeight > I;
            }
            function be(ie) {
              const z = ie.div, q = z.offsetLeft + z.clientLeft, G = q + z.clientWidth;
              return P ? q < ce : G > W;
            }
            const ze = [], pt = /* @__PURE__ */ new Set(), xi = M.length;
            let qt = ae(M, f ? be : he);
            qt > 0 && qt < xi && !f && (qt = le(qt, M, I));
            let $ = f ? ce : -1;
            for (let ie = qt; ie < xi; ie++) {
              const z = M[ie], q = z.div, G = q.offsetLeft + q.clientLeft, re = q.offsetTop + q.clientTop, ge = q.clientWidth, xe = q.clientHeight, Oe = G + ge, Ue = re + xe;
              if ($ === -1)
                Ue >= H && ($ = Ue);
              else if ((f ? G : re) > $)
                break;
              if (Ue <= I || re >= H || Oe <= W || G >= ce)
                continue;
              const Ae = Math.max(0, I - re) + Math.max(0, Ue - H), Qe = Math.max(0, W - G) + Math.max(0, Oe - ce), Xe = (xe - Ae) / xe, nr = (ge - Qe) / ge, Rr = Xe * nr * 100 | 0;
              ze.push({
                id: z.id,
                x: G,
                y: re,
                view: z,
                percent: Rr,
                widthPercent: nr * 100 | 0
              }), pt.add(z.id);
            }
            const N = ze[0], se = ze.at(-1);
            return u && ze.sort(function(ie, z) {
              const q = ie.percent - z.percent;
              return Math.abs(q) > 1e-3 ? -q : ie.id - z.id;
            }), {
              first: N,
              last: se,
              views: ze,
              ids: pt
            };
          }
          function de(Y) {
            let M = Math.hypot(Y.deltaX, Y.deltaY);
            const u = Math.atan2(Y.deltaY, Y.deltaX);
            return -0.25 * Math.PI < u && u < 0.75 * Math.PI && (M = -M), M;
          }
          function ve(Y) {
            const M = Y.deltaMode;
            let u = de(Y);
            const f = 30, P = 30;
            return M === WheelEvent.DOM_DELTA_PIXEL ? u /= f * P : M === WheelEvent.DOM_DELTA_LINE && (u /= P), u;
          }
          function me(Y) {
            return Number.isInteger(Y) && Y % 90 === 0;
          }
          function Ce(Y) {
            return Number.isInteger(Y) && Object.values(k).includes(Y) && Y !== k.UNKNOWN;
          }
          function Re(Y) {
            return Number.isInteger(Y) && Object.values(g).includes(Y) && Y !== g.UNKNOWN;
          }
          function qe(Y) {
            return Y.width <= Y.height;
          }
          const Ge = new Promise(function(Y) {
            window.requestAnimationFrame(Y);
          });
          s.animationStarted = Ge;
          const Ne = document.documentElement.style;
          s.docStyle = Ne;
          function it(Y, M, u) {
            return Math.min(Math.max(Y, M), u);
          }
          class je {
            constructor(M) {
              D(this, ye, null);
              D(this, _e, null);
              D(this, $e, 0);
              D(this, Ee, null);
              D(this, Me, !0);
              B(this, ye, M.classList), B(this, Ee, M.style);
            }
            get percent() {
              return p(this, $e);
            }
            set percent(M) {
              if (B(this, $e, it(M, 0, 100)), isNaN(M)) {
                p(this, ye).add("indeterminate");
                return;
              }
              p(this, ye).remove("indeterminate"), p(this, Ee).setProperty("--progressBar-percent", `${p(this, $e)}%`);
            }
            setWidth(M) {
              if (!M)
                return;
              const f = M.parentNode.offsetWidth - M.offsetWidth;
              f > 0 && p(this, Ee).setProperty("--progressBar-end-offset", `${f}px`);
            }
            setDisableAutoFetch(M = 5e3) {
              isNaN(p(this, $e)) || (p(this, _e) && clearTimeout(p(this, _e)), this.show(), B(this, _e, setTimeout(() => {
                B(this, _e, null), this.hide();
              }, M)));
            }
            hide() {
              p(this, Me) && (B(this, Me, !1), p(this, ye).add("hidden"));
            }
            show() {
              p(this, Me) || (B(this, Me, !0), p(this, ye).remove("hidden"));
            }
          }
          ye = new WeakMap(), _e = new WeakMap(), $e = new WeakMap(), Ee = new WeakMap(), Me = new WeakMap(), s.ProgressBar = je;
          function Fe() {
            let Y = document, M = Y.activeElement || Y.querySelector(":focus");
            for (; M != null && M.shadowRoot; )
              Y = M.shadowRoot, M = Y.activeElement || Y.querySelector(":focus");
            return M;
          }
          function ir(Y) {
            let M = k.VERTICAL, u = g.NONE;
            switch (Y) {
              case "SinglePage":
                M = k.PAGE;
                break;
              case "OneColumn":
                break;
              case "TwoPageLeft":
                M = k.PAGE;
              case "TwoColumnLeft":
                u = g.ODD;
                break;
              case "TwoPageRight":
                M = k.PAGE;
              case "TwoColumnRight":
                u = g.EVEN;
                break;
            }
            return {
              scrollMode: M,
              spreadMode: u
            };
          }
          function bt(Y) {
            switch (Y) {
              case "UseNone":
                return x.NONE;
              case "UseThumbs":
                return x.THUMBS;
              case "UseOutlines":
                return x.OUTLINE;
              case "UseAttachments":
                return x.ATTACHMENTS;
              case "UseOC":
                return x.LAYERS;
            }
            return x.NONE;
          }
          function Ni(Y, M, u = null) {
            Y.classList.toggle("toggled", M), Y.setAttribute("aria-checked", M), u == null || u.classList.toggle("hidden", !M);
          }
          function oe(Y, M, u = null) {
            Y.classList.toggle("toggled", M), Y.setAttribute("aria-expanded", M), u == null || u.classList.toggle("hidden", !M);
          }
        },
        /* 3 */
        /***/
        (a, s) => {
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.CharacterType = void 0, s.getCharacterType = x, s.getNormalizeWithNFKC = k;
          const c = {
            SPACE: 0,
            ALPHA_LETTER: 1,
            PUNCT: 2,
            HAN_LETTER: 3,
            KATAKANA_LETTER: 4,
            HIRAGANA_LETTER: 5,
            HALFWIDTH_KATAKANA_LETTER: 6,
            THAI_LETTER: 7
          };
          s.CharacterType = c;
          function l(g) {
            return g < 11904;
          }
          function d(g) {
            return (g & 65408) === 0;
          }
          function h(g) {
            return g >= 97 && g <= 122 || g >= 65 && g <= 90;
          }
          function y(g) {
            return g >= 48 && g <= 57;
          }
          function w(g) {
            return g === 32 || g === 9 || g === 13 || g === 10;
          }
          function b(g) {
            return g >= 13312 && g <= 40959 || g >= 63744 && g <= 64255;
          }
          function C(g) {
            return g >= 12448 && g <= 12543;
          }
          function E(g) {
            return g >= 12352 && g <= 12447;
          }
          function A(g) {
            return g >= 65376 && g <= 65439;
          }
          function _(g) {
            return (g & 65408) === 3584;
          }
          function x(g) {
            return l(g) ? d(g) ? w(g) ? c.SPACE : h(g) || y(g) || g === 95 ? c.ALPHA_LETTER : c.PUNCT : _(g) ? c.THAI_LETTER : g === 160 ? c.SPACE : c.ALPHA_LETTER : b(g) ? c.HAN_LETTER : C(g) ? c.KATAKANA_LETTER : E(g) ? c.HIRAGANA_LETTER : A(g) ? c.HALFWIDTH_KATAKANA_LETTER : c.ALPHA_LETTER;
          }
          let T;
          function k() {
            return T || (T = " ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦"), T;
          }
        },
        /* 4 */
        /***/
        (a) => {
          a.exports = globalThis.pdfjsLib;
        },
        /* 5 */
        /***/
        (a, s, c) => {
          var C, E, qd, _, Pf;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.SimpleLinkService = s.PDFLinkService = s.LinkTarget = void 0;
          var l = c(2);
          const d = "noopener noreferrer nofollow", h = {
            NONE: 0,
            SELF: 1,
            BLANK: 2,
            PARENT: 3,
            TOP: 4
          };
          s.LinkTarget = h;
          function y(k, {
            url: g,
            target: S,
            rel: L,
            enabled: R = !0
          } = {}) {
            if (!g || typeof g != "string")
              throw new Error('A valid "url" parameter must provided.');
            R ? k.href = k.title = g : (k.href = "", k.title = `Disabled: ${g}`, k.onclick = () => !1);
            let U = "";
            switch (S) {
              case h.NONE:
                break;
              case h.SELF:
                U = "_self";
                break;
              case h.BLANK:
                U = "_blank";
                break;
              case h.PARENT:
                U = "_parent";
                break;
              case h.TOP:
                U = "_top";
                break;
            }
            k.target = U, k.rel = typeof L == "string" ? L : d;
          }
          const T = class T {
            constructor({
              eventBus: g,
              externalLinkTarget: S = null,
              externalLinkRel: L = null,
              ignoreDestinationZoom: R = !1
            } = {}) {
              D(this, E);
              D(this, C, /* @__PURE__ */ new Map());
              this.eventBus = g, this.externalLinkTarget = S, this.externalLinkRel = L, this.externalLinkEnabled = !0, this._ignoreDestinationZoom = R, this.baseUrl = null, this.pdfDocument = null, this.pdfViewer = null, this.pdfHistory = null;
            }
            setDocument(g, S = null) {
              this.baseUrl = S, this.pdfDocument = g, p(this, C).clear();
            }
            setViewer(g) {
              this.pdfViewer = g;
            }
            setHistory(g) {
              this.pdfHistory = g;
            }
            get pagesCount() {
              return this.pdfDocument ? this.pdfDocument.numPages : 0;
            }
            get page() {
              return this.pdfViewer.currentPageNumber;
            }
            set page(g) {
              this.pdfViewer.currentPageNumber = g;
            }
            get rotation() {
              return this.pdfViewer.pagesRotation;
            }
            set rotation(g) {
              this.pdfViewer.pagesRotation = g;
            }
            get isInPresentationMode() {
              return this.pdfViewer.isInPresentationMode;
            }
            async goToDestination(g) {
              if (!this.pdfDocument)
                return;
              let S, L;
              if (typeof g == "string" ? (S = g, L = await this.pdfDocument.getDestination(g)) : (S = null, L = await g), !Array.isArray(L)) {
                console.error(`PDFLinkService.goToDestination: "${L}" is not a valid destination array, for dest="${g}".`);
                return;
              }
              j(this, E, qd).call(this, g, S, L);
            }
            goToPage(g) {
              if (!this.pdfDocument)
                return;
              const S = typeof g == "string" && this.pdfViewer.pageLabelToPageNumber(g) || g | 0;
              if (!(Number.isInteger(S) && S > 0 && S <= this.pagesCount)) {
                console.error(`PDFLinkService.goToPage: "${g}" is not a valid page.`);
                return;
              }
              this.pdfHistory && (this.pdfHistory.pushCurrentPosition(), this.pdfHistory.pushPage(S)), this.pdfViewer.scrollPageIntoView({
                pageNumber: S
              });
            }
            addLinkAttributes(g, S, L = !1) {
              y(g, {
                url: S,
                target: L ? h.BLANK : this.externalLinkTarget,
                rel: this.externalLinkRel,
                enabled: this.externalLinkEnabled
              });
            }
            getDestinationHash(g) {
              if (typeof g == "string") {
                if (g.length > 0)
                  return this.getAnchorUrl("#" + escape(g));
              } else if (Array.isArray(g)) {
                const S = JSON.stringify(g);
                if (S.length > 0)
                  return this.getAnchorUrl("#" + escape(S));
              }
              return this.getAnchorUrl("");
            }
            getAnchorUrl(g) {
              return this.baseUrl ? this.baseUrl + g : g;
            }
            setHash(g) {
              var R;
              if (!this.pdfDocument)
                return;
              let S, L;
              if (g.includes("=")) {
                const U = (0, l.parseQueryString)(g);
                if (U.has("search")) {
                  const J = U.get("search").replaceAll('"', ""), ne = U.get("phrase") === "true";
                  this.eventBus.dispatch("findfromurlhash", {
                    source: this,
                    query: ne ? J : J.match(/\S+/g)
                  });
                }
                if (U.has("page") && (S = U.get("page") | 0 || 1), U.has("zoom")) {
                  const J = U.get("zoom").split(","), ne = J[0], ue = parseFloat(ne);
                  ne.includes("Fit") ? ne === "Fit" || ne === "FitB" ? L = [null, {
                    name: ne
                  }] : ne === "FitH" || ne === "FitBH" || ne === "FitV" || ne === "FitBV" ? L = [null, {
                    name: ne
                  }, J.length > 1 ? J[1] | 0 : null] : ne === "FitR" ? J.length !== 5 ? console.error('PDFLinkService.setHash: Not enough parameters for "FitR".') : L = [null, {
                    name: ne
                  }, J[1] | 0, J[2] | 0, J[3] | 0, J[4] | 0] : console.error(`PDFLinkService.setHash: "${ne}" is not a valid zoom value.`) : L = [null, {
                    name: "XYZ"
                  }, J.length > 1 ? J[1] | 0 : null, J.length > 2 ? J[2] | 0 : null, ue ? ue / 100 : ne];
                }
                L ? this.pdfViewer.scrollPageIntoView({
                  pageNumber: S || this.page,
                  destArray: L,
                  allowNegativeOffset: !0
                }) : S && (this.page = S), U.has("pagemode") && this.eventBus.dispatch("pagemode", {
                  source: this,
                  mode: U.get("pagemode")
                }), U.has("nameddest") && this.goToDestination(U.get("nameddest"));
              } else {
                L = unescape(g);
                try {
                  L = JSON.parse(L), Array.isArray(L) || (L = L.toString());
                } catch {
                }
                if (typeof L == "string" || j(R = T, _, Pf).call(R, L)) {
                  this.goToDestination(L);
                  return;
                }
                console.error(`PDFLinkService.setHash: "${unescape(g)}" is not a valid destination.`);
              }
            }
            executeNamedAction(g) {
              var S, L;
              switch (g) {
                case "GoBack":
                  (S = this.pdfHistory) == null || S.back();
                  break;
                case "GoForward":
                  (L = this.pdfHistory) == null || L.forward();
                  break;
                case "NextPage":
                  this.pdfViewer.nextPage();
                  break;
                case "PrevPage":
                  this.pdfViewer.previousPage();
                  break;
                case "LastPage":
                  this.page = this.pagesCount;
                  break;
                case "FirstPage":
                  this.page = 1;
                  break;
              }
              this.eventBus.dispatch("namedaction", {
                source: this,
                action: g
              });
            }
            async executeSetOCGState(g) {
              const S = this.pdfDocument, L = await this.pdfViewer.optionalContentConfigPromise;
              if (S !== this.pdfDocument)
                return;
              let R;
              for (const U of g.state) {
                switch (U) {
                  case "ON":
                  case "OFF":
                  case "Toggle":
                    R = U;
                    continue;
                }
                switch (R) {
                  case "ON":
                    L.setVisibility(U, !0);
                    break;
                  case "OFF":
                    L.setVisibility(U, !1);
                    break;
                  case "Toggle":
                    const J = L.getGroup(U);
                    J && L.setVisibility(U, !J.visible);
                    break;
                }
              }
              this.pdfViewer.optionalContentConfigPromise = Promise.resolve(L);
            }
            cachePageRef(g, S) {
              if (!S)
                return;
              const L = S.gen === 0 ? `${S.num}R` : `${S.num}R${S.gen}`;
              p(this, C).set(L, g);
            }
            _cachedPageNumber(g) {
              if (!g)
                return null;
              const S = g.gen === 0 ? `${g.num}R` : `${g.num}R${g.gen}`;
              return p(this, C).get(S) || null;
            }
          };
          C = new WeakMap(), E = new WeakSet(), qd = function(g, S = null, L) {
            const R = L[0];
            let U;
            if (typeof R == "object" && R !== null) {
              if (U = this._cachedPageNumber(R), !U) {
                this.pdfDocument.getPageIndex(R).then((J) => {
                  this.cachePageRef(J + 1, R), j(this, E, qd).call(this, g, S, L);
                }).catch(() => {
                  console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid page reference, for dest="${g}".`);
                });
                return;
              }
            } else if (Number.isInteger(R))
              U = R + 1;
            else {
              console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid destination reference, for dest="${g}".`);
              return;
            }
            if (!U || U < 1 || U > this.pagesCount) {
              console.error(`PDFLinkService.#goToDestinationHelper: "${U}" is not a valid page number, for dest="${g}".`);
              return;
            }
            this.pdfHistory && (this.pdfHistory.pushCurrentPosition(), this.pdfHistory.push({
              namedDest: S,
              explicitDest: L,
              pageNumber: U
            })), this.pdfViewer.scrollPageIntoView({
              pageNumber: U,
              destArray: L,
              ignoreDestinationZoom: this._ignoreDestinationZoom
            });
          }, _ = new WeakSet(), Pf = function(g) {
            if (!Array.isArray(g))
              return !1;
            const S = g.length;
            if (S < 2)
              return !1;
            const L = g[0];
            if (!(typeof L == "object" && Number.isInteger(L.num) && Number.isInteger(L.gen)) && !(Number.isInteger(L) && L >= 0))
              return !1;
            const R = g[1];
            if (!(typeof R == "object" && typeof R.name == "string"))
              return !1;
            let U = !0;
            switch (R.name) {
              case "XYZ":
                if (S !== 5)
                  return !1;
                break;
              case "Fit":
              case "FitB":
                return S === 2;
              case "FitH":
              case "FitBH":
              case "FitV":
              case "FitBV":
                if (S !== 3)
                  return !1;
                break;
              case "FitR":
                if (S !== 6)
                  return !1;
                U = !1;
                break;
              default:
                return !1;
            }
            for (let J = 2; J < S; J++) {
              const ne = g[J];
              if (!(typeof ne == "number" || U && ne === null))
                return !1;
            }
            return !0;
          }, D(T, _);
          let w = T;
          s.PDFLinkService = w;
          class b {
            constructor() {
              this.externalLinkEnabled = !0;
            }
            get pagesCount() {
              return 0;
            }
            get page() {
              return 0;
            }
            set page(g) {
            }
            get rotation() {
              return 0;
            }
            set rotation(g) {
            }
            get isInPresentationMode() {
              return !1;
            }
            async goToDestination(g) {
            }
            goToPage(g) {
            }
            addLinkAttributes(g, S, L = !1) {
              y(g, {
                url: S,
                enabled: this.externalLinkEnabled
              });
            }
            getDestinationHash(g) {
              return "#";
            }
            getAnchorUrl(g) {
              return "#";
            }
            setHash(g) {
            }
            executeNamedAction(g) {
            }
            executeSetOCGState(g) {
            }
            cachePageRef(g, S) {
            }
          }
          s.SimpleLinkService = b;
        },
        /* 6 */
        /***/
        (a, s, c) => {
          var w, b, Qd;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.AnnotationLayerBuilder = void 0;
          var l = c(4), d = c(7), h = c(2);
          class y {
            constructor({
              pageDiv: A,
              pdfPage: _,
              linkService: x,
              downloadManager: T,
              annotationStorage: k = null,
              imageResourcesPath: g = "",
              renderForms: S = !0,
              l10n: L = d.NullL10n,
              enableScripting: R = !1,
              hasJSActionsPromise: U = null,
              fieldObjectsPromise: J = null,
              annotationCanvasMap: ne = null,
              accessibilityManager: ue = null
            }) {
              D(this, b);
              D(this, w, null);
              this.pageDiv = A, this.pdfPage = _, this.linkService = x, this.downloadManager = T, this.imageResourcesPath = g, this.renderForms = S, this.l10n = L, this.annotationStorage = k, this.enableScripting = R, this._hasJSActionsPromise = U || Promise.resolve(!1), this._fieldObjectsPromise = J || Promise.resolve(null), this._annotationCanvasMap = ne, this._accessibilityManager = ue, this.annotationLayer = null, this.div = null, this._cancelled = !1, this._eventBus = x.eventBus;
            }
            async render(A, _ = "display") {
              var S;
              if (this.div) {
                if (this._cancelled || !this.annotationLayer)
                  return;
                this.annotationLayer.update({
                  viewport: A.clone({
                    dontFlip: !0
                  })
                });
                return;
              }
              const [x, T, k] = await Promise.all([this.pdfPage.getAnnotations({
                intent: _
              }), this._hasJSActionsPromise, this._fieldObjectsPromise]);
              if (this._cancelled)
                return;
              const g = this.div = document.createElement("div");
              if (g.className = "annotationLayer", this.pageDiv.append(g), x.length === 0) {
                this.hide();
                return;
              }
              this.annotationLayer = new l.AnnotationLayer({
                div: g,
                accessibilityManager: this._accessibilityManager,
                annotationCanvasMap: this._annotationCanvasMap,
                l10n: this.l10n,
                page: this.pdfPage,
                viewport: A.clone({
                  dontFlip: !0
                })
              }), await this.annotationLayer.render({
                annotations: x,
                imageResourcesPath: this.imageResourcesPath,
                renderForms: this.renderForms,
                linkService: this.linkService,
                downloadManager: this.downloadManager,
                annotationStorage: this.annotationStorage,
                enableScripting: this.enableScripting,
                hasJSActions: T,
                fieldObjects: k
              }), this.linkService.isInPresentationMode && j(this, b, Qd).call(this, h.PresentationModeState.FULLSCREEN), p(this, w) || (B(this, w, (L) => {
                j(this, b, Qd).call(this, L.state);
              }), (S = this._eventBus) == null || S._on("presentationmodechanged", p(this, w)));
            }
            cancel() {
              var A;
              this._cancelled = !0, p(this, w) && ((A = this._eventBus) == null || A._off("presentationmodechanged", p(this, w)), B(this, w, null));
            }
            hide() {
              this.div && (this.div.hidden = !0);
            }
          }
          w = new WeakMap(), b = new WeakSet(), Qd = function(A) {
            if (!this.div)
              return;
            let _ = !1;
            switch (A) {
              case h.PresentationModeState.FULLSCREEN:
                _ = !0;
                break;
              case h.PresentationModeState.NORMAL:
                break;
              default:
                return;
            }
            for (const x of this.div.childNodes)
              x.hasAttribute("data-internal-link") || (x.inert = _);
          }, s.AnnotationLayerBuilder = y;
        },
        /* 7 */
        /***/
        (a, s) => {
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.NullL10n = void 0, s.getL10nFallback = l;
          const c = {
            of_pages: "of {{pagesCount}}",
            page_of_pages: "({{pageNumber}} of {{pagesCount}})",
            document_properties_kb: "{{size_kb}} KB ({{size_b}} bytes)",
            document_properties_mb: "{{size_mb}} MB ({{size_b}} bytes)",
            document_properties_date_string: "{{date}}, {{time}}",
            document_properties_page_size_unit_inches: "in",
            document_properties_page_size_unit_millimeters: "mm",
            document_properties_page_size_orientation_portrait: "portrait",
            document_properties_page_size_orientation_landscape: "landscape",
            document_properties_page_size_name_a3: "A3",
            document_properties_page_size_name_a4: "A4",
            document_properties_page_size_name_letter: "Letter",
            document_properties_page_size_name_legal: "Legal",
            document_properties_page_size_dimension_string: "{{width}} × {{height}} {{unit}} ({{orientation}})",
            document_properties_page_size_dimension_name_string: "{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",
            document_properties_linearized_yes: "Yes",
            document_properties_linearized_no: "No",
            additional_layers: "Additional Layers",
            page_landmark: "Page {{page}}",
            thumb_page_title: "Page {{page}}",
            thumb_page_canvas: "Thumbnail of Page {{page}}",
            find_reached_top: "Reached top of document, continued from bottom",
            find_reached_bottom: "Reached end of document, continued from top",
            "find_match_count[one]": "{{current}} of {{total}} match",
            "find_match_count[other]": "{{current}} of {{total}} matches",
            "find_match_count_limit[one]": "More than {{limit}} match",
            "find_match_count_limit[other]": "More than {{limit}} matches",
            find_not_found: "Phrase not found",
            page_scale_width: "Page Width",
            page_scale_fit: "Page Fit",
            page_scale_auto: "Automatic Zoom",
            page_scale_actual: "Actual Size",
            page_scale_percent: "{{scale}}%",
            loading_error: "An error occurred while loading the PDF.",
            invalid_file_error: "Invalid or corrupted PDF file.",
            missing_file_error: "Missing PDF file.",
            unexpected_response_error: "Unexpected server response.",
            rendering_error: "An error occurred while rendering the page.",
            annotation_date_string: "{{date}}, {{time}}",
            printing_not_supported: "Warning: Printing is not fully supported by this browser.",
            printing_not_ready: "Warning: The PDF is not fully loaded for printing.",
            web_fonts_disabled: "Web fonts are disabled: unable to use embedded PDF fonts.",
            free_text2_default_content: "Start typing…",
            editor_free_text2_aria_label: "Text Editor",
            editor_ink2_aria_label: "Draw Editor",
            editor_ink_canvas_aria_label: "User-created image",
            editor_alt_text_button_label: "Alt text",
            editor_alt_text_edit_button_label: "Edit alt text",
            editor_alt_text_decorative_tooltip: "Marked as decorative"
          };
          c.print_progress_percent = "{{progress}}%";
          function l(y, w) {
            switch (y) {
              case "find_match_count":
                y = `find_match_count[${w.total === 1 ? "one" : "other"}]`;
                break;
              case "find_match_count_limit":
                y = `find_match_count_limit[${w.limit === 1 ? "one" : "other"}]`;
                break;
            }
            return c[y] || "";
          }
          function d(y, w) {
            return w ? y.replaceAll(/\{\{\s*(\w+)\s*\}\}/g, (b, C) => C in w ? w[C] : "{{" + C + "}}") : y;
          }
          const h = {
            async getLanguage() {
              return "en-us";
            },
            async getDirection() {
              return "ltr";
            },
            async get(y, w = null, b = l(y, w)) {
              return d(b, w);
            },
            async translate(y) {
            }
          };
          s.NullL10n = h;
        },
        /* 8 */
        /***/
        (a, s, c) => {
          var y;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.DownloadManager = void 0;
          var l = c(4);
          function d(w, b) {
            const C = document.createElement("a");
            if (!C.click)
              throw new Error('DownloadManager: "a.click()" is not supported.');
            C.href = w, C.target = "_parent", "download" in C && (C.download = b), (document.body || document.documentElement).append(C), C.click(), C.remove();
          }
          class h {
            constructor() {
              D(this, y, /* @__PURE__ */ new WeakMap());
            }
            downloadUrl(b, C, E) {
              if (!(0, l.createValidAbsoluteUrl)(b, "http://example.com")) {
                console.error(`downloadUrl - not a valid URL: ${b}`);
                return;
              }
              d(b + "#pdfjs.action=download", C);
            }
            downloadData(b, C, E) {
              const A = URL.createObjectURL(new Blob([b], {
                type: E
              }));
              d(A, C);
            }
            openOrDownloadData(b, C, E) {
              const _ = (0, l.isPdfFile)(E) ? "application/pdf" : "";
              return this.downloadData(C, E, _), !1;
            }
            download(b, C, E, A) {
              const _ = URL.createObjectURL(b);
              d(_, E);
            }
          }
          y = new WeakMap(), s.DownloadManager = h;
        },
        /* 9 */
        /***/
        (a, s) => {
          var y;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.WaitOnType = s.EventBus = s.AutomationEventBus = void 0, s.waitOnEventOrTimeout = l;
          const c = {
            EVENT: "event",
            TIMEOUT: "timeout"
          };
          s.WaitOnType = c;
          function l({
            target: w,
            name: b,
            delay: C = 0
          }) {
            return new Promise(function(E, A) {
              if (typeof w != "object" || !(b && typeof b == "string") || !(Number.isInteger(C) && C >= 0))
                throw new Error("waitOnEventOrTimeout - invalid parameters.");
              function _(g) {
                w instanceof d ? w._off(b, x) : w.removeEventListener(b, x), k && clearTimeout(k), E(g);
              }
              const x = _.bind(null, c.EVENT);
              w instanceof d ? w._on(b, x) : w.addEventListener(b, x);
              const T = _.bind(null, c.TIMEOUT), k = setTimeout(T, C);
            });
          }
          class d {
            constructor() {
              D(this, y, /* @__PURE__ */ Object.create(null));
            }
            on(b, C, E = null) {
              this._on(b, C, {
                external: !0,
                once: E == null ? void 0 : E.once
              });
            }
            off(b, C, E = null) {
              this._off(b, C, {
                external: !0,
                once: E == null ? void 0 : E.once
              });
            }
            dispatch(b, C) {
              const E = p(this, y)[b];
              if (!E || E.length === 0)
                return;
              let A;
              for (const {
                listener: _,
                external: x,
                once: T
              } of E.slice(0)) {
                if (T && this._off(b, _), x) {
                  (A || (A = [])).push(_);
                  continue;
                }
                _(C);
              }
              if (A) {
                for (const _ of A)
                  _(C);
                A = null;
              }
            }
            _on(b, C, E = null) {
              var _;
              ((_ = p(this, y))[b] || (_[b] = [])).push({
                listener: C,
                external: (E == null ? void 0 : E.external) === !0,
                once: (E == null ? void 0 : E.once) === !0
              });
            }
            _off(b, C, E = null) {
              const A = p(this, y)[b];
              if (A) {
                for (let _ = 0, x = A.length; _ < x; _++)
                  if (A[_].listener === C) {
                    A.splice(_, 1);
                    return;
                  }
              }
            }
          }
          y = new WeakMap(), s.EventBus = d;
          class h extends d {
            dispatch(b, C) {
              throw new Error("Not implemented: AutomationEventBus.dispatch");
            }
          }
          s.AutomationEventBus = h;
        },
        /* 10 */
        /***/
        (a, s, c) => {
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.GenericL10n = void 0, c(11);
          var l = c(7);
          const d = {
            en: "en-US",
            es: "es-ES",
            fy: "fy-NL",
            ga: "ga-IE",
            gu: "gu-IN",
            hi: "hi-IN",
            hy: "hy-AM",
            nb: "nb-NO",
            ne: "ne-NP",
            nn: "nn-NO",
            pa: "pa-IN",
            pt: "pt-PT",
            sv: "sv-SE",
            zh: "zh-CN"
          };
          function h(w) {
            return d[w == null ? void 0 : w.toLowerCase()] || w;
          }
          class y {
            constructor(b) {
              const {
                webL10n: C
              } = document;
              this._lang = b, this._ready = new Promise((E, A) => {
                C.setLanguage(h(b), () => {
                  E(C);
                });
              });
            }
            async getLanguage() {
              return (await this._ready).getLanguage();
            }
            async getDirection() {
              return (await this._ready).getDirection();
            }
            async get(b, C = null, E = (0, l.getL10nFallback)(b, C)) {
              return (await this._ready).get(b, C, E);
            }
            async translate(b) {
              return (await this._ready).translate(b);
            }
          }
          s.GenericL10n = y;
        },
        /* 11 */
        /***/
        () => {
          document.webL10n = function(a, s) {
            var c = {}, l = "", d = "textContent", h = "", y = {}, w = "loading", b = !0;
            function C() {
              return s.querySelectorAll('link[type="application/l10n"]');
            }
            function E() {
              var K = s.querySelector('script[type="application/l10n"]');
              return K ? JSON.parse(K.innerHTML) : null;
            }
            function A(K) {
              return K ? K.querySelectorAll("*[data-l10n-id]") : [];
            }
            function _(K) {
              if (!K)
                return {};
              var ae = K.getAttribute("data-l10n-id"), ee = K.getAttribute("data-l10n-args"), Q = {};
              if (ee)
                try {
                  Q = JSON.parse(ee);
                } catch {
                  console.warn("could not parse arguments for #" + ae);
                }
              return {
                id: ae,
                args: Q
              };
            }
            function x(K, ae, ee) {
              ae = ae || function(le) {
              }, ee = ee || function() {
              };
              var Q = new XMLHttpRequest();
              Q.open("GET", K, b), Q.overrideMimeType && Q.overrideMimeType("text/plain; charset=utf-8"), Q.onreadystatechange = function() {
                Q.readyState == 4 && (Q.status == 200 || Q.status === 0 ? ae(Q.responseText) : ee());
              }, Q.onerror = ee, Q.ontimeout = ee;
              try {
                Q.send(null);
              } catch {
                ee();
              }
            }
            function T(K, ae, ee, Q) {
              var Z = K.replace(/[^\/]*$/, "") || "./";
              function le(de) {
                return de.lastIndexOf("\\") < 0 ? de : de.replace(/\\\\/g, "\\").replace(/\\n/g, `
`).replace(/\\r/g, "\r").replace(/\\t/g, "	").replace(/\\b/g, "\b").replace(/\\f/g, "\f").replace(/\\{/g, "{").replace(/\\}/g, "}").replace(/\\"/g, '"').replace(/\\'/g, "'");
              }
              function O(de, ve) {
                var me = {}, Ce = /^\s*|\s*$/, Re = /^\s*#|^\s*$/, qe = /^\s*\[(.*)\]\s*$/, Ge = /^\s*@import\s+url\((.*)\)\s*$/i, Ne = /^([^=\s]*)\s*=\s*(.+)$/;
                function it(Fe, ir, bt) {
                  var Ni = Fe.replace(Ce, "").split(/[\r\n]+/), oe = "*", ye = ae.split("-", 1)[0], _e = !1, $e = "";
                  function Ee() {
                    for (; ; ) {
                      if (!Ni.length) {
                        bt();
                        return;
                      }
                      var Me = Ni.shift();
                      if (!Re.test(Me)) {
                        if (ir) {
                          if ($e = qe.exec(Me), $e) {
                            oe = $e[1].toLowerCase(), _e = oe !== "*" && oe !== ae && oe !== ye;
                            continue;
                          } else if (_e)
                            continue;
                          if ($e = Ge.exec(Me), $e) {
                            je(Z + $e[1], Ee);
                            return;
                          }
                        }
                        var Y = Me.match(Ne);
                        Y && Y.length == 3 && (me[Y[1]] = le(Y[2]));
                      }
                    }
                  }
                  Ee();
                }
                function je(Fe, ir) {
                  x(Fe, function(bt) {
                    it(bt, !1, ir);
                  }, function() {
                    console.warn(Fe + " not found."), ir();
                  });
                }
                it(de, !0, function() {
                  ve(me);
                });
              }
              x(K, function(de) {
                l += de, O(de, function(ve) {
                  for (var me in ve) {
                    var Ce, Re, qe = me.lastIndexOf(".");
                    qe > 0 ? (Ce = me.substring(0, qe), Re = me.substring(qe + 1)) : (Ce = me, Re = d), c[Ce] || (c[Ce] = {}), c[Ce][Re] = ve[me];
                  }
                  ee && ee();
                });
              }, Q);
            }
            function k(K, ae) {
              K && (K = K.toLowerCase()), ae = ae || function() {
              }, g(), h = K;
              var ee = C(), Q = ee.length;
              if (Q === 0) {
                var Z = E();
                if (Z && Z.locales && Z.default_locale) {
                  if (console.log("using the embedded JSON directory, early way out"), c = Z.locales[K], !c) {
                    var le = Z.default_locale.toLowerCase();
                    for (var O in Z.locales)
                      if (O = O.toLowerCase(), O === K) {
                        c = Z.locales[K];
                        break;
                      } else
                        O === le && (c = Z.locales[le]);
                  }
                  ae();
                } else
                  console.log("no resource to load, early way out");
                w = "complete";
                return;
              }
              var de = null, ve = 0;
              de = function() {
                ve++, ve >= Q && (ae(), w = "complete");
              };
              function me(qe) {
                var Ge = qe.href;
                this.load = function(Ne, it) {
                  T(Ge, Ne, it, function() {
                    console.warn(Ge + " not found."), console.warn('"' + Ne + '" resource not found'), h = "", it();
                  });
                };
              }
              for (var Ce = 0; Ce < Q; Ce++) {
                var Re = new me(ee[Ce]);
                Re.load(K, de);
              }
            }
            function g() {
              c = {}, l = "", h = "";
            }
            function S(K) {
              var ae = {
                af: 3,
                ak: 4,
                am: 4,
                ar: 1,
                asa: 3,
                az: 0,
                be: 11,
                bem: 3,
                bez: 3,
                bg: 3,
                bh: 4,
                bm: 0,
                bn: 3,
                bo: 0,
                br: 20,
                brx: 3,
                bs: 11,
                ca: 3,
                cgg: 3,
                chr: 3,
                cs: 12,
                cy: 17,
                da: 3,
                de: 3,
                dv: 3,
                dz: 0,
                ee: 3,
                el: 3,
                en: 3,
                eo: 3,
                es: 3,
                et: 3,
                eu: 3,
                fa: 0,
                ff: 5,
                fi: 3,
                fil: 4,
                fo: 3,
                fr: 5,
                fur: 3,
                fy: 3,
                ga: 8,
                gd: 24,
                gl: 3,
                gsw: 3,
                gu: 3,
                guw: 4,
                gv: 23,
                ha: 3,
                haw: 3,
                he: 2,
                hi: 4,
                hr: 11,
                hu: 0,
                id: 0,
                ig: 0,
                ii: 0,
                is: 3,
                it: 3,
                iu: 7,
                ja: 0,
                jmc: 3,
                jv: 0,
                ka: 0,
                kab: 5,
                kaj: 3,
                kcg: 3,
                kde: 0,
                kea: 0,
                kk: 3,
                kl: 3,
                km: 0,
                kn: 0,
                ko: 0,
                ksb: 3,
                ksh: 21,
                ku: 3,
                kw: 7,
                lag: 18,
                lb: 3,
                lg: 3,
                ln: 4,
                lo: 0,
                lt: 10,
                lv: 6,
                mas: 3,
                mg: 4,
                mk: 16,
                ml: 3,
                mn: 3,
                mo: 9,
                mr: 3,
                ms: 0,
                mt: 15,
                my: 0,
                nah: 3,
                naq: 7,
                nb: 3,
                nd: 3,
                ne: 3,
                nl: 3,
                nn: 3,
                no: 3,
                nr: 3,
                nso: 4,
                ny: 3,
                nyn: 3,
                om: 3,
                or: 3,
                pa: 3,
                pap: 3,
                pl: 13,
                ps: 3,
                pt: 3,
                rm: 3,
                ro: 9,
                rof: 3,
                ru: 11,
                rwk: 3,
                sah: 0,
                saq: 3,
                se: 7,
                seh: 3,
                ses: 0,
                sg: 0,
                sh: 11,
                shi: 19,
                sk: 12,
                sl: 14,
                sma: 7,
                smi: 7,
                smj: 7,
                smn: 7,
                sms: 7,
                sn: 3,
                so: 3,
                sq: 3,
                sr: 11,
                ss: 3,
                ssy: 3,
                st: 3,
                sv: 3,
                sw: 3,
                syr: 3,
                ta: 3,
                te: 3,
                teo: 3,
                th: 0,
                ti: 4,
                tig: 3,
                tk: 3,
                tl: 4,
                tn: 3,
                to: 0,
                tr: 0,
                ts: 3,
                tzm: 22,
                uk: 11,
                ur: 3,
                ve: 3,
                vi: 0,
                vun: 3,
                wa: 4,
                wae: 3,
                wo: 0,
                xh: 3,
                xog: 3,
                yo: 0,
                zh: 0,
                zu: 3
              };
              function ee(O, de) {
                return de.indexOf(O) !== -1;
              }
              function Q(O, de, ve) {
                return de <= O && O <= ve;
              }
              var Z = {
                0: function(O) {
                  return "other";
                },
                1: function(O) {
                  return Q(O % 100, 3, 10) ? "few" : O === 0 ? "zero" : Q(O % 100, 11, 99) ? "many" : O == 2 ? "two" : O == 1 ? "one" : "other";
                },
                2: function(O) {
                  return O !== 0 && O % 10 === 0 ? "many" : O == 2 ? "two" : O == 1 ? "one" : "other";
                },
                3: function(O) {
                  return O == 1 ? "one" : "other";
                },
                4: function(O) {
                  return Q(O, 0, 1) ? "one" : "other";
                },
                5: function(O) {
                  return Q(O, 0, 2) && O != 2 ? "one" : "other";
                },
                6: function(O) {
                  return O === 0 ? "zero" : O % 10 == 1 && O % 100 != 11 ? "one" : "other";
                },
                7: function(O) {
                  return O == 2 ? "two" : O == 1 ? "one" : "other";
                },
                8: function(O) {
                  return Q(O, 3, 6) ? "few" : Q(O, 7, 10) ? "many" : O == 2 ? "two" : O == 1 ? "one" : "other";
                },
                9: function(O) {
                  return O === 0 || O != 1 && Q(O % 100, 1, 19) ? "few" : O == 1 ? "one" : "other";
                },
                10: function(O) {
                  return Q(O % 10, 2, 9) && !Q(O % 100, 11, 19) ? "few" : O % 10 == 1 && !Q(O % 100, 11, 19) ? "one" : "other";
                },
                11: function(O) {
                  return Q(O % 10, 2, 4) && !Q(O % 100, 12, 14) ? "few" : O % 10 === 0 || Q(O % 10, 5, 9) || Q(O % 100, 11, 14) ? "many" : O % 10 == 1 && O % 100 != 11 ? "one" : "other";
                },
                12: function(O) {
                  return Q(O, 2, 4) ? "few" : O == 1 ? "one" : "other";
                },
                13: function(O) {
                  return Q(O % 10, 2, 4) && !Q(O % 100, 12, 14) ? "few" : O != 1 && Q(O % 10, 0, 1) || Q(O % 10, 5, 9) || Q(O % 100, 12, 14) ? "many" : O == 1 ? "one" : "other";
                },
                14: function(O) {
                  return Q(O % 100, 3, 4) ? "few" : O % 100 == 2 ? "two" : O % 100 == 1 ? "one" : "other";
                },
                15: function(O) {
                  return O === 0 || Q(O % 100, 2, 10) ? "few" : Q(O % 100, 11, 19) ? "many" : O == 1 ? "one" : "other";
                },
                16: function(O) {
                  return O % 10 == 1 && O != 11 ? "one" : "other";
                },
                17: function(O) {
                  return O == 3 ? "few" : O === 0 ? "zero" : O == 6 ? "many" : O == 2 ? "two" : O == 1 ? "one" : "other";
                },
                18: function(O) {
                  return O === 0 ? "zero" : Q(O, 0, 2) && O !== 0 && O != 2 ? "one" : "other";
                },
                19: function(O) {
                  return Q(O, 2, 10) ? "few" : Q(O, 0, 1) ? "one" : "other";
                },
                20: function(O) {
                  return (Q(O % 10, 3, 4) || O % 10 == 9) && !(Q(O % 100, 10, 19) || Q(O % 100, 70, 79) || Q(O % 100, 90, 99)) ? "few" : O % 1e6 === 0 && O !== 0 ? "many" : O % 10 == 2 && !ee(O % 100, [12, 72, 92]) ? "two" : O % 10 == 1 && !ee(O % 100, [11, 71, 91]) ? "one" : "other";
                },
                21: function(O) {
                  return O === 0 ? "zero" : O == 1 ? "one" : "other";
                },
                22: function(O) {
                  return Q(O, 0, 1) || Q(O, 11, 99) ? "one" : "other";
                },
                23: function(O) {
                  return Q(O % 10, 1, 2) || O % 20 === 0 ? "one" : "other";
                },
                24: function(O) {
                  return Q(O, 3, 10) || Q(O, 13, 19) ? "few" : ee(O, [2, 12]) ? "two" : ee(O, [1, 11]) ? "one" : "other";
                }
              }, le = ae[K.replace(/-.*$/, "")];
              return le in Z ? Z[le] : (console.warn("plural form unknown for [" + K + "]"), function() {
                return "other";
              });
            }
            y.plural = function(K, ae, ee, Q) {
              var Z = parseFloat(ae);
              if (isNaN(Z) || Q != d)
                return K;
              y._pluralRules || (y._pluralRules = S(h));
              var le = "[" + y._pluralRules(Z) + "]";
              return Z === 0 && ee + "[zero]" in c ? K = c[ee + "[zero]"][Q] : Z == 1 && ee + "[one]" in c ? K = c[ee + "[one]"][Q] : Z == 2 && ee + "[two]" in c ? K = c[ee + "[two]"][Q] : ee + le in c ? K = c[ee + le][Q] : ee + "[other]" in c && (K = c[ee + "[other]"][Q]), K;
            };
            function L(K, ae, ee) {
              var Q = c[K];
              if (!Q) {
                if (console.warn("#" + K + " is undefined."), !ee)
                  return null;
                Q = ee;
              }
              var Z = {};
              for (var le in Q) {
                var O = Q[le];
                O = R(O, ae, K, le), O = U(O, ae, K), Z[le] = O;
              }
              return Z;
            }
            function R(K, ae, ee, Q) {
              var Z = /\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/, le = Z.exec(K);
              if (!le || !le.length)
                return K;
              var O = le[1], de = le[2], ve;
              if (ae && de in ae ? ve = ae[de] : de in c && (ve = c[de]), O in y) {
                var me = y[O];
                K = me(K, ve, ee, Q);
              }
              return K;
            }
            function U(K, ae, ee) {
              var Q = /\{\{\s*(.+?)\s*\}\}/g;
              return K.replace(Q, function(Z, le) {
                return ae && le in ae ? ae[le] : le in c ? c[le] : (console.log("argument {{" + le + "}} for #" + ee + " is undefined."), Z);
              });
            }
            function J(K) {
              var ae = _(K);
              if (ae.id) {
                var ee = L(ae.id, ae.args);
                if (!ee) {
                  console.warn("#" + ae.id + " is undefined.");
                  return;
                }
                if (ee[d]) {
                  if (ne(K) === 0)
                    K[d] = ee[d];
                  else {
                    for (var Q = K.childNodes, Z = !1, le = 0, O = Q.length; le < O; le++)
                      Q[le].nodeType === 3 && /\S/.test(Q[le].nodeValue) && (Z ? Q[le].nodeValue = "" : (Q[le].nodeValue = ee[d], Z = !0));
                    if (!Z) {
                      var de = s.createTextNode(ee[d]);
                      K.prepend(de);
                    }
                  }
                  delete ee[d];
                }
                for (var ve in ee)
                  K[ve] = ee[ve];
              }
            }
            function ne(K) {
              if (K.children)
                return K.children.length;
              if (typeof K.childElementCount < "u")
                return K.childElementCount;
              for (var ae = 0, ee = 0; ee < K.childNodes.length; ee++)
                ae += K.nodeType === 1 ? 1 : 0;
              return ae;
            }
            function ue(K) {
              K = K || s.documentElement;
              for (var ae = A(K), ee = ae.length, Q = 0; Q < ee; Q++)
                J(ae[Q]);
              J(K);
            }
            return {
              get: function(K, ae, ee) {
                var Q = K.lastIndexOf("."), Z = d;
                Q > 0 && (Z = K.substring(Q + 1), K = K.substring(0, Q));
                var le;
                ee && (le = {}, le[Z] = ee);
                var O = L(K, ae, le);
                return O && Z in O ? O[Z] : "{{" + K + "}}";
              },
              getData: function() {
                return c;
              },
              getText: function() {
                return l;
              },
              getLanguage: function() {
                return h;
              },
              setLanguage: function(K, ae) {
                k(K, function() {
                  ae && ae();
                });
              },
              getDirection: function() {
                var K = ["ar", "he", "fa", "ps", "ur"], ae = h.split("-", 1)[0];
                return K.indexOf(ae) >= 0 ? "rtl" : "ltr";
              },
              translate: ue,
              getReadyState: function() {
                return w;
              },
              ready: function(K) {
                if (K)
                  w == "complete" || w == "interactive" ? a.setTimeout(function() {
                    K();
                  }) : s.addEventListener && s.addEventListener("localized", function ae() {
                    s.removeEventListener("localized", ae), K();
                  });
                else
                  return;
              }
            };
          }(window, document);
        },
        /* 12 */
        /***/
        (a, s, c) => {
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.PDFHistory = void 0, s.isDestArraysEqual = A, s.isDestHashesEqual = E;
          var l = c(2), d = c(9);
          const h = 1e3, y = 50, w = 1e3;
          function b() {
            return document.location.hash;
          }
          class C {
            constructor({
              linkService: x,
              eventBus: T
            }) {
              this.linkService = x, this.eventBus = T, this._initialized = !1, this._fingerprint = "", this.reset(), this._boundEvents = null, this.eventBus._on("pagesinit", () => {
                this._isPagesLoaded = !1, this.eventBus._on("pagesloaded", (k) => {
                  this._isPagesLoaded = !!k.pagesCount;
                }, {
                  once: !0
                });
              });
            }
            initialize({
              fingerprint: x,
              resetHistory: T = !1,
              updateUrl: k = !1
            }) {
              if (!x || typeof x != "string") {
                console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');
                return;
              }
              this._initialized && this.reset();
              const g = this._fingerprint !== "" && this._fingerprint !== x;
              this._fingerprint = x, this._updateUrl = k === !0, this._initialized = !0, this._bindEvents();
              const S = window.history.state;
              if (this._popStateInProgress = !1, this._blockHashChange = 0, this._currentHash = b(), this._numPositionUpdates = 0, this._uid = this._maxUid = 0, this._destination = null, this._position = null, !this._isValidState(S, !0) || T) {
                const {
                  hash: R,
                  page: U,
                  rotation: J
                } = this._parseCurrentHash(!0);
                if (!R || g || T) {
                  this._pushOrReplaceState(null, !0);
                  return;
                }
                this._pushOrReplaceState({
                  hash: R,
                  page: U,
                  rotation: J
                }, !0);
                return;
              }
              const L = S.destination;
              this._updateInternalState(L, S.uid, !0), L.rotation !== void 0 && (this._initialRotation = L.rotation), L.dest ? (this._initialBookmark = JSON.stringify(L.dest), this._destination.page = null) : L.hash ? this._initialBookmark = L.hash : L.page && (this._initialBookmark = `page=${L.page}`);
            }
            reset() {
              this._initialized && (this._pageHide(), this._initialized = !1, this._unbindEvents()), this._updateViewareaTimeout && (clearTimeout(this._updateViewareaTimeout), this._updateViewareaTimeout = null), this._initialBookmark = null, this._initialRotation = null;
            }
            push({
              namedDest: x = null,
              explicitDest: T,
              pageNumber: k
            }) {
              if (!this._initialized)
                return;
              if (x && typeof x != "string") {
                console.error(`PDFHistory.push: "${x}" is not a valid namedDest parameter.`);
                return;
              } else if (Array.isArray(T)) {
                if (!this._isValidPage(k) && (k !== null || this._destination)) {
                  console.error(`PDFHistory.push: "${k}" is not a valid pageNumber parameter.`);
                  return;
                }
              } else {
                console.error(`PDFHistory.push: "${T}" is not a valid explicitDest parameter.`);
                return;
              }
              const g = x || JSON.stringify(T);
              if (!g)
                return;
              let S = !1;
              if (this._destination && (E(this._destination.hash, g) || A(this._destination.dest, T))) {
                if (this._destination.page)
                  return;
                S = !0;
              }
              this._popStateInProgress && !S || (this._pushOrReplaceState({
                dest: T,
                hash: g,
                page: k,
                rotation: this.linkService.rotation
              }, S), this._popStateInProgress || (this._popStateInProgress = !0, Promise.resolve().then(() => {
                this._popStateInProgress = !1;
              })));
            }
            pushPage(x) {
              var T;
              if (this._initialized) {
                if (!this._isValidPage(x)) {
                  console.error(`PDFHistory.pushPage: "${x}" is not a valid page number.`);
                  return;
                }
                ((T = this._destination) == null ? void 0 : T.page) !== x && (this._popStateInProgress || (this._pushOrReplaceState({
                  dest: null,
                  hash: `page=${x}`,
                  page: x,
                  rotation: this.linkService.rotation
                }), this._popStateInProgress || (this._popStateInProgress = !0, Promise.resolve().then(() => {
                  this._popStateInProgress = !1;
                }))));
              }
            }
            pushCurrentPosition() {
              !this._initialized || this._popStateInProgress || this._tryPushCurrentPosition();
            }
            back() {
              if (!this._initialized || this._popStateInProgress)
                return;
              const x = window.history.state;
              this._isValidState(x) && x.uid > 0 && window.history.back();
            }
            forward() {
              if (!this._initialized || this._popStateInProgress)
                return;
              const x = window.history.state;
              this._isValidState(x) && x.uid < this._maxUid && window.history.forward();
            }
            get popStateInProgress() {
              return this._initialized && (this._popStateInProgress || this._blockHashChange > 0);
            }
            get initialBookmark() {
              return this._initialized ? this._initialBookmark : null;
            }
            get initialRotation() {
              return this._initialized ? this._initialRotation : null;
            }
            _pushOrReplaceState(x, T = !1) {
              const k = T || !this._destination, g = {
                fingerprint: this._fingerprint,
                uid: k ? this._uid : this._uid + 1,
                destination: x
              };
              this._updateInternalState(x, g.uid);
              let S;
              if (this._updateUrl && (x != null && x.hash)) {
                const L = document.location.href.split("#")[0];
                L.startsWith("file://") || (S = `${L}#${x.hash}`);
              }
              k ? window.history.replaceState(g, "", S) : window.history.pushState(g, "", S);
            }
            _tryPushCurrentPosition(x = !1) {
              if (!this._position)
                return;
              let T = this._position;
              if (x && (T = Object.assign(/* @__PURE__ */ Object.create(null), this._position), T.temporary = !0), !this._destination) {
                this._pushOrReplaceState(T);
                return;
              }
              if (this._destination.temporary) {
                this._pushOrReplaceState(T, !0);
                return;
              }
              if (this._destination.hash === T.hash || !this._destination.page && this._numPositionUpdates <= y)
                return;
              let k = !1;
              if (this._destination.page >= T.first && this._destination.page <= T.page) {
                if (this._destination.dest !== void 0 || !this._destination.first)
                  return;
                k = !0;
              }
              this._pushOrReplaceState(T, k);
            }
            _isValidPage(x) {
              return Number.isInteger(x) && x > 0 && x <= this.linkService.pagesCount;
            }
            _isValidState(x, T = !1) {
              if (!x)
                return !1;
              if (x.fingerprint !== this._fingerprint)
                if (T) {
                  if (typeof x.fingerprint != "string" || x.fingerprint.length !== this._fingerprint.length)
                    return !1;
                  const [k] = performance.getEntriesByType("navigation");
                  if ((k == null ? void 0 : k.type) !== "reload")
                    return !1;
                } else
                  return !1;
              return !(!Number.isInteger(x.uid) || x.uid < 0 || x.destination === null || typeof x.destination != "object");
            }
            _updateInternalState(x, T, k = !1) {
              this._updateViewareaTimeout && (clearTimeout(this._updateViewareaTimeout), this._updateViewareaTimeout = null), k && (x != null && x.temporary) && delete x.temporary, this._destination = x, this._uid = T, this._maxUid = Math.max(this._maxUid, T), this._numPositionUpdates = 0;
            }
            _parseCurrentHash(x = !1) {
              const T = unescape(b()).substring(1), k = (0, l.parseQueryString)(T), g = k.get("nameddest") || "";
              let S = k.get("page") | 0;
              return (!this._isValidPage(S) || x && g.length > 0) && (S = null), {
                hash: T,
                page: S,
                rotation: this.linkService.rotation
              };
            }
            _updateViewarea({
              location: x
            }) {
              this._updateViewareaTimeout && (clearTimeout(this._updateViewareaTimeout), this._updateViewareaTimeout = null), this._position = {
                hash: x.pdfOpenParams.substring(1),
                page: this.linkService.page,
                first: x.pageNumber,
                rotation: x.rotation
              }, !this._popStateInProgress && (this._isPagesLoaded && this._destination && !this._destination.page && this._numPositionUpdates++, this._updateViewareaTimeout = setTimeout(() => {
                this._popStateInProgress || this._tryPushCurrentPosition(!0), this._updateViewareaTimeout = null;
              }, w));
            }
            _popState({
              state: x
            }) {
              const T = b(), k = this._currentHash !== T;
              if (this._currentHash = T, !x) {
                this._uid++;
                const {
                  hash: S,
                  page: L,
                  rotation: R
                } = this._parseCurrentHash();
                this._pushOrReplaceState({
                  hash: S,
                  page: L,
                  rotation: R
                }, !0);
                return;
              }
              if (!this._isValidState(x))
                return;
              this._popStateInProgress = !0, k && (this._blockHashChange++, (0, d.waitOnEventOrTimeout)({
                target: window,
                name: "hashchange",
                delay: h
              }).then(() => {
                this._blockHashChange--;
              }));
              const g = x.destination;
              this._updateInternalState(g, x.uid, !0), (0, l.isValidRotation)(g.rotation) && (this.linkService.rotation = g.rotation), g.dest ? this.linkService.goToDestination(g.dest) : g.hash ? this.linkService.setHash(g.hash) : g.page && (this.linkService.page = g.page), Promise.resolve().then(() => {
                this._popStateInProgress = !1;
              });
            }
            _pageHide() {
              (!this._destination || this._destination.temporary) && this._tryPushCurrentPosition();
            }
            _bindEvents() {
              this._boundEvents || (this._boundEvents = {
                updateViewarea: this._updateViewarea.bind(this),
                popState: this._popState.bind(this),
                pageHide: this._pageHide.bind(this)
              }, this.eventBus._on("updateviewarea", this._boundEvents.updateViewarea), window.addEventListener("popstate", this._boundEvents.popState), window.addEventListener("pagehide", this._boundEvents.pageHide));
            }
            _unbindEvents() {
              this._boundEvents && (this.eventBus._off("updateviewarea", this._boundEvents.updateViewarea), window.removeEventListener("popstate", this._boundEvents.popState), window.removeEventListener("pagehide", this._boundEvents.pageHide), this._boundEvents = null);
            }
          }
          s.PDFHistory = C;
          function E(_, x) {
            return typeof _ != "string" || typeof x != "string" ? !1 : _ === x || (0, l.parseQueryString)(_).get("nameddest") === x;
          }
          function A(_, x) {
            function T(k, g) {
              if (typeof k != typeof g || Array.isArray(k) || Array.isArray(g))
                return !1;
              if (k !== null && typeof k == "object" && g !== null) {
                if (Object.keys(k).length !== Object.keys(g).length)
                  return !1;
                for (const S in k)
                  if (!T(k[S], g[S]))
                    return !1;
                return !0;
              }
              return k === g || Number.isNaN(k) && Number.isNaN(g);
            }
            if (!(Array.isArray(_) && Array.isArray(x)) || _.length !== x.length)
              return !1;
            for (let k = 0, g = _.length; k < g; k++)
              if (!T(_[k], x[k]))
                return !1;
            return !0;
          }
        },
        /* 13 */
        /***/
        (a, s, c) => {
          var L, R, U, J, ne, ue, K, ae, ee, Q, Z, Rc, O, Kd, ve, Zd, Ce, Yd, qe, Gd, Ne, Af, je, Lf, ir, Xd;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.PDFPageView = void 0;
          var l = c(4), d = c(2), h = c(14), y = c(6), w = c(15), b = c(7), C = c(5), E = c(16), A = c(17), _ = c(18), x = c(19), T = c(20);
          const k = w.compatibilityParams.maxCanvasPixels || 16777216, g = () => ({
            annotationEditorUIManager: null,
            annotationStorage: null,
            downloadManager: null,
            enableScripting: !1,
            fieldObjectsPromise: null,
            findController: null,
            hasJSActionsPromise: null,
            get linkService() {
              return new C.SimpleLinkService();
            }
          });
          class S {
            constructor(oe) {
              D(this, Z);
              D(this, O);
              D(this, ve);
              D(this, Ce);
              D(this, qe);
              D(this, Ne);
              D(this, je);
              D(this, ir);
              D(this, L, l.AnnotationMode.ENABLE_FORMS);
              D(this, R, !1);
              D(this, U, null);
              D(this, J, null);
              D(this, ne, null);
              D(this, ue, null);
              D(this, K, d.RenderingStates.INITIAL);
              D(this, ae, d.TextLayerMode.ENABLE);
              D(this, ee, {
                directDrawing: !0,
                initialOptionalContent: !0,
                regularAnnotations: !0
              });
              D(this, Q, /* @__PURE__ */ new WeakMap());
              var Ee;
              const ye = oe.container, _e = oe.defaultViewport;
              this.id = oe.id, this.renderingId = "page" + this.id, B(this, U, oe.layerProperties || g), this.pdfPage = null, this.pageLabel = null, this.rotation = 0, this.scale = oe.scale || d.DEFAULT_SCALE, this.viewport = _e, this.pdfPageRotate = _e.rotation, this._optionalContentConfigPromise = oe.optionalContentConfigPromise || null, B(this, ae, oe.textLayerMode ?? d.TextLayerMode.ENABLE), B(this, L, oe.annotationMode ?? l.AnnotationMode.ENABLE_FORMS), this.imageResourcesPath = oe.imageResourcesPath || "", this.isOffscreenCanvasSupported = oe.isOffscreenCanvasSupported ?? !0, this.maxCanvasPixels = oe.maxCanvasPixels ?? k, this.pageColors = oe.pageColors || null, this.eventBus = oe.eventBus, this.renderingQueue = oe.renderingQueue, this.l10n = oe.l10n || b.NullL10n, this.renderTask = null, this.resume = null, this._isStandalone = !((Ee = this.renderingQueue) != null && Ee.hasViewer()), this._container = ye, oe.useOnlyCssZoom && (console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."), this.maxCanvasPixels = 0), this._annotationCanvasMap = null, this.annotationLayer = null, this.annotationEditorLayer = null, this.textLayer = null, this.zoomLayer = null, this.xfaLayer = null, this.structTreeLayer = null;
              const $e = document.createElement("div");
              if ($e.className = "page", $e.setAttribute("data-page-number", this.id), $e.setAttribute("role", "region"), this.l10n.get("page_landmark", {
                page: this.id
              }).then((Me) => {
                $e.setAttribute("aria-label", Me);
              }), this.div = $e, j(this, Z, Rc).call(this), ye == null || ye.append($e), this._isStandalone) {
                ye == null || ye.style.setProperty("--scale-factor", this.scale * l.PixelsPerInch.PDF_TO_CSS_UNITS);
                const {
                  optionalContentConfigPromise: Me
                } = oe;
                Me && Me.then((Y) => {
                  Me === this._optionalContentConfigPromise && (p(this, ee).initialOptionalContent = Y.hasInitialVisibility);
                });
              }
            }
            get renderingState() {
              return p(this, K);
            }
            set renderingState(oe) {
              if (oe !== p(this, K))
                switch (B(this, K, oe), p(this, J) && (clearTimeout(p(this, J)), B(this, J, null)), oe) {
                  case d.RenderingStates.PAUSED:
                    this.div.classList.remove("loading");
                    break;
                  case d.RenderingStates.RUNNING:
                    this.div.classList.add("loadingIcon"), B(this, J, setTimeout(() => {
                      this.div.classList.add("loading"), B(this, J, null);
                    }, 0));
                    break;
                  case d.RenderingStates.INITIAL:
                  case d.RenderingStates.FINISHED:
                    this.div.classList.remove("loadingIcon", "loading");
                    break;
                }
            }
            setPdfPage(oe) {
              var _e, $e, Ee;
              this._isStandalone && (((_e = this.pageColors) == null ? void 0 : _e.foreground) === "CanvasText" || (($e = this.pageColors) == null ? void 0 : $e.background) === "Canvas") && ((Ee = this._container) == null || Ee.style.setProperty("--hcm-highligh-filter", oe.filterFactory.addHighlightHCMFilter("CanvasText", "Canvas", "HighlightText", "Highlight"))), this.pdfPage = oe, this.pdfPageRotate = oe.rotate;
              const ye = (this.rotation + this.pdfPageRotate) % 360;
              this.viewport = oe.getViewport({
                scale: this.scale * l.PixelsPerInch.PDF_TO_CSS_UNITS,
                rotation: ye
              }), j(this, Z, Rc).call(this), this.reset();
            }
            destroy() {
              var oe;
              this.reset(), (oe = this.pdfPage) == null || oe.cleanup();
            }
            get _textHighlighter() {
              return (0, l.shadow)(this, "_textHighlighter", new _.TextHighlighter({
                pageIndex: this.id - 1,
                eventBus: this.eventBus,
                findController: p(this, U).call(this).findController
              }));
            }
            _resetZoomLayer(oe = !1) {
              if (!this.zoomLayer)
                return;
              const ye = this.zoomLayer.firstChild;
              p(this, Q).delete(ye), ye.width = 0, ye.height = 0, oe && this.zoomLayer.remove(), this.zoomLayer = null;
            }
            reset({
              keepZoomLayer: oe = !1,
              keepAnnotationLayer: ye = !1,
              keepAnnotationEditorLayer: _e = !1,
              keepXfaLayer: $e = !1,
              keepTextLayer: Ee = !1
            } = {}) {
              var H, W, ce, he, be;
              this.cancelRendering({
                keepAnnotationLayer: ye,
                keepAnnotationEditorLayer: _e,
                keepXfaLayer: $e,
                keepTextLayer: Ee
              }), this.renderingState = d.RenderingStates.INITIAL;
              const Me = this.div, Y = Me.childNodes, M = oe && this.zoomLayer || null, u = ye && ((H = this.annotationLayer) == null ? void 0 : H.div) || null, f = _e && ((W = this.annotationEditorLayer) == null ? void 0 : W.div) || null, P = $e && ((ce = this.xfaLayer) == null ? void 0 : ce.div) || null, I = Ee && ((he = this.textLayer) == null ? void 0 : he.div) || null;
              for (let ze = Y.length - 1; ze >= 0; ze--) {
                const pt = Y[ze];
                switch (pt) {
                  case M:
                  case u:
                  case f:
                  case P:
                  case I:
                    continue;
                }
                pt.remove();
              }
              Me.removeAttribute("data-loaded"), u && this.annotationLayer.hide(), f && this.annotationEditorLayer.hide(), P && this.xfaLayer.hide(), I && this.textLayer.hide(), (be = this.structTreeLayer) == null || be.hide(), M || (this.canvas && (p(this, Q).delete(this.canvas), this.canvas.width = 0, this.canvas.height = 0, delete this.canvas), this._resetZoomLayer());
            }
            update({
              scale: oe = 0,
              rotation: ye = null,
              optionalContentConfigPromise: _e = null,
              drawingDelay: $e = -1
            }) {
              var Me;
              this.scale = oe || this.scale, typeof ye == "number" && (this.rotation = ye), _e instanceof Promise && (this._optionalContentConfigPromise = _e, _e.then((Y) => {
                _e === this._optionalContentConfigPromise && (p(this, ee).initialOptionalContent = Y.hasInitialVisibility);
              })), p(this, ee).directDrawing = !0;
              const Ee = (this.rotation + this.pdfPageRotate) % 360;
              if (this.viewport = this.viewport.clone({
                scale: this.scale * l.PixelsPerInch.PDF_TO_CSS_UNITS,
                rotation: Ee
              }), j(this, Z, Rc).call(this), this._isStandalone && ((Me = this._container) == null || Me.style.setProperty("--scale-factor", this.viewport.scale)), this.canvas) {
                let Y = !1;
                if (p(this, R)) {
                  if (this.maxCanvasPixels === 0)
                    Y = !0;
                  else if (this.maxCanvasPixels > 0) {
                    const {
                      width: u,
                      height: f
                    } = this.viewport, {
                      sx: P,
                      sy: I
                    } = this.outputScale;
                    Y = (Math.floor(u) * P | 0) * (Math.floor(f) * I | 0) > this.maxCanvasPixels;
                  }
                }
                const M = !Y && $e >= 0 && $e < 1e3;
                if (M || Y) {
                  if (M && this.renderingState !== d.RenderingStates.FINISHED && (this.cancelRendering({
                    keepZoomLayer: !0,
                    keepAnnotationLayer: !0,
                    keepAnnotationEditorLayer: !0,
                    keepXfaLayer: !0,
                    keepTextLayer: !0,
                    cancelExtraDelay: $e
                  }), this.renderingState = d.RenderingStates.FINISHED, p(this, ee).directDrawing = !1), this.cssTransform({
                    target: this.canvas,
                    redrawAnnotationLayer: !0,
                    redrawAnnotationEditorLayer: !0,
                    redrawXfaLayer: !0,
                    redrawTextLayer: !M,
                    hideTextLayer: M
                  }), M)
                    return;
                  this.eventBus.dispatch("pagerendered", {
                    source: this,
                    pageNumber: this.id,
                    cssTransform: !0,
                    timestamp: performance.now(),
                    error: p(this, ue)
                  });
                  return;
                }
                !this.zoomLayer && !this.canvas.hidden && (this.zoomLayer = this.canvas.parentNode, this.zoomLayer.style.position = "absolute");
              }
              this.zoomLayer && this.cssTransform({
                target: this.zoomLayer.firstChild
              }), this.reset({
                keepZoomLayer: !0,
                keepAnnotationLayer: !0,
                keepAnnotationEditorLayer: !0,
                keepXfaLayer: !0,
                keepTextLayer: !0
              });
            }
            cancelRendering({
              keepAnnotationLayer: oe = !1,
              keepAnnotationEditorLayer: ye = !1,
              keepXfaLayer: _e = !1,
              keepTextLayer: $e = !1,
              cancelExtraDelay: Ee = 0
            } = {}) {
              var Me;
              this.renderTask && (this.renderTask.cancel(Ee), this.renderTask = null), this.resume = null, this.textLayer && (!$e || !this.textLayer.div) && (this.textLayer.cancel(), this.textLayer = null), this.structTreeLayer && !this.textLayer && (this.structTreeLayer = null), this.annotationLayer && (!oe || !this.annotationLayer.div) && (this.annotationLayer.cancel(), this.annotationLayer = null, this._annotationCanvasMap = null), this.annotationEditorLayer && (!ye || !this.annotationEditorLayer.div) && (this.annotationEditorLayer.cancel(), this.annotationEditorLayer = null), this.xfaLayer && (!_e || !this.xfaLayer.div) && (this.xfaLayer.cancel(), this.xfaLayer = null, (Me = this._textHighlighter) == null || Me.disable());
            }
            cssTransform({
              target: oe,
              redrawAnnotationLayer: ye = !1,
              redrawAnnotationEditorLayer: _e = !1,
              redrawXfaLayer: $e = !1,
              redrawTextLayer: Ee = !1,
              hideTextLayer: Me = !1
            }) {
              var M;
              if (!oe.hasAttribute("zooming")) {
                oe.setAttribute("zooming", !0);
                const {
                  style: u
                } = oe;
                u.width = u.height = "";
              }
              const Y = p(this, Q).get(oe);
              if (this.viewport !== Y) {
                const u = this.viewport.rotation - Y.rotation, f = Math.abs(u);
                let P = 1, I = 1;
                if (f === 90 || f === 270) {
                  const {
                    width: H,
                    height: W
                  } = this.viewport;
                  P = W / H, I = H / W;
                }
                oe.style.transform = `rotate(${u}deg) scale(${P}, ${I})`;
              }
              ye && this.annotationLayer && j(this, O, Kd).call(this), _e && this.annotationEditorLayer && j(this, ve, Zd).call(this), $e && this.xfaLayer && j(this, Ce, Yd).call(this), this.textLayer && (Me ? (this.textLayer.hide(), (M = this.structTreeLayer) == null || M.hide()) : Ee && j(this, qe, Gd).call(this));
            }
            get width() {
              return this.viewport.width;
            }
            get height() {
              return this.viewport.height;
            }
            getPagePoint(oe, ye) {
              return this.viewport.convertToPdfPoint(oe, ye);
            }
            async draw() {
              this.renderingState !== d.RenderingStates.INITIAL && (console.error("Must be in new state before drawing"), this.reset());
              const {
                div: oe,
                l10n: ye,
                pageColors: _e,
                pdfPage: $e,
                viewport: Ee
              } = this;
              if (!$e)
                throw this.renderingState = d.RenderingStates.FINISHED, new Error("pdfPage is not loaded");
              this.renderingState = d.RenderingStates.RUNNING;
              const Me = document.createElement("div");
              if (Me.classList.add("canvasWrapper"), oe.append(Me), !this.textLayer && p(this, ae) !== d.TextLayerMode.DISABLE && !$e.isPureXfa && (this._accessibilityManager || (this._accessibilityManager = new A.TextAccessibilityManager()), this.textLayer = new x.TextLayerBuilder({
                highlighter: this._textHighlighter,
                accessibilityManager: this._accessibilityManager,
                isOffscreenCanvasSupported: this.isOffscreenCanvasSupported,
                enablePermissions: p(this, ae) === d.TextLayerMode.ENABLE_PERMISSIONS
              }), oe.append(this.textLayer.div)), !this.annotationLayer && p(this, L) !== l.AnnotationMode.DISABLE) {
                const {
                  annotationStorage: $,
                  downloadManager: N,
                  enableScripting: se,
                  fieldObjectsPromise: ie,
                  hasJSActionsPromise: z,
                  linkService: q
                } = p(this, U).call(this);
                this._annotationCanvasMap || (this._annotationCanvasMap = /* @__PURE__ */ new Map()), this.annotationLayer = new y.AnnotationLayerBuilder({
                  pageDiv: oe,
                  pdfPage: $e,
                  annotationStorage: $,
                  imageResourcesPath: this.imageResourcesPath,
                  renderForms: p(this, L) === l.AnnotationMode.ENABLE_FORMS,
                  linkService: q,
                  downloadManager: N,
                  l10n: ye,
                  enableScripting: se,
                  hasJSActionsPromise: z,
                  fieldObjectsPromise: ie,
                  annotationCanvasMap: this._annotationCanvasMap,
                  accessibilityManager: this._accessibilityManager
                });
              }
              const Y = ($) => {
                if (I == null || I(!1), this.renderingQueue && !this.renderingQueue.isHighestPriority(this)) {
                  this.renderingState = d.RenderingStates.PAUSED, this.resume = () => {
                    this.renderingState = d.RenderingStates.RUNNING, $();
                  };
                  return;
                }
                $();
              }, {
                width: M,
                height: u
              } = Ee, f = document.createElement("canvas");
              f.setAttribute("role", "presentation"), f.hidden = !0;
              const P = !!(_e != null && _e.background && (_e != null && _e.foreground));
              let I = ($) => {
                (!P || $) && (f.hidden = !1, I = null);
              };
              Me.append(f), this.canvas = f;
              const H = f.getContext("2d", {
                alpha: !1
              }), W = this.outputScale = new d.OutputScale();
              if (this.maxCanvasPixels === 0) {
                const $ = 1 / this.scale;
                W.sx *= $, W.sy *= $, B(this, R, !0);
              } else if (this.maxCanvasPixels > 0) {
                const $ = M * u, N = Math.sqrt(this.maxCanvasPixels / $);
                W.sx > N || W.sy > N ? (W.sx = N, W.sy = N, B(this, R, !0)) : B(this, R, !1);
              }
              const ce = (0, d.approximateFraction)(W.sx), he = (0, d.approximateFraction)(W.sy);
              f.width = (0, d.roundToDivide)(M * W.sx, ce[0]), f.height = (0, d.roundToDivide)(u * W.sy, he[0]);
              const {
                style: be
              } = f;
              be.width = (0, d.roundToDivide)(M, ce[1]) + "px", be.height = (0, d.roundToDivide)(u, he[1]) + "px", p(this, Q).set(f, Ee);
              const ze = W.scaled ? [W.sx, 0, 0, W.sy, 0, 0] : null, pt = {
                canvasContext: H,
                transform: ze,
                viewport: Ee,
                annotationMode: p(this, L),
                optionalContentConfigPromise: this._optionalContentConfigPromise,
                annotationCanvasMap: this._annotationCanvasMap,
                pageColors: _e
              }, xi = this.renderTask = this.pdfPage.render(pt);
              xi.onContinue = Y;
              const qt = xi.promise.then(async () => {
                var $;
                if (I == null || I(!0), await j(this, ir, Xd).call(this, xi), j(this, qe, Gd).call(this), this.annotationLayer && await j(this, O, Kd).call(this), !this.annotationEditorLayer) {
                  const {
                    annotationEditorUIManager: N
                  } = p(this, U).call(this);
                  if (!N)
                    return;
                  this.annotationEditorLayer = new h.AnnotationEditorLayerBuilder({
                    uiManager: N,
                    pageDiv: oe,
                    pdfPage: $e,
                    l10n: ye,
                    accessibilityManager: this._accessibilityManager,
                    annotationLayer: ($ = this.annotationLayer) == null ? void 0 : $.annotationLayer
                  });
                }
                j(this, ve, Zd).call(this);
              }, ($) => ($ instanceof l.RenderingCancelledException || I == null || I(!0), j(this, ir, Xd).call(this, xi, $)));
              if ($e.isPureXfa) {
                if (this.xfaLayer)
                  this.xfaLayer.div && oe.append(this.xfaLayer.div);
                else {
                  const {
                    annotationStorage: $,
                    linkService: N
                  } = p(this, U).call(this);
                  this.xfaLayer = new T.XfaLayerBuilder({
                    pageDiv: oe,
                    pdfPage: $e,
                    annotationStorage: $,
                    linkService: N
                  });
                }
                j(this, Ce, Yd).call(this);
              }
              return oe.setAttribute("data-loaded", !0), this.eventBus.dispatch("pagerender", {
                source: this,
                pageNumber: this.id
              }), qt;
            }
            setPageLabel(oe) {
              this.pageLabel = typeof oe == "string" ? oe : null, this.pageLabel !== null ? this.div.setAttribute("data-page-label", this.pageLabel) : this.div.removeAttribute("data-page-label");
            }
            get thumbnailCanvas() {
              const {
                directDrawing: oe,
                initialOptionalContent: ye,
                regularAnnotations: _e
              } = p(this, ee);
              return oe && ye && _e ? this.canvas : null;
            }
          }
          L = new WeakMap(), R = new WeakMap(), U = new WeakMap(), J = new WeakMap(), ne = new WeakMap(), ue = new WeakMap(), K = new WeakMap(), ae = new WeakMap(), ee = new WeakMap(), Q = new WeakMap(), Z = new WeakSet(), Rc = function() {
            const {
              viewport: oe
            } = this;
            if (this.pdfPage) {
              if (p(this, ne) === oe.rotation)
                return;
              B(this, ne, oe.rotation);
            }
            (0, l.setLayerDimensions)(this.div, oe, !0, !1);
          }, O = new WeakSet(), Kd = async function() {
            let oe = null;
            try {
              await this.annotationLayer.render(this.viewport, "display");
            } catch (ye) {
              console.error(`#renderAnnotationLayer: "${ye}".`), oe = ye;
            } finally {
              this.eventBus.dispatch("annotationlayerrendered", {
                source: this,
                pageNumber: this.id,
                error: oe
              });
            }
          }, ve = new WeakSet(), Zd = async function() {
            let oe = null;
            try {
              await this.annotationEditorLayer.render(this.viewport, "display");
            } catch (ye) {
              console.error(`#renderAnnotationEditorLayer: "${ye}".`), oe = ye;
            } finally {
              this.eventBus.dispatch("annotationeditorlayerrendered", {
                source: this,
                pageNumber: this.id,
                error: oe
              });
            }
          }, Ce = new WeakSet(), Yd = async function() {
            let oe = null;
            try {
              const ye = await this.xfaLayer.render(this.viewport, "display");
              ye != null && ye.textDivs && this._textHighlighter && j(this, je, Lf).call(this, ye.textDivs);
            } catch (ye) {
              console.error(`#renderXfaLayer: "${ye}".`), oe = ye;
            } finally {
              this.eventBus.dispatch("xfalayerrendered", {
                source: this,
                pageNumber: this.id,
                error: oe
              });
            }
          }, qe = new WeakSet(), Gd = async function() {
            const {
              pdfPage: oe,
              textLayer: ye,
              viewport: _e
            } = this;
            if (!ye)
              return;
            let $e = null;
            try {
              if (!ye.renderingDone) {
                const Ee = oe.streamTextContent({
                  includeMarkedContent: !0,
                  disableNormalization: !0
                });
                ye.setTextContentSource(Ee);
              }
              await ye.render(_e);
            } catch (Ee) {
              if (Ee instanceof l.AbortException)
                return;
              console.error(`#renderTextLayer: "${Ee}".`), $e = Ee;
            }
            this.eventBus.dispatch("textlayerrendered", {
              source: this,
              pageNumber: this.id,
              numTextDivs: ye.numTextDivs,
              error: $e
            }), j(this, Ne, Af).call(this);
          }, Ne = new WeakSet(), Af = async function() {
            var _e, $e, Ee;
            if (!this.textLayer)
              return;
            this.structTreeLayer || (this.structTreeLayer = new E.StructTreeLayerBuilder());
            const oe = await (this.structTreeLayer.renderingDone ? null : this.pdfPage.getStructTree()), ye = (_e = this.structTreeLayer) == null ? void 0 : _e.render(oe);
            ye && (($e = this.canvas) == null || $e.append(ye)), (Ee = this.structTreeLayer) == null || Ee.show();
          }, je = new WeakSet(), Lf = async function(oe) {
            const ye = await this.pdfPage.getTextContent(), _e = [];
            for (const $e of ye.items)
              _e.push($e.str);
            this._textHighlighter.setTextMapping(oe, _e), this._textHighlighter.enable();
          }, ir = new WeakSet(), Xd = async function(oe, ye = null) {
            if (oe === this.renderTask && (this.renderTask = null), ye instanceof l.RenderingCancelledException) {
              B(this, ue, null);
              return;
            }
            if (B(this, ue, ye), this.renderingState = d.RenderingStates.FINISHED, this._resetZoomLayer(!0), p(this, ee).regularAnnotations = !oe.separateAnnots, this.eventBus.dispatch("pagerendered", {
              source: this,
              pageNumber: this.id,
              cssTransform: !1,
              timestamp: performance.now(),
              error: p(this, ue)
            }), ye)
              throw ye;
          }, s.PDFPageView = S;
        },
        /* 14 */
        /***/
        (a, s, c) => {
          var y, w;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.AnnotationEditorLayerBuilder = void 0;
          var l = c(4), d = c(7);
          class h {
            constructor(C) {
              D(this, y, null);
              D(this, w, void 0);
              this.pageDiv = C.pageDiv, this.pdfPage = C.pdfPage, this.accessibilityManager = C.accessibilityManager, this.l10n = C.l10n || d.NullL10n, this.annotationEditorLayer = null, this.div = null, this._cancelled = !1, B(this, w, C.uiManager), B(this, y, C.annotationLayer || null);
            }
            async render(C, E = "display") {
              if (E !== "display" || this._cancelled)
                return;
              const A = C.clone({
                dontFlip: !0
              });
              if (this.div) {
                this.annotationEditorLayer.update({
                  viewport: A
                }), this.show();
                return;
              }
              const _ = this.div = document.createElement("div");
              _.className = "annotationEditorLayer", _.tabIndex = 0, _.hidden = !0, _.dir = p(this, w).direction, this.pageDiv.append(_), this.annotationEditorLayer = new l.AnnotationEditorLayer({
                uiManager: p(this, w),
                div: _,
                accessibilityManager: this.accessibilityManager,
                pageIndex: this.pdfPage.pageNumber - 1,
                l10n: this.l10n,
                viewport: A,
                annotationLayer: p(this, y)
              });
              const x = {
                viewport: A,
                div: _,
                annotations: null,
                intent: E
              };
              this.annotationEditorLayer.render(x), this.show();
            }
            cancel() {
              this._cancelled = !0, this.div && (this.pageDiv = null, this.annotationEditorLayer.destroy(), this.div.remove());
            }
            hide() {
              this.div && (this.div.hidden = !0);
            }
            show() {
              !this.div || this.annotationEditorLayer.isEmpty || (this.div.hidden = !1);
            }
          }
          y = new WeakMap(), w = new WeakMap(), s.AnnotationEditorLayerBuilder = h;
        },
        /* 15 */
        /***/
        (a, s) => {
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.compatibilityParams = s.OptionKind = s.AppOptions = void 0;
          const c = /* @__PURE__ */ Object.create(null);
          s.compatibilityParams = c;
          {
            const w = navigator.userAgent || "", b = navigator.platform || "", C = navigator.maxTouchPoints || 1, E = /Android/.test(w), A = /\b(iPad|iPhone|iPod)(?=;)/.test(w) || b === "MacIntel" && C > 1;
            (function() {
              (A || E) && (c.maxCanvasPixels = 5242880);
            })();
          }
          const l = {
            VIEWER: 2,
            API: 4,
            WORKER: 8,
            PREFERENCE: 128
          };
          s.OptionKind = l;
          const d = {
            annotationEditorMode: {
              value: 0,
              kind: l.VIEWER + l.PREFERENCE
            },
            annotationMode: {
              value: 2,
              kind: l.VIEWER + l.PREFERENCE
            },
            cursorToolOnLoad: {
              value: 0,
              kind: l.VIEWER + l.PREFERENCE
            },
            defaultZoomDelay: {
              value: 400,
              kind: l.VIEWER + l.PREFERENCE
            },
            defaultZoomValue: {
              value: "",
              kind: l.VIEWER + l.PREFERENCE
            },
            disableHistory: {
              value: !1,
              kind: l.VIEWER
            },
            disablePageLabels: {
              value: !1,
              kind: l.VIEWER + l.PREFERENCE
            },
            enablePermissions: {
              value: !1,
              kind: l.VIEWER + l.PREFERENCE
            },
            enablePrintAutoRotate: {
              value: !0,
              kind: l.VIEWER + l.PREFERENCE
            },
            enableScripting: {
              value: !0,
              kind: l.VIEWER + l.PREFERENCE
            },
            enableStampEditor: {
              value: !0,
              kind: l.VIEWER + l.PREFERENCE
            },
            externalLinkRel: {
              value: "noopener noreferrer nofollow",
              kind: l.VIEWER
            },
            externalLinkTarget: {
              value: 0,
              kind: l.VIEWER + l.PREFERENCE
            },
            historyUpdateUrl: {
              value: !1,
              kind: l.VIEWER + l.PREFERENCE
            },
            ignoreDestinationZoom: {
              value: !1,
              kind: l.VIEWER + l.PREFERENCE
            },
            imageResourcesPath: {
              value: "./images/",
              kind: l.VIEWER
            },
            maxCanvasPixels: {
              value: 16777216,
              kind: l.VIEWER
            },
            forcePageColors: {
              value: !1,
              kind: l.VIEWER + l.PREFERENCE
            },
            pageColorsBackground: {
              value: "Canvas",
              kind: l.VIEWER + l.PREFERENCE
            },
            pageColorsForeground: {
              value: "CanvasText",
              kind: l.VIEWER + l.PREFERENCE
            },
            pdfBugEnabled: {
              value: !1,
              kind: l.VIEWER + l.PREFERENCE
            },
            printResolution: {
              value: 150,
              kind: l.VIEWER
            },
            sidebarViewOnLoad: {
              value: -1,
              kind: l.VIEWER + l.PREFERENCE
            },
            scrollModeOnLoad: {
              value: -1,
              kind: l.VIEWER + l.PREFERENCE
            },
            spreadModeOnLoad: {
              value: -1,
              kind: l.VIEWER + l.PREFERENCE
            },
            textLayerMode: {
              value: 1,
              kind: l.VIEWER + l.PREFERENCE
            },
            viewerCssTheme: {
              value: 0,
              kind: l.VIEWER + l.PREFERENCE
            },
            viewOnLoad: {
              value: 0,
              kind: l.VIEWER + l.PREFERENCE
            },
            cMapPacked: {
              value: !0,
              kind: l.API
            },
            cMapUrl: {
              value: "../web/cmaps/",
              kind: l.API
            },
            disableAutoFetch: {
              value: !1,
              kind: l.API + l.PREFERENCE
            },
            disableFontFace: {
              value: !1,
              kind: l.API + l.PREFERENCE
            },
            disableRange: {
              value: !1,
              kind: l.API + l.PREFERENCE
            },
            disableStream: {
              value: !1,
              kind: l.API + l.PREFERENCE
            },
            docBaseUrl: {
              value: "",
              kind: l.API
            },
            enableXfa: {
              value: !0,
              kind: l.API + l.PREFERENCE
            },
            fontExtraProperties: {
              value: !1,
              kind: l.API
            },
            isEvalSupported: {
              value: !0,
              kind: l.API
            },
            isOffscreenCanvasSupported: {
              value: !0,
              kind: l.API
            },
            maxImageSize: {
              value: -1,
              kind: l.API
            },
            pdfBug: {
              value: !1,
              kind: l.API
            },
            standardFontDataUrl: {
              value: "../web/standard_fonts/",
              kind: l.API
            },
            verbosity: {
              value: 1,
              kind: l.API
            },
            workerPort: {
              value: null,
              kind: l.WORKER
            },
            workerSrc: {
              value: "../build/pdf.worker.js",
              kind: l.WORKER
            }
          };
          d.defaultUrl = {
            value: "compressed.tracemonkey-pldi-09.pdf",
            kind: l.VIEWER
          }, d.disablePreferences = {
            value: !1,
            kind: l.VIEWER
          }, d.locale = {
            value: navigator.language || "en-US",
            kind: l.VIEWER
          }, d.sandboxBundleSrc = {
            value: "../build/pdf.sandbox.js",
            kind: l.VIEWER
          };
          const h = /* @__PURE__ */ Object.create(null);
          class y {
            constructor() {
              throw new Error("Cannot initialize AppOptions.");
            }
            static get(b) {
              const C = h[b];
              if (C !== void 0)
                return C;
              const E = d[b];
              if (E !== void 0)
                return c[b] ?? E.value;
            }
            static getAll(b = null) {
              const C = /* @__PURE__ */ Object.create(null);
              for (const E in d) {
                const A = d[E];
                if (b) {
                  if (!(b & A.kind))
                    continue;
                  if (b === l.PREFERENCE) {
                    const x = A.value, T = typeof x;
                    if (T === "boolean" || T === "string" || T === "number" && Number.isInteger(x)) {
                      C[E] = x;
                      continue;
                    }
                    throw new Error(`Invalid type for preference: ${E}`);
                  }
                }
                const _ = h[E];
                C[E] = _ !== void 0 ? _ : c[E] ?? A.value;
              }
              return C;
            }
            static set(b, C) {
              h[b] = C;
            }
            static setAll(b) {
              for (const C in b)
                h[C] = b[C];
            }
            static remove(b) {
              delete h[b];
            }
          }
          s.AppOptions = y, y._hasUserOptions = function() {
            return Object.keys(h).length > 0;
          };
        },
        /* 16 */
        /***/
        (a, s, c) => {
          var w, b, Jd, E, eu;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.StructTreeLayerBuilder = void 0;
          var l = c(2);
          const d = {
            Document: null,
            DocumentFragment: null,
            Part: "group",
            Sect: "group",
            Div: "group",
            Aside: "note",
            NonStruct: "none",
            P: null,
            H: "heading",
            Title: null,
            FENote: "note",
            Sub: "group",
            Lbl: null,
            Span: null,
            Em: null,
            Strong: null,
            Link: "link",
            Annot: "note",
            Form: "form",
            Ruby: null,
            RB: null,
            RT: null,
            RP: null,
            Warichu: null,
            WT: null,
            WP: null,
            L: "list",
            LI: "listitem",
            LBody: null,
            Table: "table",
            TR: "row",
            TH: "columnheader",
            TD: "cell",
            THead: "columnheader",
            TBody: null,
            TFoot: null,
            Caption: null,
            Figure: "figure",
            Formula: null,
            Artifact: null
          }, h = /^H(\d+)$/;
          class y {
            constructor() {
              D(this, b);
              D(this, E);
              D(this, w, void 0);
            }
            get renderingDone() {
              return p(this, w) !== void 0;
            }
            render(x) {
              if (p(this, w) !== void 0)
                return p(this, w);
              const T = j(this, E, eu).call(this, x);
              return T == null || T.classList.add("structTree"), B(this, w, T);
            }
            hide() {
              p(this, w) && !p(this, w).hidden && (p(this, w).hidden = !0);
            }
            show() {
              var x;
              (x = p(this, w)) != null && x.hidden && (p(this, w).hidden = !1);
            }
          }
          w = new WeakMap(), b = new WeakSet(), Jd = function(x, T) {
            const {
              alt: k,
              id: g,
              lang: S
            } = x;
            k !== void 0 && T.setAttribute("aria-label", (0, l.removeNullCharacters)(k)), g !== void 0 && T.setAttribute("aria-owns", g), S !== void 0 && T.setAttribute("lang", (0, l.removeNullCharacters)(S, !0));
          }, E = new WeakSet(), eu = function(x) {
            if (!x)
              return null;
            const T = document.createElement("span");
            if ("role" in x) {
              const {
                role: k
              } = x, g = k.match(h);
              g ? (T.setAttribute("role", "heading"), T.setAttribute("aria-level", g[1])) : d[k] && T.setAttribute("role", d[k]);
            }
            if (j(this, b, Jd).call(this, x, T), x.children)
              if (x.children.length === 1 && "id" in x.children[0])
                j(this, b, Jd).call(this, x.children[0], T);
              else
                for (const k of x.children)
                  T.append(j(this, E, eu).call(this, k));
            return T;
          }, s.StructTreeLayerBuilder = y;
        },
        /* 17 */
        /***/
        (a, s, c) => {
          var h, y, w, b, C, Dc, A, tu;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.TextAccessibilityManager = void 0;
          var l = c(2);
          const x = class x {
            constructor() {
              D(this, A);
              D(this, h, !1);
              D(this, y, null);
              D(this, w, /* @__PURE__ */ new Map());
              D(this, b, /* @__PURE__ */ new Map());
            }
            setTextMapping(k) {
              B(this, y, k);
            }
            enable() {
              if (p(this, h))
                throw new Error("TextAccessibilityManager is already enabled.");
              if (!p(this, y))
                throw new Error("Text divs and strings have not been set.");
              if (B(this, h, !0), B(this, y, p(this, y).slice()), p(this, y).sort(j(x, C, Dc)), p(this, w).size > 0) {
                const k = p(this, y);
                for (const [g, S] of p(this, w)) {
                  if (!document.getElementById(g)) {
                    p(this, w).delete(g);
                    continue;
                  }
                  j(this, A, tu).call(this, g, k[S]);
                }
              }
              for (const [k, g] of p(this, b))
                this.addPointerInTextLayer(k, g);
              p(this, b).clear();
            }
            disable() {
              p(this, h) && (p(this, b).clear(), B(this, y, null), B(this, h, !1));
            }
            removePointerInTextLayer(k) {
              if (!p(this, h)) {
                p(this, b).delete(k);
                return;
              }
              const g = p(this, y);
              if (!g || g.length === 0)
                return;
              const {
                id: S
              } = k, L = p(this, w).get(S);
              if (L === void 0)
                return;
              const R = g[L];
              p(this, w).delete(S);
              let U = R.getAttribute("aria-owns");
              U != null && U.includes(S) && (U = U.split(" ").filter((J) => J !== S).join(" "), U ? R.setAttribute("aria-owns", U) : (R.removeAttribute("aria-owns"), R.setAttribute("role", "presentation")));
            }
            addPointerInTextLayer(k, g) {
              const {
                id: S
              } = k;
              if (!S)
                return null;
              if (!p(this, h))
                return p(this, b).set(k, g), null;
              g && this.removePointerInTextLayer(k);
              const L = p(this, y);
              if (!L || L.length === 0)
                return null;
              const R = (0, l.binarySearchFirstItem)(L, (ue) => {
                var K;
                return j(K = x, C, Dc).call(K, k, ue) < 0;
              }), U = Math.max(0, R - 1), J = L[U];
              j(this, A, tu).call(this, S, J), p(this, w).set(S, U);
              const ne = J.parentNode;
              return ne != null && ne.classList.contains("markedContent") ? ne.id : null;
            }
            moveElementInDOM(k, g, S, L) {
              const R = this.addPointerInTextLayer(S, L);
              if (!k.hasChildNodes())
                return k.append(g), R;
              const U = Array.from(k.childNodes).filter((ue) => ue !== g);
              if (U.length === 0)
                return R;
              const J = S || g, ne = (0, l.binarySearchFirstItem)(U, (ue) => {
                var K;
                return j(K = x, C, Dc).call(K, J, ue) < 0;
              });
              return ne === 0 ? U[0].before(g) : U[ne - 1].after(g), R;
            }
          };
          h = new WeakMap(), y = new WeakMap(), w = new WeakMap(), b = new WeakMap(), C = new WeakSet(), Dc = function(k, g) {
            const S = k.getBoundingClientRect(), L = g.getBoundingClientRect();
            if (S.width === 0 && S.height === 0)
              return 1;
            if (L.width === 0 && L.height === 0)
              return -1;
            const R = S.y, U = S.y + S.height, J = S.y + S.height / 2, ne = L.y, ue = L.y + L.height, K = L.y + L.height / 2;
            if (J <= ne && K >= U)
              return -1;
            if (K <= R && J >= ue)
              return 1;
            const ae = S.x + S.width / 2, ee = L.x + L.width / 2;
            return ae - ee;
          }, A = new WeakSet(), tu = function(k, g) {
            const S = g.getAttribute("aria-owns");
            S != null && S.includes(k) || g.setAttribute("aria-owns", S ? `${S} ${k}` : k), g.removeAttribute("role");
          }, D(x, C);
          let d = x;
          s.TextAccessibilityManager = d;
        },
        /* 18 */
        /***/
        (a, s) => {
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.TextHighlighter = void 0;
          class c {
            constructor({
              findController: d,
              eventBus: h,
              pageIndex: y
            }) {
              this.findController = d, this.matches = [], this.eventBus = h, this.pageIdx = y, this._onUpdateTextLayerMatches = null, this.textDivs = null, this.textContentItemsStr = null, this.enabled = !1;
            }
            setTextMapping(d, h) {
              this.textDivs = d, this.textContentItemsStr = h;
            }
            enable() {
              if (!this.textDivs || !this.textContentItemsStr)
                throw new Error("Text divs and strings have not been set.");
              if (this.enabled)
                throw new Error("TextHighlighter is already enabled.");
              this.enabled = !0, this._onUpdateTextLayerMatches || (this._onUpdateTextLayerMatches = (d) => {
                (d.pageIndex === this.pageIdx || d.pageIndex === -1) && this._updateMatches();
              }, this.eventBus._on("updatetextlayermatches", this._onUpdateTextLayerMatches)), this._updateMatches();
            }
            disable() {
              this.enabled && (this.enabled = !1, this._onUpdateTextLayerMatches && (this.eventBus._off("updatetextlayermatches", this._onUpdateTextLayerMatches), this._onUpdateTextLayerMatches = null), this._updateMatches(!0));
            }
            _convertMatches(d, h) {
              if (!d)
                return [];
              const {
                textContentItemsStr: y
              } = this;
              let w = 0, b = 0;
              const C = y.length - 1, E = [];
              for (let A = 0, _ = d.length; A < _; A++) {
                let x = d[A];
                for (; w !== C && x >= b + y[w].length; )
                  b += y[w].length, w++;
                w === y.length && console.error("Could not find a matching mapping");
                const T = {
                  begin: {
                    divIdx: w,
                    offset: x - b
                  }
                };
                for (x += h[A]; w !== C && x > b + y[w].length; )
                  b += y[w].length, w++;
                T.end = {
                  divIdx: w,
                  offset: x - b
                }, E.push(T);
              }
              return E;
            }
            _renderMatches(d) {
              if (d.length === 0)
                return;
              const {
                findController: h,
                pageIdx: y
              } = this, {
                textContentItemsStr: w,
                textDivs: b
              } = this, C = y === h.selected.pageIdx, E = h.selected.matchIdx, A = h.state.highlightAll;
              let _ = null;
              const x = {
                divIdx: -1,
                offset: void 0
              };
              function T(U, J) {
                const ne = U.divIdx;
                return b[ne].textContent = "", k(ne, 0, U.offset, J);
              }
              function k(U, J, ne, ue) {
                let K = b[U];
                if (K.nodeType === Node.TEXT_NODE) {
                  const Q = document.createElement("span");
                  K.before(Q), Q.append(K), b[U] = Q, K = Q;
                }
                const ae = w[U].substring(J, ne), ee = document.createTextNode(ae);
                if (ue) {
                  const Q = document.createElement("span");
                  return Q.className = `${ue} appended`, Q.append(ee), K.append(Q), ue.includes("selected") ? Q.offsetLeft : 0;
                }
                return K.append(ee), 0;
              }
              let g = E, S = g + 1;
              if (A)
                g = 0, S = d.length;
              else if (!C)
                return;
              let L = -1, R = -1;
              for (let U = g; U < S; U++) {
                const J = d[U], ne = J.begin;
                if (ne.divIdx === L && ne.offset === R)
                  continue;
                L = ne.divIdx, R = ne.offset;
                const ue = J.end, K = C && U === E, ae = K ? " selected" : "";
                let ee = 0;
                if (!_ || ne.divIdx !== _.divIdx ? (_ !== null && k(_.divIdx, _.offset, x.offset), T(ne)) : k(_.divIdx, _.offset, ne.offset), ne.divIdx === ue.divIdx)
                  ee = k(ne.divIdx, ne.offset, ue.offset, "highlight" + ae);
                else {
                  ee = k(ne.divIdx, ne.offset, x.offset, "highlight begin" + ae);
                  for (let Q = ne.divIdx + 1, Z = ue.divIdx; Q < Z; Q++)
                    b[Q].className = "highlight middle" + ae;
                  T(ue, "highlight end" + ae);
                }
                _ = ue, K && h.scrollMatchIntoView({
                  element: b[ne.divIdx],
                  selectedLeft: ee,
                  pageIndex: y,
                  matchIndex: E
                });
              }
              _ && k(_.divIdx, _.offset, x.offset);
            }
            _updateMatches(d = !1) {
              if (!this.enabled && !d)
                return;
              const {
                findController: h,
                matches: y,
                pageIdx: w
              } = this, {
                textContentItemsStr: b,
                textDivs: C
              } = this;
              let E = -1;
              for (const x of y) {
                const T = Math.max(E, x.begin.divIdx);
                for (let k = T, g = x.end.divIdx; k <= g; k++) {
                  const S = C[k];
                  S.textContent = b[k], S.className = "";
                }
                E = x.end.divIdx + 1;
              }
              if (!(h != null && h.highlightMatches) || d)
                return;
              const A = h.pageMatches[w] || null, _ = h.pageMatchesLength[w] || null;
              this.matches = this._convertMatches(A, _), this._renderMatches(this.matches);
            }
          }
          s.TextHighlighter = c;
        },
        /* 19 */
        /***/
        (a, s, c) => {
          var y, w, b, C, E, Mf, _, Of;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.TextLayerBuilder = void 0;
          var l = c(4), d = c(2);
          class h {
            constructor({
              highlighter: k = null,
              accessibilityManager: g = null,
              isOffscreenCanvasSupported: S = !0,
              enablePermissions: L = !1
            }) {
              D(this, E);
              D(this, _);
              D(this, y, !1);
              D(this, w, 0);
              D(this, b, 0);
              D(this, C, null);
              this.textContentItemsStr = [], this.renderingDone = !1, this.textDivs = [], this.textDivProperties = /* @__PURE__ */ new WeakMap(), this.textLayerRenderTask = null, this.highlighter = k, this.accessibilityManager = g, this.isOffscreenCanvasSupported = S, B(this, y, L === !0), this.div = document.createElement("div"), this.div.className = "textLayer", this.hide();
            }
            get numTextDivs() {
              return this.textDivs.length;
            }
            async render(k) {
              var L, R, U;
              if (!p(this, C))
                throw new Error('No "textContentSource" parameter specified.');
              const g = k.scale * (globalThis.devicePixelRatio || 1), {
                rotation: S
              } = k;
              if (this.renderingDone) {
                const J = S !== p(this, w), ne = g !== p(this, b);
                (J || ne) && (this.hide(), (0, l.updateTextLayer)({
                  container: this.div,
                  viewport: k,
                  textDivs: this.textDivs,
                  textDivProperties: this.textDivProperties,
                  isOffscreenCanvasSupported: this.isOffscreenCanvasSupported,
                  mustRescale: ne,
                  mustRotate: J
                }), B(this, b, g), B(this, w, S)), this.show();
                return;
              }
              this.cancel(), (L = this.highlighter) == null || L.setTextMapping(this.textDivs, this.textContentItemsStr), (R = this.accessibilityManager) == null || R.setTextMapping(this.textDivs), this.textLayerRenderTask = (0, l.renderTextLayer)({
                textContentSource: p(this, C),
                container: this.div,
                viewport: k,
                textDivs: this.textDivs,
                textDivProperties: this.textDivProperties,
                textContentItemsStr: this.textContentItemsStr,
                isOffscreenCanvasSupported: this.isOffscreenCanvasSupported
              }), await this.textLayerRenderTask.promise, j(this, E, Mf).call(this), B(this, b, g), B(this, w, S), this.show(), (U = this.accessibilityManager) == null || U.enable();
            }
            hide() {
              var k;
              this.div.hidden || ((k = this.highlighter) == null || k.disable(), this.div.hidden = !0);
            }
            show() {
              var k;
              this.div.hidden && this.renderingDone && (this.div.hidden = !1, (k = this.highlighter) == null || k.enable());
            }
            cancel() {
              var k, g;
              this.textLayerRenderTask && (this.textLayerRenderTask.cancel(), this.textLayerRenderTask = null), (k = this.highlighter) == null || k.disable(), (g = this.accessibilityManager) == null || g.disable(), this.textContentItemsStr.length = 0, this.textDivs.length = 0, this.textDivProperties = /* @__PURE__ */ new WeakMap();
            }
            setTextContentSource(k) {
              this.cancel(), B(this, C, k);
            }
          }
          y = new WeakMap(), w = new WeakMap(), b = new WeakMap(), C = new WeakMap(), E = new WeakSet(), Mf = function() {
            this.renderingDone = !0;
            const k = document.createElement("div");
            k.className = "endOfContent", this.div.append(k), j(this, _, Of).call(this);
          }, _ = new WeakSet(), Of = function() {
            const {
              div: k
            } = this;
            k.addEventListener("mousedown", (g) => {
              const S = k.querySelector(".endOfContent");
              if (!S)
                return;
              let L = g.target !== k;
              if (L && (L = getComputedStyle(S).getPropertyValue("-moz-user-select") !== "none"), L) {
                const R = k.getBoundingClientRect(), U = Math.max(0, (g.pageY - R.top) / R.height);
                S.style.top = (U * 100).toFixed(2) + "%";
              }
              S.classList.add("active");
            }), k.addEventListener("mouseup", () => {
              const g = k.querySelector(".endOfContent");
              g && (g.style.top = "", g.classList.remove("active"));
            }), k.addEventListener("copy", (g) => {
              if (!p(this, y)) {
                const S = document.getSelection();
                g.clipboardData.setData("text/plain", (0, d.removeNullCharacters)((0, l.normalizeUnicode)(S.toString())));
              }
              g.preventDefault(), g.stopPropagation();
            });
          }, s.TextLayerBuilder = h;
        },
        /* 20 */
        /***/
        (a, s, c) => {
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.XfaLayerBuilder = void 0;
          var l = c(4);
          class d {
            constructor({
              pageDiv: y,
              pdfPage: w,
              annotationStorage: b = null,
              linkService: C,
              xfaHtml: E = null
            }) {
              this.pageDiv = y, this.pdfPage = w, this.annotationStorage = b, this.linkService = C, this.xfaHtml = E, this.div = null, this._cancelled = !1;
            }
            async render(y, w = "display") {
              if (w === "print") {
                const E = {
                  viewport: y.clone({
                    dontFlip: !0
                  }),
                  div: this.div,
                  xfaHtml: this.xfaHtml,
                  annotationStorage: this.annotationStorage,
                  linkService: this.linkService,
                  intent: w
                }, A = document.createElement("div");
                return this.pageDiv.append(A), E.div = A, l.XfaLayer.render(E);
              }
              const b = await this.pdfPage.getXfa();
              if (this._cancelled || !b)
                return {
                  textDivs: []
                };
              const C = {
                viewport: y.clone({
                  dontFlip: !0
                }),
                div: this.div,
                xfaHtml: b,
                annotationStorage: this.annotationStorage,
                linkService: this.linkService,
                intent: w
              };
              return this.div ? l.XfaLayer.update(C) : (this.div = document.createElement("div"), this.pageDiv.append(this.div), C.div = this.div, l.XfaLayer.render(C));
            }
            cancel() {
              this._cancelled = !0;
            }
            hide() {
              this.div && (this.div.hidden = !0);
            }
          }
          s.XfaLayerBuilder = d;
        },
        /* 21 */
        /***/
        (a, s, c) => {
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.PDFScriptingManager = void 0;
          var l = c(22), d = c(23);
          class h extends d.PDFScriptingManager {
            constructor(w) {
              w.externalServices || window.addEventListener("updatefromsandbox", (b) => {
                w.eventBus.dispatch("updatefromsandbox", {
                  source: window,
                  detail: b.detail
                });
              }), w.externalServices || (w.externalServices = {
                createScripting: ({
                  sandboxBundleSrc: b
                }) => new l.GenericScripting(b)
              }), w.docProperties || (w.docProperties = (b) => (0, l.docProperties)(b)), super(w);
            }
          }
          s.PDFScriptingManager = h;
        },
        /* 22 */
        /***/
        (a, s, c) => {
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.GenericScripting = void 0, s.docProperties = d;
          var l = c(4);
          async function d(y) {
            const w = "", b = w.split("#")[0];
            let {
              info: C,
              metadata: E,
              contentDispositionFilename: A,
              contentLength: _
            } = await y.getMetadata();
            if (!_) {
              const {
                length: x
              } = await y.getDownloadInfo();
              _ = x;
            }
            return {
              ...C,
              baseURL: b,
              filesize: _,
              filename: A || (0, l.getPdfFilenameFromUrl)(w),
              metadata: E == null ? void 0 : E.getRaw(),
              authors: E == null ? void 0 : E.get("dc:creator"),
              numPages: y.numPages,
              URL: w
            };
          }
          class h {
            constructor(w) {
              this._ready = (0, l.loadScript)(w, !0).then(() => window.pdfjsSandbox.QuickJSSandbox());
            }
            async createSandbox(w) {
              (await this._ready).create(w);
            }
            async dispatchEventInSandbox(w) {
              const b = await this._ready;
              setTimeout(() => b.dispatchEvent(w), 0);
            }
            async destroySandbox() {
              (await this._ready).nukeSandbox();
            }
          }
          s.GenericScripting = h;
        },
        /* 23 */
        /***/
        (a, s, c) => {
          var y, w, b, C, E, A, _, x, T, k, g, S, If, R, Fc, J, ru, ue, Tf, ae, Xa;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.PDFScriptingManager = void 0;
          var l = c(2), d = c(4);
          class h {
            constructor({
              eventBus: Z,
              sandboxBundleSrc: le = null,
              externalServices: O = null,
              docProperties: de = null
            }) {
              D(this, S);
              D(this, R);
              D(this, J);
              D(this, ue);
              D(this, ae);
              D(this, y, null);
              D(this, w, null);
              D(this, b, null);
              D(this, C, null);
              D(this, E, null);
              D(this, A, null);
              D(this, _, null);
              D(this, x, !1);
              D(this, T, null);
              D(this, k, null);
              D(this, g, null);
              B(this, C, Z), B(this, T, le), B(this, E, O), B(this, b, de);
            }
            setViewer(Z) {
              B(this, _, Z);
            }
            async setDocument(Z) {
              var ve;
              if (p(this, A) && await j(this, ae, Xa).call(this), B(this, A, Z), !Z)
                return;
              const [le, O, de] = await Promise.all([Z.getFieldObjects(), Z.getCalculationOrderIds(), Z.getJSActions()]);
              if (!le && !de) {
                await j(this, ae, Xa).call(this);
                return;
              }
              if (Z === p(this, A)) {
                try {
                  B(this, k, j(this, ue, Tf).call(this));
                } catch (me) {
                  console.error(`setDocument: "${me.message}".`), await j(this, ae, Xa).call(this);
                  return;
                }
                this._internalEvents.set("updatefromsandbox", (me) => {
                  (me == null ? void 0 : me.source) === window && j(this, S, If).call(this, me.detail);
                }), this._internalEvents.set("dispatcheventinsandbox", (me) => {
                  var Ce;
                  (Ce = p(this, k)) == null || Ce.dispatchEventInSandbox(me.detail);
                }), this._internalEvents.set("pagechanging", ({
                  pageNumber: me,
                  previous: Ce
                }) => {
                  me !== Ce && (j(this, J, ru).call(this, Ce), j(this, R, Fc).call(this, me));
                }), this._internalEvents.set("pagerendered", ({
                  pageNumber: me
                }) => {
                  this._pageOpenPending.has(me) && me === p(this, _).currentPageNumber && j(this, R, Fc).call(this, me);
                }), this._internalEvents.set("pagesdestroy", async () => {
                  var me, Ce;
                  await j(this, J, ru).call(this, p(this, _).currentPageNumber), await ((me = p(this, k)) == null ? void 0 : me.dispatchEventInSandbox({
                    id: "doc",
                    name: "WillClose"
                  })), (Ce = p(this, y)) == null || Ce.resolve();
                });
                for (const [me, Ce] of this._internalEvents)
                  p(this, C)._on(me, Ce);
                try {
                  const me = await p(this, b).call(this, Z);
                  if (Z !== p(this, A))
                    return;
                  await p(this, k).createSandbox({
                    objects: le,
                    calculationOrder: O,
                    appInfo: {
                      platform: navigator.platform,
                      language: navigator.language
                    },
                    docInfo: {
                      ...me,
                      actions: de
                    }
                  }), p(this, C).dispatch("sandboxcreated", {
                    source: this
                  });
                } catch (me) {
                  console.error(`setDocument: "${me.message}".`), await j(this, ae, Xa).call(this);
                  return;
                }
                await ((ve = p(this, k)) == null ? void 0 : ve.dispatchEventInSandbox({
                  id: "doc",
                  name: "Open"
                })), await j(this, R, Fc).call(this, p(this, _).currentPageNumber, !0), Promise.resolve().then(() => {
                  Z === p(this, A) && B(this, x, !0);
                });
              }
            }
            async dispatchWillSave() {
              var Z;
              return (Z = p(this, k)) == null ? void 0 : Z.dispatchEventInSandbox({
                id: "doc",
                name: "WillSave"
              });
            }
            async dispatchDidSave() {
              var Z;
              return (Z = p(this, k)) == null ? void 0 : Z.dispatchEventInSandbox({
                id: "doc",
                name: "DidSave"
              });
            }
            async dispatchWillPrint() {
              var Z;
              if (p(this, k)) {
                await ((Z = p(this, g)) == null ? void 0 : Z.promise), B(this, g, new d.PromiseCapability());
                try {
                  await p(this, k).dispatchEventInSandbox({
                    id: "doc",
                    name: "WillPrint"
                  });
                } catch (le) {
                  throw p(this, g).resolve(), B(this, g, null), le;
                }
                await p(this, g).promise;
              }
            }
            async dispatchDidPrint() {
              var Z;
              return (Z = p(this, k)) == null ? void 0 : Z.dispatchEventInSandbox({
                id: "doc",
                name: "DidPrint"
              });
            }
            get destroyPromise() {
              var Z;
              return ((Z = p(this, w)) == null ? void 0 : Z.promise) || null;
            }
            get ready() {
              return p(this, x);
            }
            get _internalEvents() {
              return (0, d.shadow)(this, "_internalEvents", /* @__PURE__ */ new Map());
            }
            get _pageOpenPending() {
              return (0, d.shadow)(this, "_pageOpenPending", /* @__PURE__ */ new Set());
            }
            get _visitedPages() {
              return (0, d.shadow)(this, "_visitedPages", /* @__PURE__ */ new Map());
            }
          }
          y = new WeakMap(), w = new WeakMap(), b = new WeakMap(), C = new WeakMap(), E = new WeakMap(), A = new WeakMap(), _ = new WeakMap(), x = new WeakMap(), T = new WeakMap(), k = new WeakMap(), g = new WeakMap(), S = new WeakSet(), If = async function(Z) {
            var qe, Ge;
            const le = p(this, _), O = le.isInPresentationMode || le.isChangingPresentationMode, {
              id: de,
              siblings: ve,
              command: me,
              value: Ce
            } = Z;
            if (!de) {
              switch (me) {
                case "clear":
                  console.clear();
                  break;
                case "error":
                  console.error(Ce);
                  break;
                case "layout":
                  if (!O) {
                    const Ne = (0, l.apiPageLayoutToViewerModes)(Ce);
                    le.spreadMode = Ne.spreadMode;
                  }
                  break;
                case "page-num":
                  le.currentPageNumber = Ce + 1;
                  break;
                case "print":
                  await le.pagesPromise, p(this, C).dispatch("print", {
                    source: this
                  });
                  break;
                case "println":
                  console.log(Ce);
                  break;
                case "zoom":
                  O || (le.currentScaleValue = Ce);
                  break;
                case "SaveAs":
                  p(this, C).dispatch("download", {
                    source: this
                  });
                  break;
                case "FirstPage":
                  le.currentPageNumber = 1;
                  break;
                case "LastPage":
                  le.currentPageNumber = le.pagesCount;
                  break;
                case "NextPage":
                  le.nextPage();
                  break;
                case "PrevPage":
                  le.previousPage();
                  break;
                case "ZoomViewIn":
                  O || le.increaseScale();
                  break;
                case "ZoomViewOut":
                  O || le.decreaseScale();
                  break;
                case "WillPrintFinished":
                  (qe = p(this, g)) == null || qe.resolve(), B(this, g, null);
                  break;
              }
              return;
            }
            if (O && Z.focus)
              return;
            delete Z.id, delete Z.siblings;
            const Re = ve ? [de, ...ve] : [de];
            for (const Ne of Re) {
              const it = document.querySelector(`[data-element-id="${Ne}"]`);
              it ? it.dispatchEvent(new CustomEvent("updatefromsandbox", {
                detail: Z
              })) : (Ge = p(this, A)) == null || Ge.annotationStorage.setValue(Ne, Z);
            }
          }, R = new WeakSet(), Fc = async function(Z, le = !1) {
            const O = p(this, A), de = this._visitedPages;
            if (le && B(this, y, new d.PromiseCapability()), !p(this, y))
              return;
            const ve = p(this, _).getPageView(Z - 1);
            if ((ve == null ? void 0 : ve.renderingState) !== l.RenderingStates.FINISHED) {
              this._pageOpenPending.add(Z);
              return;
            }
            this._pageOpenPending.delete(Z);
            const me = (async () => {
              var Re, qe;
              const Ce = await (de.has(Z) ? null : (Re = ve.pdfPage) == null ? void 0 : Re.getJSActions());
              O === p(this, A) && await ((qe = p(this, k)) == null ? void 0 : qe.dispatchEventInSandbox({
                id: "page",
                name: "PageOpen",
                pageNumber: Z,
                actions: Ce
              }));
            })();
            de.set(Z, me);
          }, J = new WeakSet(), ru = async function(Z) {
            var ve;
            const le = p(this, A), O = this._visitedPages;
            if (!p(this, y) || this._pageOpenPending.has(Z))
              return;
            const de = O.get(Z);
            de && (O.set(Z, null), await de, le === p(this, A) && await ((ve = p(this, k)) == null ? void 0 : ve.dispatchEventInSandbox({
              id: "page",
              name: "PageClose",
              pageNumber: Z
            })));
          }, ue = new WeakSet(), Tf = function() {
            if (B(this, w, new d.PromiseCapability()), p(this, k))
              throw new Error("#initScripting: Scripting already exists.");
            return p(this, E).createScripting({
              sandboxBundleSrc: p(this, T)
            });
          }, ae = new WeakSet(), Xa = async function() {
            var Z, le, O;
            if (!p(this, k)) {
              B(this, A, null), (Z = p(this, w)) == null || Z.resolve();
              return;
            }
            p(this, y) && (await Promise.race([p(this, y).promise, new Promise((de) => {
              setTimeout(de, 1e3);
            })]).catch(() => {
            }), B(this, y, null)), B(this, A, null);
            try {
              await p(this, k).destroySandbox();
            } catch {
            }
            (le = p(this, g)) == null || le.reject(new Error("Scripting destroyed.")), B(this, g, null);
            for (const [de, ve] of this._internalEvents)
              p(this, C)._off(de, ve);
            this._internalEvents.clear(), this._pageOpenPending.clear(), this._visitedPages.clear(), B(this, k, null), B(this, x, !1), (O = p(this, w)) == null || O.resolve();
          }, s.PDFScriptingManager = h;
        },
        /* 24 */
        /***/
        (a, s, c) => {
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.PDFSinglePageViewer = void 0;
          var l = c(2), d = c(25);
          class h extends d.PDFViewer {
            _resetView() {
              super._resetView(), this._scrollMode = l.ScrollMode.PAGE, this._spreadMode = l.SpreadMode.NONE;
            }
            set scrollMode(w) {
            }
            _updateScrollMode() {
            }
            set spreadMode(w) {
            }
            _updateSpreadMode() {
            }
          }
          s.PDFSinglePageViewer = h;
        },
        /* 25 */
        /***/
        (a, s, c) => {
          var T, k, g, iu, L, R, U, J, ne, ue, K, ae, ee, Q, Z, le, O, de, ve, me, Ce, Re, Rf, Ge, Df, it, Ff, Fe, zf, bt, Ja, oe, zc, _e, Vf, Ee, nu, Y, Nf, u, ji, P, ou, H, Bf, ce, Hf, be, au, pt, jf;
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.PagesCountLimit = s.PDFViewer = s.PDFPageViewBuffer = void 0;
          var l = c(4), d = c(2), h = c(7), y = c(13), w = c(26), b = c(5);
          const C = 10, E = {
            FORCE_SCROLL_MODE_PAGE: 15e3,
            FORCE_LAZY_PAGE_INIT: 7500,
            PAUSE_EAGER_PAGE_INIT: 250
          };
          s.PagesCountLimit = E;
          function A(qt) {
            return Object.values(l.AnnotationEditorType).includes(qt) && qt !== l.AnnotationEditorType.DISABLE;
          }
          class _ {
            constructor($) {
              D(this, g);
              D(this, T, /* @__PURE__ */ new Set());
              D(this, k, 0);
              B(this, k, $);
            }
            push($) {
              const N = p(this, T);
              N.has($) && N.delete($), N.add($), N.size > p(this, k) && j(this, g, iu).call(this);
            }
            resize($, N = null) {
              B(this, k, $);
              const se = p(this, T);
              if (N) {
                const ie = se.size;
                let z = 1;
                for (const q of se)
                  if (N.has(q.id) && (se.delete(q), se.add(q)), ++z > ie)
                    break;
              }
              for (; se.size > p(this, k); )
                j(this, g, iu).call(this);
            }
            has($) {
              return p(this, T).has($);
            }
            [Symbol.iterator]() {
              return p(this, T).keys();
            }
          }
          T = new WeakMap(), k = new WeakMap(), g = new WeakSet(), iu = function() {
            const $ = p(this, T).keys().next().value;
            $ == null || $.destroy(), p(this, T).delete($);
          }, s.PDFPageViewBuffer = _;
          class x {
            constructor($) {
              D(this, Re);
              D(this, Ge);
              D(this, it);
              D(this, Fe);
              D(this, bt);
              D(this, oe);
              D(this, _e);
              D(this, Ee);
              D(this, Y);
              D(this, u);
              D(this, P);
              D(this, H);
              D(this, ce);
              D(this, be);
              D(this, pt);
              D(this, L, null);
              D(this, R, null);
              D(this, U, l.AnnotationEditorType.NONE);
              D(this, J, null);
              D(this, ne, l.AnnotationMode.ENABLE_FORMS);
              D(this, ue, null);
              D(this, K, null);
              D(this, ae, !1);
              D(this, ee, !1);
              D(this, Q, null);
              D(this, Z, !1);
              D(this, le, 0);
              D(this, O, new ResizeObserver(j(this, pt, jf).bind(this)));
              D(this, de, null);
              D(this, ve, null);
              D(this, me, null);
              D(this, Ce, d.TextLayerMode.ENABLE);
              var se, ie;
              const N = "3.11.174";
              if (l.version !== N)
                throw new Error(`The API version "${l.version}" does not match the Viewer version "${N}".`);
              if (this.container = $.container, this.viewer = $.viewer || $.container.firstElementChild, ((se = this.container) == null ? void 0 : se.tagName) !== "DIV" || ((ie = this.viewer) == null ? void 0 : ie.tagName) !== "DIV")
                throw new Error("Invalid `container` and/or `viewer` option.");
              if (this.container.offsetParent && getComputedStyle(this.container).position !== "absolute")
                throw new Error("The `container` must be absolutely positioned.");
              p(this, O).observe(this.container), this.eventBus = $.eventBus, this.linkService = $.linkService || new b.SimpleLinkService(), this.downloadManager = $.downloadManager || null, this.findController = $.findController || null, B(this, R, $.altTextManager || null), this.findController && (this.findController.onIsPageVisible = (z) => this._getVisiblePages().ids.has(z)), this._scriptingManager = $.scriptingManager || null, B(this, Ce, $.textLayerMode ?? d.TextLayerMode.ENABLE), B(this, ne, $.annotationMode ?? l.AnnotationMode.ENABLE_FORMS), B(this, U, $.annotationEditorMode ?? l.AnnotationEditorType.NONE), this.imageResourcesPath = $.imageResourcesPath || "", this.enablePrintAutoRotate = $.enablePrintAutoRotate || !1, this.removePageBorders = $.removePageBorders || !1, $.useOnlyCssZoom && (console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."), $.maxCanvasPixels = 0), this.isOffscreenCanvasSupported = $.isOffscreenCanvasSupported ?? !0, this.maxCanvasPixels = $.maxCanvasPixels, this.l10n = $.l10n || h.NullL10n, B(this, ae, $.enablePermissions || !1), this.pageColors = $.pageColors || null, this.defaultRenderingQueue = !$.renderingQueue, this.defaultRenderingQueue ? (this.renderingQueue = new w.PDFRenderingQueue(), this.renderingQueue.setViewer(this)) : this.renderingQueue = $.renderingQueue, this.scroll = (0, d.watchScroll)(this.container, this._scrollUpdate.bind(this)), this.presentationModeState = d.PresentationModeState.UNKNOWN, this._onBeforeDraw = this._onAfterDraw = null, this._resetView(), this.removePageBorders && this.viewer.classList.add("removePageBorders"), j(this, be, au).call(this), this.eventBus._on("thumbnailrendered", ({
                pageNumber: z,
                pdfPage: q
              }) => {
                const G = this._pages[z - 1];
                p(this, L).has(G) || q == null || q.cleanup();
              });
            }
            get pagesCount() {
              return this._pages.length;
            }
            getPageView($) {
              return this._pages[$];
            }
            getCachedPageViews() {
              return new Set(p(this, L));
            }
            get pageViewsReady() {
              return this._pagesCapability.settled && this._pages.every(($) => $ == null ? void 0 : $.pdfPage);
            }
            get renderForms() {
              return p(this, ne) === l.AnnotationMode.ENABLE_FORMS;
            }
            get enableScripting() {
              return !!this._scriptingManager;
            }
            get currentPageNumber() {
              return this._currentPageNumber;
            }
            set currentPageNumber($) {
              if (!Number.isInteger($))
                throw new Error("Invalid page number.");
              this.pdfDocument && (this._setCurrentPageNumber($, !0) || console.error(`currentPageNumber: "${$}" is not a valid page.`));
            }
            _setCurrentPageNumber($, N = !1) {
              var ie;
              if (this._currentPageNumber === $)
                return N && j(this, P, ou).call(this), !0;
              if (!(0 < $ && $ <= this.pagesCount))
                return !1;
              const se = this._currentPageNumber;
              return this._currentPageNumber = $, this.eventBus.dispatch("pagechanging", {
                source: this,
                pageNumber: $,
                pageLabel: ((ie = this._pageLabels) == null ? void 0 : ie[$ - 1]) ?? null,
                previous: se
              }), N && j(this, P, ou).call(this), !0;
            }
            get currentPageLabel() {
              var $;
              return (($ = this._pageLabels) == null ? void 0 : $[this._currentPageNumber - 1]) ?? null;
            }
            set currentPageLabel($) {
              if (!this.pdfDocument)
                return;
              let N = $ | 0;
              if (this._pageLabels) {
                const se = this._pageLabels.indexOf($);
                se >= 0 && (N = se + 1);
              }
              this._setCurrentPageNumber(N, !0) || console.error(`currentPageLabel: "${$}" is not a valid page.`);
            }
            get currentScale() {
              return this._currentScale !== d.UNKNOWN_SCALE ? this._currentScale : d.DEFAULT_SCALE;
            }
            set currentScale($) {
              if (isNaN($))
                throw new Error("Invalid numeric scale.");
              this.pdfDocument && j(this, u, ji).call(this, $, {
                noScroll: !1
              });
            }
            get currentScaleValue() {
              return this._currentScaleValue;
            }
            set currentScaleValue($) {
              this.pdfDocument && j(this, u, ji).call(this, $, {
                noScroll: !1
              });
            }
            get pagesRotation() {
              return this._pagesRotation;
            }
            set pagesRotation($) {
              if (!(0, d.isValidRotation)($))
                throw new Error("Invalid pages rotation angle.");
              if (!this.pdfDocument || ($ %= 360, $ < 0 && ($ += 360), this._pagesRotation === $))
                return;
              this._pagesRotation = $;
              const N = this._currentPageNumber;
              this.refresh(!0, {
                rotation: $
              }), this._currentScaleValue && j(this, u, ji).call(this, this._currentScaleValue, {
                noScroll: !0
              }), this.eventBus.dispatch("rotationchanging", {
                source: this,
                pagesRotation: $,
                pageNumber: N
              }), this.defaultRenderingQueue && this.update();
            }
            get firstPagePromise() {
              return this.pdfDocument ? this._firstPageCapability.promise : null;
            }
            get onePageRendered() {
              return this.pdfDocument ? this._onePageRenderedCapability.promise : null;
            }
            get pagesPromise() {
              return this.pdfDocument ? this._pagesCapability.promise : null;
            }
            async getAllText() {
              const $ = [], N = [];
              for (let se = 1, ie = this.pdfDocument.numPages; se <= ie; ++se) {
                if (p(this, Z))
                  return null;
                N.length = 0;
                const z = await this.pdfDocument.getPage(se), {
                  items: q
                } = await z.getTextContent();
                for (const G of q)
                  G.str && N.push(G.str), G.hasEOL && N.push(`
`);
                $.push((0, d.removeNullCharacters)(N.join("")));
              }
              return $.join(`
`);
            }
            setDocument($) {
              var q, G;
              if (this.pdfDocument && (this.eventBus.dispatch("pagesdestroy", {
                source: this
              }), this._cancelRendering(), this._resetView(), (q = this.findController) == null || q.setDocument(null), (G = this._scriptingManager) == null || G.setDocument(null), p(this, J) && (p(this, J).destroy(), B(this, J, null))), this.pdfDocument = $, !$)
                return;
              const N = $.numPages, se = $.getPage(1), ie = $.getOptionalContentConfig(), z = p(this, ae) ? $.getPermissions() : Promise.resolve();
              if (N > E.FORCE_SCROLL_MODE_PAGE) {
                console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");
                const re = this._scrollMode = d.ScrollMode.PAGE;
                this.eventBus.dispatch("scrollmodechanged", {
                  source: this,
                  mode: re
                });
              }
              this._pagesCapability.promise.then(() => {
                this.eventBus.dispatch("pagesloaded", {
                  source: this,
                  pagesCount: N
                });
              }, () => {
              }), this._onBeforeDraw = (re) => {
                const ge = this._pages[re.pageNumber - 1];
                ge && p(this, L).push(ge);
              }, this.eventBus._on("pagerender", this._onBeforeDraw), this._onAfterDraw = (re) => {
                re.cssTransform || this._onePageRenderedCapability.settled || (this._onePageRenderedCapability.resolve({
                  timestamp: re.timestamp
                }), this.eventBus._off("pagerendered", this._onAfterDraw), this._onAfterDraw = null, p(this, ve) && (document.removeEventListener("visibilitychange", p(this, ve)), B(this, ve, null)));
              }, this.eventBus._on("pagerendered", this._onAfterDraw), Promise.all([se, z]).then(([re, ge]) => {
                var ur, or;
                if ($ !== this.pdfDocument)
                  return;
                this._firstPageCapability.resolve(re), this._optionalContentConfigPromise = ie;
                const {
                  annotationEditorMode: xe,
                  annotationMode: Oe,
                  textLayerMode: Ue
                } = j(this, Ge, Df).call(this, ge);
                if (Ue !== d.TextLayerMode.DISABLE) {
                  const wt = B(this, Q, document.createElement("div"));
                  wt.id = "hiddenCopyElement", this.viewer.before(wt);
                }
                if (xe !== l.AnnotationEditorType.DISABLE) {
                  const wt = xe;
                  $.isPureXfa ? console.warn("Warning: XFA-editing is not implemented.") : A(wt) ? (B(this, J, new l.AnnotationEditorUIManager(this.container, this.viewer, p(this, R), this.eventBus, $, this.pageColors)), wt !== l.AnnotationEditorType.NONE && p(this, J).updateMode(wt)) : console.error(`Invalid AnnotationEditor mode: ${wt}`);
                }
                const Ae = j(this, Re, Rf).bind(this), Qe = this._scrollMode === d.ScrollMode.PAGE ? null : this.viewer, Xe = this.currentScale, nr = re.getViewport({
                  scale: Xe * l.PixelsPerInch.PDF_TO_CSS_UNITS
                });
                this.viewer.style.setProperty("--scale-factor", nr.scale), (((ur = this.pageColors) == null ? void 0 : ur.foreground) === "CanvasText" || ((or = this.pageColors) == null ? void 0 : or.background) === "Canvas") && this.viewer.style.setProperty("--hcm-highligh-filter", $.filterFactory.addHighlightHCMFilter("CanvasText", "Canvas", "HighlightText", "Highlight"));
                for (let wt = 1; wt <= N; ++wt) {
                  const br = new y.PDFPageView({
                    container: Qe,
                    eventBus: this.eventBus,
                    id: wt,
                    scale: Xe,
                    defaultViewport: nr.clone(),
                    optionalContentConfigPromise: ie,
                    renderingQueue: this.renderingQueue,
                    textLayerMode: Ue,
                    annotationMode: Oe,
                    imageResourcesPath: this.imageResourcesPath,
                    isOffscreenCanvasSupported: this.isOffscreenCanvasSupported,
                    maxCanvasPixels: this.maxCanvasPixels,
                    pageColors: this.pageColors,
                    l10n: this.l10n,
                    layerProperties: Ae
                  });
                  this._pages.push(br);
                }
                const Rr = this._pages[0];
                Rr && (Rr.setPdfPage(re), this.linkService.cachePageRef(1, re.ref)), this._scrollMode === d.ScrollMode.PAGE ? j(this, bt, Ja).call(this) : this._spreadMode !== d.SpreadMode.NONE && this._updateSpreadMode(), j(this, it, Ff).call(this).then(async () => {
                  var br, Oo;
                  if ((br = this.findController) == null || br.setDocument($), (Oo = this._scriptingManager) == null || Oo.setDocument($), p(this, Q) && (B(this, K, j(this, Fe, zf).bind(this, Ue)), document.addEventListener("copy", p(this, K))), p(this, J) && this.eventBus.dispatch("annotationeditormodechanged", {
                    source: this,
                    mode: p(this, U)
                  }), $.loadingParams.disableAutoFetch || N > E.FORCE_LAZY_PAGE_INIT) {
                    this._pagesCapability.resolve();
                    return;
                  }
                  let wt = N - 1;
                  if (wt <= 0) {
                    this._pagesCapability.resolve();
                    return;
                  }
                  for (let ai = 2; ai <= N; ++ai) {
                    const Il = $.getPage(ai).then((Io) => {
                      const Qt = this._pages[ai - 1];
                      Qt.pdfPage || Qt.setPdfPage(Io), this.linkService.cachePageRef(ai, Io.ref), --wt === 0 && this._pagesCapability.resolve();
                    }, (Io) => {
                      console.error(`Unable to get page ${ai} to initialize viewer`, Io), --wt === 0 && this._pagesCapability.resolve();
                    });
                    ai % E.PAUSE_EAGER_PAGE_INIT === 0 && await Il;
                  }
                }), this.eventBus.dispatch("pagesinit", {
                  source: this
                }), $.getMetadata().then(({
                  info: wt
                }) => {
                  $ === this.pdfDocument && wt.Language && (this.viewer.lang = wt.Language);
                }), this.defaultRenderingQueue && this.update();
              }).catch((re) => {
                console.error("Unable to initialize viewer", re), this._pagesCapability.reject(re);
              });
            }
            setPageLabels($) {
              var N;
              if (this.pdfDocument) {
                $ ? Array.isArray($) && this.pdfDocument.numPages === $.length ? this._pageLabels = $ : (this._pageLabels = null, console.error("setPageLabels: Invalid page labels.")) : this._pageLabels = null;
                for (let se = 0, ie = this._pages.length; se < ie; se++)
                  this._pages[se].setPageLabel(((N = this._pageLabels) == null ? void 0 : N[se]) ?? null);
              }
            }
            _resetView() {
              this._pages = [], this._currentPageNumber = 1, this._currentScale = d.UNKNOWN_SCALE, this._currentScaleValue = null, this._pageLabels = null, B(this, L, new _(C)), this._location = null, this._pagesRotation = 0, this._optionalContentConfigPromise = null, this._firstPageCapability = new l.PromiseCapability(), this._onePageRenderedCapability = new l.PromiseCapability(), this._pagesCapability = new l.PromiseCapability(), this._scrollMode = d.ScrollMode.VERTICAL, this._previousScrollMode = d.ScrollMode.UNKNOWN, this._spreadMode = d.SpreadMode.NONE, B(this, de, {
                previousPageNumber: 1,
                scrollDown: !0,
                pages: []
              }), this._onBeforeDraw && (this.eventBus._off("pagerender", this._onBeforeDraw), this._onBeforeDraw = null), this._onAfterDraw && (this.eventBus._off("pagerendered", this._onAfterDraw), this._onAfterDraw = null), p(this, ve) && (document.removeEventListener("visibilitychange", p(this, ve)), B(this, ve, null)), this.viewer.textContent = "", this._updateScrollMode(), this.viewer.removeAttribute("lang"), p(this, Q) && (document.removeEventListener("copy", p(this, K)), B(this, K, null), p(this, Q).remove(), B(this, Q, null));
            }
            _scrollUpdate() {
              this.pagesCount !== 0 && this.update();
            }
            pageLabelToPageNumber($) {
              if (!this._pageLabels)
                return null;
              const N = this._pageLabels.indexOf($);
              return N < 0 ? null : N + 1;
            }
            scrollPageIntoView({
              pageNumber: $,
              destArray: N = null,
              allowNegativeOffset: se = !1,
              ignoreDestinationZoom: ie = !1
            }) {
              if (!this.pdfDocument)
                return;
              const z = Number.isInteger($) && this._pages[$ - 1];
              if (!z) {
                console.error(`scrollPageIntoView: "${$}" is not a valid pageNumber parameter.`);
                return;
              }
              if (this.isInPresentationMode || !N) {
                this._setCurrentPageNumber($, !0);
                return;
              }
              let q = 0, G = 0, re = 0, ge = 0, xe, Oe;
              const Ue = z.rotation % 180 !== 0, Ae = (Ue ? z.height : z.width) / z.scale / l.PixelsPerInch.PDF_TO_CSS_UNITS, Qe = (Ue ? z.width : z.height) / z.scale / l.PixelsPerInch.PDF_TO_CSS_UNITS;
              let Xe = 0;
              switch (N[1].name) {
                case "XYZ":
                  q = N[2], G = N[3], Xe = N[4], q = q !== null ? q : 0, G = G !== null ? G : Qe;
                  break;
                case "Fit":
                case "FitB":
                  Xe = "page-fit";
                  break;
                case "FitH":
                case "FitBH":
                  G = N[2], Xe = "page-width", G === null && this._location ? (q = this._location.left, G = this._location.top) : (typeof G != "number" || G < 0) && (G = Qe);
                  break;
                case "FitV":
                case "FitBV":
                  q = N[2], re = Ae, ge = Qe, Xe = "page-height";
                  break;
                case "FitR":
                  q = N[2], G = N[3], re = N[4] - q, ge = N[5] - G;
                  let or = d.SCROLLBAR_PADDING, wt = d.VERTICAL_PADDING;
                  this.removePageBorders && (or = wt = 0), xe = (this.container.clientWidth - or) / re / l.PixelsPerInch.PDF_TO_CSS_UNITS, Oe = (this.container.clientHeight - wt) / ge / l.PixelsPerInch.PDF_TO_CSS_UNITS, Xe = Math.min(Math.abs(xe), Math.abs(Oe));
                  break;
                default:
                  console.error(`scrollPageIntoView: "${N[1].name}" is not a valid destination type.`);
                  return;
              }
              if (ie || (Xe && Xe !== this._currentScale ? this.currentScaleValue = Xe : this._currentScale === d.UNKNOWN_SCALE && (this.currentScaleValue = d.DEFAULT_SCALE_VALUE)), Xe === "page-fit" && !N[4]) {
                j(this, oe, zc).call(this, z);
                return;
              }
              const nr = [z.viewport.convertToViewportPoint(q, G), z.viewport.convertToViewportPoint(q + re, G + ge)];
              let Rr = Math.min(nr[0][0], nr[1][0]), ur = Math.min(nr[0][1], nr[1][1]);
              se || (Rr = Math.max(Rr, 0), ur = Math.max(ur, 0)), j(this, oe, zc).call(this, z, {
                left: Rr,
                top: ur
              });
            }
            _updateLocation($) {
              const N = this._currentScale, se = this._currentScaleValue, ie = parseFloat(se) === N ? Math.round(N * 1e4) / 100 : se, z = $.id, q = this._pages[z - 1], G = this.container, re = q.getPagePoint(G.scrollLeft - $.x, G.scrollTop - $.y), ge = Math.round(re[0]), xe = Math.round(re[1]);
              let Oe = `#page=${z}`;
              this.isInPresentationMode || (Oe += `&zoom=${ie},${ge},${xe}`), this._location = {
                pageNumber: z,
                scale: ie,
                top: xe,
                left: ge,
                rotation: this._pagesRotation,
                pdfOpenParams: Oe
              };
            }
            update() {
              const $ = this._getVisiblePages(), N = $.views, se = N.length;
              if (se === 0)
                return;
              const ie = Math.max(C, 2 * se + 1);
              p(this, L).resize(ie, $.ids), this.renderingQueue.renderHighestPriority($);
              const z = this._spreadMode === d.SpreadMode.NONE && (this._scrollMode === d.ScrollMode.PAGE || this._scrollMode === d.ScrollMode.VERTICAL), q = this._currentPageNumber;
              let G = !1;
              for (const re of N) {
                if (re.percent < 100)
                  break;
                if (re.id === q && z) {
                  G = !0;
                  break;
                }
              }
              this._setCurrentPageNumber(G ? q : N[0].id), this._updateLocation($.first), this.eventBus.dispatch("updateviewarea", {
                source: this,
                location: this._location
              });
            }
            containsElement($) {
              return this.container.contains($);
            }
            focus() {
              this.container.focus();
            }
            get _isContainerRtl() {
              return getComputedStyle(this.container).direction === "rtl";
            }
            get isInPresentationMode() {
              return this.presentationModeState === d.PresentationModeState.FULLSCREEN;
            }
            get isChangingPresentationMode() {
              return this.presentationModeState === d.PresentationModeState.CHANGING;
            }
            get isHorizontalScrollbarEnabled() {
              return this.isInPresentationMode ? !1 : this.container.scrollWidth > this.container.clientWidth;
            }
            get isVerticalScrollbarEnabled() {
              return this.isInPresentationMode ? !1 : this.container.scrollHeight > this.container.clientHeight;
            }
            _getVisiblePages() {
              const $ = this._scrollMode === d.ScrollMode.PAGE ? p(this, de).pages : this._pages, N = this._scrollMode === d.ScrollMode.HORIZONTAL, se = N && this._isContainerRtl;
              return (0, d.getVisibleElements)({
                scrollEl: this.container,
                views: $,
                sortByVisibility: !0,
                horizontal: N,
                rtl: se
              });
            }
            cleanup() {
              for (const $ of this._pages)
                $.renderingState !== d.RenderingStates.FINISHED && $.reset();
            }
            _cancelRendering() {
              for (const $ of this._pages)
                $.cancelRendering();
            }
            forceRendering($) {
              const N = $ || this._getVisiblePages(), se = j(this, ce, Hf).call(this, N), ie = this._spreadMode !== d.SpreadMode.NONE && this._scrollMode !== d.ScrollMode.HORIZONTAL, z = this.renderingQueue.getHighestPriority(N, this._pages, se, ie);
              return z ? (j(this, H, Bf).call(this, z).then(() => {
                this.renderingQueue.renderView(z);
              }), !0) : !1;
            }
            get hasEqualPageSizes() {
              const $ = this._pages[0];
              for (let N = 1, se = this._pages.length; N < se; ++N) {
                const ie = this._pages[N];
                if (ie.width !== $.width || ie.height !== $.height)
                  return !1;
              }
              return !0;
            }
            getPagesOverview() {
              let $;
              return this._pages.map((N) => {
                const se = N.pdfPage.getViewport({
                  scale: 1
                }), ie = (0, d.isPortraitOrientation)(se);
                if ($ === void 0)
                  $ = ie;
                else if (this.enablePrintAutoRotate && ie !== $)
                  return {
                    width: se.height,
                    height: se.width,
                    rotation: (se.rotation - 90) % 360
                  };
                return {
                  width: se.width,
                  height: se.height,
                  rotation: se.rotation
                };
              });
            }
            get optionalContentConfigPromise() {
              return this.pdfDocument ? this._optionalContentConfigPromise ? this._optionalContentConfigPromise : (console.error("optionalContentConfigPromise: Not initialized yet."), this.pdfDocument.getOptionalContentConfig()) : Promise.resolve(null);
            }
            set optionalContentConfigPromise($) {
              if (!($ instanceof Promise))
                throw new Error(`Invalid optionalContentConfigPromise: ${$}`);
              this.pdfDocument && this._optionalContentConfigPromise && (this._optionalContentConfigPromise = $, this.refresh(!1, {
                optionalContentConfigPromise: $
              }), this.eventBus.dispatch("optionalcontentconfigchanged", {
                source: this,
                promise: $
              }));
            }
            get scrollMode() {
              return this._scrollMode;
            }
            set scrollMode($) {
              if (this._scrollMode !== $) {
                if (!(0, d.isValidScrollMode)($))
                  throw new Error(`Invalid scroll mode: ${$}`);
                this.pagesCount > E.FORCE_SCROLL_MODE_PAGE || (this._previousScrollMode = this._scrollMode, this._scrollMode = $, this.eventBus.dispatch("scrollmodechanged", {
                  source: this,
                  mode: $
                }), this._updateScrollMode(this._currentPageNumber));
              }
            }
            _updateScrollMode($ = null) {
              const N = this._scrollMode, se = this.viewer;
              se.classList.toggle("scrollHorizontal", N === d.ScrollMode.HORIZONTAL), se.classList.toggle("scrollWrapped", N === d.ScrollMode.WRAPPED), !(!this.pdfDocument || !$) && (N === d.ScrollMode.PAGE ? j(this, bt, Ja).call(this) : this._previousScrollMode === d.ScrollMode.PAGE && this._updateSpreadMode(), this._currentScaleValue && isNaN(this._currentScaleValue) && j(this, u, ji).call(this, this._currentScaleValue, {
                noScroll: !0
              }), this._setCurrentPageNumber($, !0), this.update());
            }
            get spreadMode() {
              return this._spreadMode;
            }
            set spreadMode($) {
              if (this._spreadMode !== $) {
                if (!(0, d.isValidSpreadMode)($))
                  throw new Error(`Invalid spread mode: ${$}`);
                this._spreadMode = $, this.eventBus.dispatch("spreadmodechanged", {
                  source: this,
                  mode: $
                }), this._updateSpreadMode(this._currentPageNumber);
              }
            }
            _updateSpreadMode($ = null) {
              if (!this.pdfDocument)
                return;
              const N = this.viewer, se = this._pages;
              if (this._scrollMode === d.ScrollMode.PAGE)
                j(this, bt, Ja).call(this);
              else if (N.textContent = "", this._spreadMode === d.SpreadMode.NONE)
                for (const ie of this._pages)
                  N.append(ie.div);
              else {
                const ie = this._spreadMode - 1;
                let z = null;
                for (let q = 0, G = se.length; q < G; ++q)
                  z === null ? (z = document.createElement("div"), z.className = "spread", N.append(z)) : q % 2 === ie && (z = z.cloneNode(!1), N.append(z)), z.append(se[q].div);
              }
              $ && (this._currentScaleValue && isNaN(this._currentScaleValue) && j(this, u, ji).call(this, this._currentScaleValue, {
                noScroll: !0
              }), this._setCurrentPageNumber($, !0), this.update());
            }
            _getPageAdvance($, N = !1) {
              switch (this._scrollMode) {
                case d.ScrollMode.WRAPPED: {
                  const {
                    views: se
                  } = this._getVisiblePages(), ie = /* @__PURE__ */ new Map();
                  for (const {
                    id: z,
                    y: q,
                    percent: G,
                    widthPercent: re
                  } of se) {
                    if (G === 0 || re < 100)
                      continue;
                    let ge = ie.get(q);
                    ge || ie.set(q, ge || (ge = [])), ge.push(z);
                  }
                  for (const z of ie.values()) {
                    const q = z.indexOf($);
                    if (q === -1)
                      continue;
                    const G = z.length;
                    if (G === 1)
                      break;
                    if (N)
                      for (let re = q - 1, ge = 0; re >= ge; re--) {
                        const xe = z[re], Oe = z[re + 1] - 1;
                        if (xe < Oe)
                          return $ - Oe;
                      }
                    else
                      for (let re = q + 1, ge = G; re < ge; re++) {
                        const xe = z[re], Oe = z[re - 1] + 1;
                        if (xe > Oe)
                          return Oe - $;
                      }
                    if (N) {
                      const re = z[0];
                      if (re < $)
                        return $ - re + 1;
                    } else {
                      const re = z[G - 1];
                      if (re > $)
                        return re - $ + 1;
                    }
                    break;
                  }
                  break;
                }
                case d.ScrollMode.HORIZONTAL:
                  break;
                case d.ScrollMode.PAGE:
                case d.ScrollMode.VERTICAL: {
                  if (this._spreadMode === d.SpreadMode.NONE)
                    break;
                  const se = this._spreadMode - 1;
                  if (N && $ % 2 !== se)
                    break;
                  if (!N && $ % 2 === se)
                    break;
                  const {
                    views: ie
                  } = this._getVisiblePages(), z = N ? $ - 1 : $ + 1;
                  for (const {
                    id: q,
                    percent: G,
                    widthPercent: re
                  } of ie)
                    if (q === z) {
                      if (G > 0 && re === 100)
                        return 2;
                      break;
                    }
                  break;
                }
              }
              return 1;
            }
            nextPage() {
              const $ = this._currentPageNumber, N = this.pagesCount;
              if ($ >= N)
                return !1;
              const se = this._getPageAdvance($, !1) || 1;
              return this.currentPageNumber = Math.min($ + se, N), !0;
            }
            previousPage() {
              const $ = this._currentPageNumber;
              if ($ <= 1)
                return !1;
              const N = this._getPageAdvance($, !0) || 1;
              return this.currentPageNumber = Math.max($ - N, 1), !0;
            }
            increaseScale({
              drawingDelay: $,
              scaleFactor: N,
              steps: se
            } = {}) {
              if (!this.pdfDocument)
                return;
              let ie = this._currentScale;
              if (N > 1)
                ie = Math.round(ie * N * 100) / 100;
              else {
                se ?? (se = 1);
                do
                  ie = Math.ceil((ie * d.DEFAULT_SCALE_DELTA).toFixed(2) * 10) / 10;
                while (--se > 0 && ie < d.MAX_SCALE);
              }
              j(this, u, ji).call(this, Math.min(d.MAX_SCALE, ie), {
                noScroll: !1,
                drawingDelay: $
              });
            }
            decreaseScale({
              drawingDelay: $,
              scaleFactor: N,
              steps: se
            } = {}) {
              if (!this.pdfDocument)
                return;
              let ie = this._currentScale;
              if (N > 0 && N < 1)
                ie = Math.round(ie * N * 100) / 100;
              else {
                se ?? (se = 1);
                do
                  ie = Math.floor((ie / d.DEFAULT_SCALE_DELTA).toFixed(2) * 10) / 10;
                while (--se > 0 && ie > d.MIN_SCALE);
              }
              j(this, u, ji).call(this, Math.max(d.MIN_SCALE, ie), {
                noScroll: !1,
                drawingDelay: $
              });
            }
            get containerTopLeft() {
              return p(this, ue) || B(this, ue, [this.container.offsetTop, this.container.offsetLeft]);
            }
            get annotationEditorMode() {
              return p(this, J) ? p(this, U) : l.AnnotationEditorType.DISABLE;
            }
            set annotationEditorMode({
              mode: $,
              editId: N = null
            }) {
              if (!p(this, J))
                throw new Error("The AnnotationEditor is not enabled.");
              if (p(this, U) !== $) {
                if (!A($))
                  throw new Error(`Invalid AnnotationEditor mode: ${$}`);
                this.pdfDocument && (B(this, U, $), this.eventBus.dispatch("annotationeditormodechanged", {
                  source: this,
                  mode: $
                }), p(this, J).updateMode($, N));
              }
            }
            set annotationEditorParams({
              type: $,
              value: N
            }) {
              if (!p(this, J))
                throw new Error("The AnnotationEditor is not enabled.");
              p(this, J).updateParams($, N);
            }
            refresh($ = !1, N = /* @__PURE__ */ Object.create(null)) {
              if (this.pdfDocument) {
                for (const se of this._pages)
                  se.update(N);
                p(this, me) !== null && (clearTimeout(p(this, me)), B(this, me, null)), $ || this.update();
              }
            }
          }
          L = new WeakMap(), R = new WeakMap(), U = new WeakMap(), J = new WeakMap(), ne = new WeakMap(), ue = new WeakMap(), K = new WeakMap(), ae = new WeakMap(), ee = new WeakMap(), Q = new WeakMap(), Z = new WeakMap(), le = new WeakMap(), O = new WeakMap(), de = new WeakMap(), ve = new WeakMap(), me = new WeakMap(), Ce = new WeakMap(), Re = new WeakSet(), Rf = function() {
            const $ = this;
            return {
              get annotationEditorUIManager() {
                return p($, J);
              },
              get annotationStorage() {
                var N;
                return (N = $.pdfDocument) == null ? void 0 : N.annotationStorage;
              },
              get downloadManager() {
                return $.downloadManager;
              },
              get enableScripting() {
                return !!$._scriptingManager;
              },
              get fieldObjectsPromise() {
                var N;
                return (N = $.pdfDocument) == null ? void 0 : N.getFieldObjects();
              },
              get findController() {
                return $.findController;
              },
              get hasJSActionsPromise() {
                var N;
                return (N = $.pdfDocument) == null ? void 0 : N.hasJSActions();
              },
              get linkService() {
                return $.linkService;
              }
            };
          }, Ge = new WeakSet(), Df = function($) {
            const N = {
              annotationEditorMode: p(this, U),
              annotationMode: p(this, ne),
              textLayerMode: p(this, Ce)
            };
            return $ && (!$.includes(l.PermissionFlag.COPY) && p(this, Ce) === d.TextLayerMode.ENABLE && (N.textLayerMode = d.TextLayerMode.ENABLE_PERMISSIONS), $.includes(l.PermissionFlag.MODIFY_CONTENTS) || (N.annotationEditorMode = l.AnnotationEditorType.DISABLE), !$.includes(l.PermissionFlag.MODIFY_ANNOTATIONS) && !$.includes(l.PermissionFlag.FILL_INTERACTIVE_FORMS) && p(this, ne) === l.AnnotationMode.ENABLE_FORMS && (N.annotationMode = l.AnnotationMode.ENABLE)), N;
          }, it = new WeakSet(), Ff = function() {
            if (document.visibilityState === "hidden" || !this.container.offsetParent || this._getVisiblePages().views.length === 0)
              return Promise.resolve();
            const $ = new Promise((N) => {
              B(this, ve, () => {
                document.visibilityState === "hidden" && (N(), document.removeEventListener("visibilitychange", p(this, ve)), B(this, ve, null));
              }), document.addEventListener("visibilitychange", p(this, ve));
            });
            return Promise.race([this._onePageRenderedCapability.promise, $]);
          }, Fe = new WeakSet(), zf = function($, N) {
            const se = document.getSelection(), {
              focusNode: ie,
              anchorNode: z
            } = se;
            if (z && ie && se.containsNode(p(this, Q))) {
              if (p(this, ee) || $ === d.TextLayerMode.ENABLE_PERMISSIONS) {
                N.preventDefault(), N.stopPropagation();
                return;
              }
              B(this, ee, !0);
              const q = this.container.style.cursor;
              this.container.style.cursor = "wait";
              const G = (re) => B(this, Z, re.key === "Escape");
              window.addEventListener("keydown", G), this.getAllText().then(async (re) => {
                re !== null && await navigator.clipboard.writeText(re);
              }).catch((re) => {
                console.warn(`Something goes wrong when extracting the text: ${re.message}`);
              }).finally(() => {
                B(this, ee, !1), B(this, Z, !1), window.removeEventListener("keydown", G), this.container.style.cursor = q;
              }), N.preventDefault(), N.stopPropagation();
            }
          }, bt = new WeakSet(), Ja = function() {
            if (this._scrollMode !== d.ScrollMode.PAGE)
              throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");
            const $ = this._currentPageNumber, N = p(this, de), se = this.viewer;
            if (se.textContent = "", N.pages.length = 0, this._spreadMode === d.SpreadMode.NONE && !this.isInPresentationMode) {
              const ie = this._pages[$ - 1];
              se.append(ie.div), N.pages.push(ie);
            } else {
              const ie = /* @__PURE__ */ new Set(), z = this._spreadMode - 1;
              z === -1 ? ie.add($ - 1) : $ % 2 !== z ? (ie.add($ - 1), ie.add($)) : (ie.add($ - 2), ie.add($ - 1));
              const q = document.createElement("div");
              if (q.className = "spread", this.isInPresentationMode) {
                const G = document.createElement("div");
                G.className = "dummyPage", q.append(G);
              }
              for (const G of ie) {
                const re = this._pages[G];
                re && (q.append(re.div), N.pages.push(re));
              }
              se.append(q);
            }
            N.scrollDown = $ >= N.previousPageNumber, N.previousPageNumber = $;
          }, oe = new WeakSet(), zc = function($, N = null) {
            const {
              div: se,
              id: ie
            } = $;
            if (this._currentPageNumber !== ie && this._setCurrentPageNumber(ie), this._scrollMode === d.ScrollMode.PAGE && (j(this, bt, Ja).call(this), this.update()), !N && !this.isInPresentationMode) {
              const z = se.offsetLeft + se.clientLeft, q = z + se.clientWidth, {
                scrollLeft: G,
                clientWidth: re
              } = this.container;
              (this._scrollMode === d.ScrollMode.HORIZONTAL || z < G || q > G + re) && (N = {
                left: 0,
                top: 0
              });
            }
            (0, d.scrollIntoView)(se, N), !this._currentScaleValue && this._location && (this._location = null);
          }, _e = new WeakSet(), Vf = function($) {
            return $ === this._currentScale || Math.abs($ - this._currentScale) < 1e-15;
          }, Ee = new WeakSet(), nu = function($, N, {
            noScroll: se = !1,
            preset: ie = !1,
            drawingDelay: z = -1
          }) {
            if (this._currentScaleValue = N.toString(), j(this, _e, Vf).call(this, $)) {
              ie && this.eventBus.dispatch("scalechanging", {
                source: this,
                scale: $,
                presetValue: N
              });
              return;
            }
            this.viewer.style.setProperty("--scale-factor", $ * l.PixelsPerInch.PDF_TO_CSS_UNITS);
            const q = z >= 0 && z < 1e3;
            if (this.refresh(!0, {
              scale: $,
              drawingDelay: q ? z : -1
            }), q && B(this, me, setTimeout(() => {
              B(this, me, null), this.refresh();
            }, z)), this._currentScale = $, !se) {
              let G = this._currentPageNumber, re;
              this._location && !(this.isInPresentationMode || this.isChangingPresentationMode) && (G = this._location.pageNumber, re = [null, {
                name: "XYZ"
              }, this._location.left, this._location.top, null]), this.scrollPageIntoView({
                pageNumber: G,
                destArray: re,
                allowNegativeOffset: !0
              });
            }
            this.eventBus.dispatch("scalechanging", {
              source: this,
              scale: $,
              presetValue: ie ? N : void 0
            }), this.defaultRenderingQueue && this.update();
          }, Y = new WeakSet(), Nf = function() {
            return this._spreadMode !== d.SpreadMode.NONE && this._scrollMode !== d.ScrollMode.HORIZONTAL ? 2 : 1;
          }, u = new WeakSet(), ji = function($, N) {
            let se = parseFloat($);
            if (se > 0)
              N.preset = !1, j(this, Ee, nu).call(this, se, $, N);
            else {
              const ie = this._pages[this._currentPageNumber - 1];
              if (!ie)
                return;
              let z = d.SCROLLBAR_PADDING, q = d.VERTICAL_PADDING;
              this.isInPresentationMode ? (z = q = 4, this._spreadMode !== d.SpreadMode.NONE && (z *= 2)) : this.removePageBorders ? z = q = 0 : this._scrollMode === d.ScrollMode.HORIZONTAL && ([z, q] = [q, z]);
              const G = (this.container.clientWidth - z) / ie.width * ie.scale / p(this, Y, Nf), re = (this.container.clientHeight - q) / ie.height * ie.scale;
              switch ($) {
                case "page-actual":
                  se = 1;
                  break;
                case "page-width":
                  se = G;
                  break;
                case "page-height":
                  se = re;
                  break;
                case "page-fit":
                  se = Math.min(G, re);
                  break;
                case "auto":
                  const ge = (0, d.isPortraitOrientation)(ie) ? G : Math.min(re, G);
                  se = Math.min(d.MAX_AUTO_SCALE, ge);
                  break;
                default:
                  console.error(`#setScale: "${$}" is an unknown zoom value.`);
                  return;
              }
              N.preset = !0, j(this, Ee, nu).call(this, se, $, N);
            }
          }, P = new WeakSet(), ou = function() {
            const $ = this._pages[this._currentPageNumber - 1];
            this.isInPresentationMode && j(this, u, ji).call(this, this._currentScaleValue, {
              noScroll: !0
            }), j(this, oe, zc).call(this, $);
          }, H = new WeakSet(), Bf = async function($) {
            var N, se;
            if ($.pdfPage)
              return $.pdfPage;
            try {
              const ie = await this.pdfDocument.getPage($.id);
              return $.pdfPage || $.setPdfPage(ie), (se = (N = this.linkService)._cachedPageNumber) != null && se.call(N, ie.ref) || this.linkService.cachePageRef($.id, ie.ref), ie;
            } catch (ie) {
              return console.error("Unable to get page for page view", ie), null;
            }
          }, ce = new WeakSet(), Hf = function($) {
            var N, se;
            if (((N = $.first) == null ? void 0 : N.id) === 1)
              return !0;
            if (((se = $.last) == null ? void 0 : se.id) === this.pagesCount)
              return !1;
            switch (this._scrollMode) {
              case d.ScrollMode.PAGE:
                return p(this, de).scrollDown;
              case d.ScrollMode.HORIZONTAL:
                return this.scroll.right;
            }
            return this.scroll.down;
          }, be = new WeakSet(), au = function($ = this.container.clientHeight) {
            $ !== p(this, le) && (B(this, le, $), d.docStyle.setProperty("--viewer-container-height", `${$}px`));
          }, pt = new WeakSet(), jf = function($) {
            for (const N of $)
              if (N.target === this.container) {
                j(this, be, au).call(this, Math.floor(N.borderBoxSize[0].blockSize)), B(this, ue, null);
                break;
              }
          }, s.PDFViewer = x;
        },
        /* 26 */
        /***/
        (a, s, c) => {
          Object.defineProperty(s, "__esModule", {
            value: !0
          }), s.PDFRenderingQueue = void 0;
          var l = c(4), d = c(2);
          const h = 3e4;
          class y {
            constructor() {
              this.pdfViewer = null, this.pdfThumbnailViewer = null, this.onIdle = null, this.highestPriorityPage = null, this.idleTimeout = null, this.printing = !1, this.isThumbnailViewEnabled = !1, Object.defineProperty(this, "hasViewer", {
                value: () => !!this.pdfViewer
              });
            }
            setViewer(b) {
              this.pdfViewer = b;
            }
            setThumbnailViewer(b) {
              this.pdfThumbnailViewer = b;
            }
            isHighestPriority(b) {
              return this.highestPriorityPage === b.renderingId;
            }
            renderHighestPriority(b) {
              var C;
              this.idleTimeout && (clearTimeout(this.idleTimeout), this.idleTimeout = null), !this.pdfViewer.forceRendering(b) && (this.isThumbnailViewEnabled && ((C = this.pdfThumbnailViewer) != null && C.forceRendering()) || this.printing || this.onIdle && (this.idleTimeout = setTimeout(this.onIdle.bind(this), h)));
            }
            getHighestPriority(b, C, E, A = !1) {
              const _ = b.views, x = _.length;
              if (x === 0)
                return null;
              for (let L = 0; L < x; L++) {
                const R = _[L].view;
                if (!this.isViewFinished(R))
                  return R;
              }
              const T = b.first.id, k = b.last.id;
              if (k - T + 1 > x) {
                const L = b.ids;
                for (let R = 1, U = k - T; R < U; R++) {
                  const J = E ? T + R : k - R;
                  if (L.has(J))
                    continue;
                  const ne = C[J - 1];
                  if (!this.isViewFinished(ne))
                    return ne;
                }
              }
              let g = E ? k : T - 2, S = C[g];
              return S && !this.isViewFinished(S) || A && (g += E ? 1 : -1, S = C[g], S && !this.isViewFinished(S)) ? S : null;
            }
            isViewFinished(b) {
              return b.renderingState === d.RenderingStates.FINISHED;
            }
            renderView(b) {
              switch (b.renderingState) {
                case d.RenderingStates.FINISHED:
                  return !1;
                case d.RenderingStates.PAUSED:
                  this.highestPriorityPage = b.renderingId, b.resume();
                  break;
                case d.RenderingStates.RUNNING:
                  this.highestPriorityPage = b.renderingId;
                  break;
                case d.RenderingStates.INITIAL:
                  this.highestPriorityPage = b.renderingId, b.draw().finally(() => {
                    this.renderHighestPriority();
                  }).catch((C) => {
                    C instanceof l.RenderingCancelledException || console.error(`renderView: "${C}"`);
                  });
                  break;
              }
              return !0;
            }
          }
          s.PDFRenderingQueue = y;
        }
        /******/
      ], i = {};
      function n(a) {
        var s = i[a];
        if (s !== void 0)
          return s.exports;
        var c = i[a] = {
          /******/
          // no module.id needed
          /******/
          // no module.loaded needed
          /******/
          exports: {}
          /******/
        };
        return r[a](c, c.exports, n), c.exports;
      }
      var o = {};
      return (() => {
        var a = o;
        Object.defineProperty(a, "__esModule", {
          value: !0
        }), Object.defineProperty(a, "AnnotationLayerBuilder", {
          enumerable: !0,
          get: function() {
            return d.AnnotationLayerBuilder;
          }
        }), Object.defineProperty(a, "DownloadManager", {
          enumerable: !0,
          get: function() {
            return h.DownloadManager;
          }
        }), Object.defineProperty(a, "EventBus", {
          enumerable: !0,
          get: function() {
            return y.EventBus;
          }
        }), Object.defineProperty(a, "FindState", {
          enumerable: !0,
          get: function() {
            return s.FindState;
          }
        }), Object.defineProperty(a, "GenericL10n", {
          enumerable: !0,
          get: function() {
            return w.GenericL10n;
          }
        }), Object.defineProperty(a, "LinkTarget", {
          enumerable: !0,
          get: function() {
            return c.LinkTarget;
          }
        }), Object.defineProperty(a, "NullL10n", {
          enumerable: !0,
          get: function() {
            return b.NullL10n;
          }
        }), Object.defineProperty(a, "PDFFindController", {
          enumerable: !0,
          get: function() {
            return s.PDFFindController;
          }
        }), Object.defineProperty(a, "PDFHistory", {
          enumerable: !0,
          get: function() {
            return C.PDFHistory;
          }
        }), Object.defineProperty(a, "PDFLinkService", {
          enumerable: !0,
          get: function() {
            return c.PDFLinkService;
          }
        }), Object.defineProperty(a, "PDFPageView", {
          enumerable: !0,
          get: function() {
            return E.PDFPageView;
          }
        }), Object.defineProperty(a, "PDFScriptingManager", {
          enumerable: !0,
          get: function() {
            return A.PDFScriptingManager;
          }
        }), Object.defineProperty(a, "PDFSinglePageViewer", {
          enumerable: !0,
          get: function() {
            return _.PDFSinglePageViewer;
          }
        }), Object.defineProperty(a, "PDFViewer", {
          enumerable: !0,
          get: function() {
            return x.PDFViewer;
          }
        }), Object.defineProperty(a, "ProgressBar", {
          enumerable: !0,
          get: function() {
            return l.ProgressBar;
          }
        }), Object.defineProperty(a, "RenderingStates", {
          enumerable: !0,
          get: function() {
            return l.RenderingStates;
          }
        }), Object.defineProperty(a, "ScrollMode", {
          enumerable: !0,
          get: function() {
            return l.ScrollMode;
          }
        }), Object.defineProperty(a, "SimpleLinkService", {
          enumerable: !0,
          get: function() {
            return c.SimpleLinkService;
          }
        }), Object.defineProperty(a, "SpreadMode", {
          enumerable: !0,
          get: function() {
            return l.SpreadMode;
          }
        }), Object.defineProperty(a, "StructTreeLayerBuilder", {
          enumerable: !0,
          get: function() {
            return T.StructTreeLayerBuilder;
          }
        }), Object.defineProperty(a, "TextLayerBuilder", {
          enumerable: !0,
          get: function() {
            return k.TextLayerBuilder;
          }
        }), Object.defineProperty(a, "XfaLayerBuilder", {
          enumerable: !0,
          get: function() {
            return g.XfaLayerBuilder;
          }
        }), Object.defineProperty(a, "parseQueryString", {
          enumerable: !0,
          get: function() {
            return l.parseQueryString;
          }
        });
        var s = n(1), c = n(5), l = n(2), d = n(6), h = n(8), y = n(9), w = n(10), b = n(7), C = n(12), E = n(13), A = n(21), _ = n(24), x = n(25), T = n(16), k = n(19), g = n(20);
      })(), o;
    })()
  ));
})(gf);
var Cc = gf.exports, hx = Object.defineProperty, yx = Object.getOwnPropertyDescriptor, Ll = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? yx(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && hx(t, r, n), n;
};
let fa = class extends we {
  constructor() {
    super(...arguments), this.DEFAULT_SCALE_DELTA = 1.1, this.MAX_SCALE = 3, this.MIN_SCALE = 0.2, this.SEARCH_FOR = "", this.ENABLE_XFA = !0, this.CMAP_PACKED = !0, this.pageNumberRef = Ve(), this.totalPagesRef = Ve(), this.zoomLevelRef = Ve(), this.viewerContainerRef = Ve(), this.pdfEventBus = new Cc.EventBus(), this.pdfLinkService = new Cc.PDFLinkService({
      eventBus: this.pdfEventBus
    }), this.pdfFindController = new Cc.PDFFindController({
      eventBus: this.pdfEventBus,
      linkService: this.pdfLinkService
    });
  }
  setScale(e) {
    this.pdfViewer.currentScaleValue = typeof e == "number" ? e.toFixed(2) : e;
  }
  setPage(e) {
    this.pdfViewer.currentPageNumber = e;
  }
  updatePage() {
    if (this.pdfViewer && this.pageNumberRef.value) {
      const e = parseInt(this.pageNumberRef.value.value);
      isNaN(e) ? this.setPage(this.pdfViewer.currentPageNumber) : e > this.pdfViewer.pagesCount ? this.setPage(this.pdfViewer.pagesCount) : e <= 0 ? this.setPage(1) : this.setPage(e);
    }
  }
  select(e) {
    const t = e.target;
    t && t.setSelectionRange(0, t.value.length);
  }
  fitToPage() {
    this.setScale("page-fit");
  }
  fitToWidth() {
    this.setScale("page-width");
  }
  zoomIn() {
    if (this.pdfViewer) {
      let e = this.pdfViewer.currentScale, t = 1;
      do
        e = e * this.DEFAULT_SCALE_DELTA, e = Math.floor(e * 10) / 10, e = Math.min(this.MAX_SCALE, e);
      while (--t > 0 && e < this.MAX_SCALE);
      this.setScale(e);
    }
  }
  zoomOut() {
    if (this.pdfViewer) {
      let e = this.pdfViewer.currentScale, t = 1;
      do
        e = e / this.DEFAULT_SCALE_DELTA, e = Math.floor(e * 10) / 10, e = Math.max(this.MIN_SCALE, e);
      while (--t > 0 && e > this.MIN_SCALE);
      this.setScale(e);
    }
  }
  updateZoom() {
    if (this.pdfViewer && this.zoomLevelRef.value) {
      const e = parseFloat(this.zoomLevelRef.value.value.replace("%", ""));
      isNaN(e) ? this.setScale(this.pdfViewer.currentScale + 1e-4) : this.setScale(e / 100);
    }
  }
  clearDocument() {
    var e, t;
    try {
      (e = this.loadingTask) == null || e.destroy();
    } catch {
    }
    try {
      (t = this.pdfViewer) == null || t.setDocument(null);
    } catch {
    }
    try {
      this.pdfLinkService.setDocument(null, null);
    } catch {
    }
  }
  willUpdate(e) {
    e.has("weavyContext") && this.weavyContext && (this.WORKER_URL || (this.WORKER_URL = new URL("/js/pdf.worker.min.js", this.weavyContext.url), Rl.GlobalWorkerOptions.workerSrc = this.WORKER_URL.toString()), this.CMAP_URL || (this.CMAP_URL = new URL("/cmaps/", this.weavyContext.url)));
  }
  update(e) {
    var t;
    super.update(e), (e.has("weavyContext") || e.has("src") || e.has("pdfViewer")) && this.weavyContext && this.src && this.pdfViewer && (this.loadingTask = Rl.getDocument({
      url: this.src,
      enableXfa: this.ENABLE_XFA,
      cMapUrl: ((t = this.CMAP_URL) == null ? void 0 : t.toString()) || "",
      cMapPacked: this.CMAP_PACKED
    }), this.loadingTask.promise.then((r) => {
      this.pdfViewer.setDocument(r), this.pdfLinkService.setDocument(r, null);
    }));
  }
  updated() {
    this.weavyContext && this.viewerContainerRef.value && !this.pdfViewer && (this.pdfViewer = new Cc.PDFViewer({
      container: this.viewerContainerRef.value,
      eventBus: this.pdfEventBus,
      linkService: this.pdfLinkService,
      findController: this.pdfFindController,
      annotationEditorMode: Rl.AnnotationEditorType.DISABLE
      //defaultZoomValue: 1.0,
      //scriptingManager: pdfScriptingManager,
      //enableScripting: true, // Only necessary in PDF.js version 2.10.377 and below.
    }), this.pdfLinkService.setViewer(this.pdfViewer), this.pdfEventBus.on("scalechanging", () => {
      this.zoomLevelRef.value.value = Math.round(this.pdfViewer.currentScale * 100).toFixed(0) + "%";
    }), this.pdfEventBus.on("pagechanging", () => {
      this.pageNumberRef.value.value = this.pdfViewer.currentPageNumber.toFixed(0);
    }), this.pdfEventBus.on("pagesinit", () => {
      this.isConnected && (this.pdfViewer.currentScaleValue = "auto", this.pageNumberRef.value.value = "1", this.totalPagesRef.value.innerText = this.pdfViewer.pagesCount.toFixed(0), this.SEARCH_FOR && (this.pdfFindController && !("_onFind" in this.pdfFindController) ? this.pdfFindController.executeCommand("find", { query: this.SEARCH_FOR }) : this.pdfEventBus.dispatch("find", { type: "", query: this.SEARCH_FOR })));
    }));
  }
  render() {
    return v`
      <div class="wy-content-pdf">
        <div class="wy-toolbars-bottom">
          <nav class="wy-toolbar wy-toolbar-center">
            <div class="wy-toolbar-buttons">
              <input
                type="text"
                class="wy-input"
                ${Pe(this.pageNumberRef)}
                @keyup=${Jc}
                @change=${this.updatePage}
                @click=${this.select}
                data-pdf-target="pageNumber"
              />
              <span class="wy-toolbar-text">/</span>
              <span class="wy-toolbar-text" ${Pe(this.totalPagesRef)}>1</span>
            </div>
            <div class="wy-toolbar-buttons">
              <button class="wy-button wy-button-icon btn-zoom-out" @click=${this.zoomOut} title=${V("Zoom out")}
                ><wy-icon name="minus"></wy-icon
              ></button>
              <input
                type="text"
                class="wy-input"
                ${Pe(this.zoomLevelRef)}
                @keyup=${Jc}
                @change=${this.updateZoom}
                @click=${this.select}
                value="100%"
                data-pdf-target="zoomLevel"
              />
              <button class="wy-button wy-button-icon btn-zoom-in" @click=${this.zoomIn} title=${V("Zoom in")}
                ><wy-icon name="plus"></wy-icon
              ></button>
            </div>
            <div class="wy-toolbar-buttons">
              <button
                class="wy-button wy-button-icon btn-fit-page"
                @click=${this.fitToWidth}
                title=${V("Fit to width")}
                ><wy-icon name="fit-width"></wy-icon
              ></button>
              <button class="wy-button wy-button-icon" @click=${this.fitToPage} title=${V("Fit to screen")}
                ><wy-icon name="fit-screen"></wy-icon
              ></button>
            </div>
          </nav>
        </div>
        <div ${Pe(this.viewerContainerRef)} class="wy-pdf-container">
          <div id="viewer" class="pdfViewer"></div>
        </div>
      </div>
    `;
  }
  disconnectedCallback() {
    var e;
    try {
      this.clearDocument(), (e = this.pdfViewer) == null || e.cleanup();
    } catch {
    }
    this.pdfViewer = void 0, super.disconnectedCallback();
  }
};
fa.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
Ll([
  tt({ context: Te, subscribe: !0 }),
  te()
], fa.prototype, "weavyContext", 2);
Ll([
  m()
], fa.prototype, "src", 2);
Ll([
  te()
], fa.prototype, "pdfViewer", 2);
fa = Ll([
  fe("wy-pdf-viewer"),
  De()
], fa);
var px = Object.defineProperty, wx = Object.getOwnPropertyDescriptor, Fi = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? wx(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && px(t, r, n), n;
};
let ti = class extends we {
  constructor() {
    super(), this.viewerRef = Ve(), import(
      /* webpackIgnore: true */
      /* @vite-ignore */
      new URL("./es/embedded-confluence-bundle.js", typeof WEAVY_IMPORT_URL == "string" && (!import.meta.url || !new URL(import.meta.url).href.startsWith(WEAVY_IMPORT_URL)) ? WEAVY_IMPORT_URL : import.meta.url).href
    ).then((e) => e.embeddedConfluenceBundle).then((e) => {
      this.PageComponent = e.Page;
    });
  }
  willUpdate(e) {
    if (e.has("weavyContext") && this.weavyContext && (this.productName ?? (this.productName = this.weavyContext.confluenceProductName)), e.has("raw") && this.raw) {
      const t = JSON.parse(this.raw);
      this.contentId = t.contentId, this.hostname = t.hostname, this.spaceKey = t.spaceKey;
    }
  }
  render() {
    return this.productName ? v`
          <div class="wy-confluence-viewer" ${Pe(this.viewerRef)}>
            ${!this.contentId || !this.PageComponent ? v` <wy-spinner overlay></wy-spinner> ` : F}
          </div>
        ` : v`
          <wy-preview-icon
            src=${ot(this.src)}
            icon=${this.icon}
            provider=${ot(this.src ? "Confluence" : void 0)}
          ></wy-preview-icon>
        `;
  }
  async updated(e) {
    if ((e.has("contentId") || e.has("PageComponent") || e.has("productName")) && this.contentId && this.viewerRef.value && //this.productName &&
    this.PageComponent) {
      let t, r;
      try {
        t = await import(
          /* webpackIgnore: true */
          /* @vite-ignore */
          new URL("./es/react/index.js", typeof WEAVY_IMPORT_URL == "string" && (!import.meta.url || !new URL(import.meta.url).href.startsWith(WEAVY_IMPORT_URL)) ? WEAVY_IMPORT_URL : import.meta.url).href
        ).then((i) => i.index);
      } catch (i) {
        console.error("React error", i);
      }
      try {
        r = await import(
          /* webpackIgnore: true */
          /* @vite-ignore */
          new URL("./es/react-dom/index.js", typeof WEAVY_IMPORT_URL == "string" && (!import.meta.url || !new URL(import.meta.url).href.startsWith(WEAVY_IMPORT_URL)) ? WEAVY_IMPORT_URL : import.meta.url).href
        ).then((i) => i.index);
      } catch (i) {
        console.error("ReactDOM error", i);
      }
      if (t && r) {
        const i = t.createElement(
          this.PageComponent,
          {
            contentId: this.contentId,
            locale: "en-US",
            hostname: this.hostname,
            parentProduct: this.productName,
            spaceKey: this.spaceKey,
            themeState: ""
            //"colorMode:dark dark:dark light:light",
          },
          null
        );
        r.render(i, this.viewerRef.value);
      }
    }
  }
};
ti.styles = [
  ke,
  We`
      :host {
        display: contents;
      }

      .wy-confluence-viewer {
        display: contents;
      }

      .wy-confluence-viewer > * {
        border: none;
        flex: 1;
      }
    `
];
Fi([
  tt({ context: Te, subscribe: !0 }),
  te()
], ti.prototype, "weavyContext", 2);
Fi([
  m()
], ti.prototype, "src", 2);
Fi([
  m()
], ti.prototype, "icon", 2);
Fi([
  m()
], ti.prototype, "raw", 2);
Fi([
  m()
], ti.prototype, "productName", 2);
Fi([
  te()
], ti.prototype, "contentId", 2);
Fi([
  te()
], ti.prototype, "hostname", 2);
Fi([
  te()
], ti.prototype, "spaceKey", 2);
Fi([
  te()
], ti.prototype, "PageComponent", 2);
ti = Fi([
  fe("wy-confluence-viewer")
], ti);
var fx = Object.defineProperty, mx = Object.getOwnPropertyDescriptor, Ml = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? mx(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && fx(t, r, n), n;
};
let ma = class extends we {
  constructor() {
    super(...arguments), this.availableFeatures = [], this.features = {};
  }
  render() {
    const e = this.file;
    if (!e)
      return F;
    const { icon: t } = Fn(e.name), r = gi(e.name);
    let i = e.preview_url || e.download_url || "";
    e.preview_format === "image" && (r === ".gif" || r === ".svg") && (i = e.download_url || "");
    const o = i, a = e.external_url, s = e.is_trashed ? "none" : e.preview_format, c = e.name, l = e.width, d = e.height, h = e.media_type, y = e.provider, w = e.raw;
    return s === "image" ? v`<wy-preview-image src=${o} width=${ot(l)} height=${ot(d)}></wy-preview-image>` : s === "pdf" ? v`<wy-pdf-viewer src=${o}></wy-pdf-viewer>` : s === "video" || s === "audio" ? v`<wy-preview-media
        format=${s}
        src=${o}
        name=${c}
        mediaType=${h}></wy-preview-media>` : s === "text" ? v`<wy-preview-text src=${o}></wy-preview-text>` : s === "code" ? v`<wy-preview-text src=${o} ?html=${!/^(?:blob:|data:)/.test(o)} code></wy-preview-text>` : s === "html" ? v`<wy-preview-text src=${o} html></wy-preview-text>` : s === "embed" ? v`<wy-preview-embed src=${o} name=${c} icon=${t} provider=${ot(y)}></wy-preview-embed>` : s === "none" ? y === "Confluence" && w ? v`<wy-confluence-viewer src=${ot(a)} icon=${t} raw=${w}></wy-confluence-viewer>` : a ? v`<wy-preview-icon src=${a} icon=${t} provider=${ot(y)}></wy-preview-icon>` : v`<wy-preview-icon src=${o} icon=${t}></wy-preview-icon>` : F;
  }
};
ma.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
Ml([
  m({ type: Object })
], ma.prototype, "file", 2);
Ml([
  m({ type: Array })
], ma.prototype, "availableFeatures", 2);
Ml([
  m({ type: Object })
], ma.prototype, "features", 2);
ma = Ml([
  fe("wy-preview-item")
], ma);
function cs(e = "", t = "", r = "", i = !1) {
  if (e) {
    const n = document.createElement("a");
    i && (/^(data:|blob:)/.test(e) ? n.download = r || "download" : e = e.includes("?d=1") || e.includes("&d=1") ? e : e.includes("?") ? e + "&d=1" : e + "?d=1"), t && (n.target = t), n.href = e, document.body.appendChild(n);
    try {
      n.click();
    } catch {
      if (console.warn("Could not open link normally, trying fallback"), /^(?:blob:|data:)/.test(e))
        console.error(`Could not ${i ? "download" : "open"} ${r}`);
      else
        try {
          window.open(e, t);
        } catch {
          console.error(`Could not ${i ? "download" : "open"} ${r}`);
        }
    }
    document.body.removeChild(n);
  }
}
var vx = Object.defineProperty, gx = Object.getOwnPropertyDescriptor, Ta = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? gx(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && vx(t, r, n), n;
};
let bo = class extends we {
  constructor() {
    super(...arguments), this.availableFeatures = [], this.features = {}, this.noWrapper = !1, this.hasEventListener = {
      "edit-name": !1,
      subscribe: !1,
      trash: !1,
      restore: !1,
      "delete-forever": !1
    };
  }
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  addEventListener(e, t, r) {
    const i = e;
    Object.prototype.hasOwnProperty.call(this.hasEventListener, i) && Object.assign(this.hasEventListener, {
      [i]: !0
    }), super.addEventListener(e, t, r);
  }
  triggerDownload() {
    this.file && cs(this.file.download_url, "_top", this.file.name, !0);
  }
  triggerExternal() {
    this.file && cs(this.file.external_url, "_blank", this.file.name);
  }
  triggerApplication() {
    this.file && cs(this.file.application_url, "_top", this.file.name);
  }
  dispatchEditName() {
    const e = new CustomEvent("edit-name", {
      detail: { file: this.file }
    });
    return this.dispatchEvent(e);
  }
  dispatchSubscribe(e) {
    const t = new CustomEvent("subscribe", {
      detail: {
        file: this.file,
        subscribe: e
      }
    });
    return this.dispatchEvent(t);
  }
  dispatchTrash() {
    const e = new CustomEvent("trash", {
      detail: { file: this.file }
    });
    return this.dispatchEvent(e);
  }
  dispatchRestore() {
    const e = new CustomEvent("restore", {
      detail: { file: this.file }
    });
    return this.dispatchEvent(e);
  }
  dispatchDeleteForever() {
    const e = new CustomEvent("delete-forever", {
      detail: { file: this.file }
    });
    return this.dispatchEvent(e);
  }
  render() {
    var n;
    if (!this.file)
      return F;
    const { icon: e } = Fn(this.file.name), t = this.file.id >= 1, r = this.file.provider, i = this.file.provider || "app";
    return v`
      <wy-dropdown directionX="left" ?noWrapper=${this.noWrapper}>
        ${t && this.file.is_trashed ? v`
              ${this.hasEventListener.restore ? v`
                    <wy-dropdown-item @click=${() => this.dispatchRestore()}>
                      <wy-icon name="delete-restore"></wy-icon>
                      ${V("Restore")}
                    </wy-dropdown-item>
                  ` : F}
              ${this.hasEventListener.restore && this.hasEventListener["delete-forever"] ? v` <wy-dropdown-divider></wy-dropdown-divider> ` : F}
              ${this.hasEventListener["delete-forever"] ? v`
                    <wy-dropdown-item @click=${() => this.dispatchDeleteForever()}>
                      <wy-icon name="delete-forever"></wy-icon>
                      ${V("Delete")}
                    </wy-dropdown-item>
                  ` : F}
            ` : F}
        ${this.file.is_trashed ? F : v`
              ${this.file.external_url ? v`
                    <wy-dropdown-item @click=${() => this.triggerExternal()}>
                      <wy-icon name=${e}></wy-icon>
                      ${V(Qi`Open in ${r}`)}
                    </wy-dropdown-item>
                  ` : v`
                    ${this.file.application_url && Ie(this.availableFeatures, Le.WebDAV, (n = this.features) == null ? void 0 : n.webDAV) ? v`
                          <wy-dropdown-item @click=${() => this.triggerApplication()}>
                            <wy-icon name=${this.file.provider ? up(this.file.provider) : e}></wy-icon>
                            ${V(Qi`Open in ${i}`)}
                          </wy-dropdown-item>
                        ` : F}
                    <wy-dropdown-item @click=${() => this.triggerDownload()}>
                      <wy-icon name="download"></wy-icon>
                      ${V("Download")}
                    </wy-dropdown-item>
                  `}
              ${t ? v`
                    ${this.hasEventListener["edit-name"] ? v`
                          <wy-dropdown-item @click=${() => this.dispatchEditName()}>
                            <wy-icon name="textbox"></wy-icon>
                            ${V("Rename")}
                          </wy-dropdown-item>
                        ` : F}
                    ${this.hasEventListener.subscribe ? this.file.is_subscribed ? v`
                            <wy-dropdown-item @click=${() => this.dispatchSubscribe(!1)}>
                              <wy-icon name="bell-off"></wy-icon>
                              ${V("Unsubscribe")}
                            </wy-dropdown-item>
                          ` : v`
                            <wy-dropdown-item @click=${() => this.dispatchSubscribe(!0)}>
                              <wy-icon name="bell"></wy-icon>
                              ${V("Subscribe")}
                            </wy-dropdown-item>
                          ` : F}
                    ${this.hasEventListener.trash ? v`
                          <wy-dropdown-divider></wy-dropdown-divider>
                          <wy-dropdown-item @click=${() => this.dispatchTrash()}>
                            <wy-icon name="delete"></wy-icon>
                            ${V("Trash")}
                          </wy-dropdown-item>
                        ` : F}
                  ` : F}
            `}
        <slot></slot>
      </wy-dropdown>
    `;
  }
};
Ta([
  m({ type: Object })
], bo.prototype, "file", 2);
Ta([
  m({ type: Array })
], bo.prototype, "availableFeatures", 2);
Ta([
  m({ type: Object })
], bo.prototype, "features", 2);
Ta([
  m({ converter: Sl })
], bo.prototype, "noWrapper", 2);
Ta([
  m({ type: Object })
], bo.prototype, "hasEventListener", 2);
bo = Ta([
  fe("wy-file-menu"),
  De()
], bo);
function bx(e, t, r, i = {}) {
  return {
    ...i,
    initialPageParam: 0,
    // eslint-disable-next-line @tanstack/query/exhaustive-deps
    queryKey: ["comments", r],
    queryFn: async (o) => {
      const a = o.pageParam, s = "/api/" + t + "/" + r + "/comments?orderby=createdat+asc&skip=" + a + "&top=25", l = await (await e.get(s)).json();
      return l.data = l.data || [], l;
    },
    getNextPageParam: (o, a) => {
      if ((o == null ? void 0 : o.end) < (o == null ? void 0 : o.count))
        return a.length * 25;
    }
  };
}
function xx(e, t) {
  return {
    mutationFn: async (i) => (await e.post(
      "/api/comments/" + i.id,
      "PATCH",
      JSON.stringify({
        text: i.text,
        blobs: i.blobs,
        attachments: i.attachments,
        meeting_id: i.meetingId,
        options: i.pollOptions.filter((o) => o.text.trim() !== "").map((o) => ({ id: o.id, text: o.text })),
        embed_id: i.embed || null
      })
    )).json(),
    mutationKey: t,
    onSuccess: (i, n) => {
      n.id && et(e.queryClient, ["comments", n.parentId], n.id, (o) => {
        o.text = i.text, o.html = i.html, o.attachment_ids = i.attachment_ids, o.attachments = i.attachments, o.meeting = i.meeting, o.meeting_id = i.meeting_id, o.modified_at = i.modified_at, o.modified_by = i.modified_by, o.options = i.options, o.embed = i.embed;
      });
    }
  };
}
function _x(e, t) {
  const r = e.queryClient;
  return {
    mutationFn: async (n) => (await e.post(
      "/api/" + n.type + "/" + n.parentId + "/comments",
      "POST",
      JSON.stringify({
        text: n.text,
        blobs: n.blobs,
        meeting_id: n.meetingId,
        options: n.pollOptions.filter((a) => a.text.trim() !== "").map((a) => ({ text: a.text })),
        embed_id: n.embed
      })
    )).json(),
    mutationKey: t,
    onMutate: async (n) => {
      await r.cancelQueries({ queryKey: ["comments", n.parentId] });
      const o = Math.random(), a = {
        id: o,
        app_id: -1,
        attachment_ids: [],
        is_trashed: !1,
        text: n.text,
        html: n.text,
        plain: n.text,
        temp: !0,
        created_by_id: n.user.id,
        created_by: {
          id: n.user.id,
          avatar_url: n.user.avatar_url,
          display_name: n.user.display_name,
          presence: void 0,
          name: n.user.name
        },
        created_at: (/* @__PURE__ */ new Date()).toUTCString(),
        attachments: [],
        reactions: []
      };
      return Gi(r, ["comments", n.parentId], a, void 0, { descending: !1 }), { tempId: o };
    },
    onSuccess: (n, o, a) => {
      Gi(r, ["comments", o.parentId], n, a.tempId, { descending: !1 }), et(r, [o.type, o.appId], o.parentId, (s) => {
        s.comment_count = (s.comment_count || 0) + 1;
      });
    }
  };
}
function kx(e, t) {
  const r = e.queryClient, n = {
    mutationKey: ["comments", t],
    mutationFn: async ({ id: o }) => (await e.post("/api/comments/" + o + "/trash", "POST", "")).json(),
    onMutate: async (o) => (Ke(
      r,
      { queryKey: n.mutationKey, exact: !1 },
      o.id,
      (a) => Object.assign(a, { is_trashed: !0 })
    ), { type: "trash", id: o.id }),
    onSuccess: (o, a) => {
      Ke(
        r,
        { queryKey: n.mutationKey, exact: !1 },
        a.id,
        (s) => Object.assign(s, o)
      ), et(r, [a.type, a.appId], a.parentId, (s) => {
        s.comment_count = (s.comment_count || 1) - 1;
      });
    }
    /*onError(error: Error, variables: MutateCommentVariables, _context: any) {
      updateCacheItems(queryClient, { queryKey: options.mutationKey, exact: false }, variables.file.id, (existingFile: FileType) => Object.assign(existingFile, { is_trashed: false }))
    },*/
  };
  return n;
}
function Cx(e, t) {
  return new rt(e.queryClient, kx(e, t));
}
function $x(e, t) {
  const r = e.queryClient, n = {
    mutationKey: ["comments", t],
    mutationFn: async ({ id: o }) => {
      const a = await e.post("/api/comments/" + o + "/restore", "POST", "");
      if (!a.ok) {
        const s = await a.json();
        throw new Error(s.detail || s.title, { cause: s });
      }
      return a.json();
    },
    onMutate: async (o) => (Ke(
      r,
      { queryKey: n.mutationKey, exact: !1 },
      o.id,
      (a) => Object.assign(a, { is_trashed: !1 })
    ), { type: "restore", file: o.id }),
    onSuccess: (o, a) => {
      Ke(
        r,
        { queryKey: n.mutationKey, exact: !1 },
        a.id,
        (s) => Object.assign(s, o)
      ), et(r, [a.type, a.appId], a.parentId, (s) => {
        s.comment_count = (s.comment_count || 0) + 1;
      });
    }
    /*onError(error: Error, variables: MutateCommentVariables, _context: any) {
      updateCacheItems(queryClient, { queryKey: options.mutationKey, exact: false }, variables.file.id, (existingFile: FileType) => Object.assign(existingFile, { is_trashed: true }))
    },*/
  };
  return n;
}
function Ex(e, t) {
  return new rt(e.queryClient, $x(e, t));
}
function Sx(e, t) {
  const r = e.queryClient, i = t;
  return {
    mutationKey: i,
    mutationFn: async ({ optionId: o }) => {
      const a = await e.post(`/api/options/${o}/vote`, "POST", "");
      if (!a.ok) {
        const s = await a.json();
        throw new Error(s.detail || s.title, { cause: s });
      }
      return a.json();
    },
    onMutate: async (o) => (Ke(r, { queryKey: i }, o.parentId, (a) => {
      var s;
      a.options = (s = a.options) == null ? void 0 : s.map((c) => {
        if (c.has_voted) {
          c.has_voted = !1;
          const l = c.vote_count || 1;
          c.vote_count = l - 1;
        } else if (!c.has_voted && c.id === o.optionId) {
          c.has_voted = !0;
          const l = c.vote_count || 0;
          c.vote_count = l + 1;
        }
        return c;
      });
    }), { id: o.optionId }),
    onSuccess: async (o, a) => {
      const c = await (await e.get("/api/" + a.parentType + "/" + a.parentId)).json();
      Ke(
        r,
        { queryKey: i, exact: !1 },
        a.parentId,
        (l) => Object.assign(l, c)
      );
    }
    /*onError(error: Error, variables: MutatePollVariables) {
      updateCacheItems(queryClient, { queryKey: postsKey, exact: false }, variables.id, (existingPost: PostType) => Object.assign(existingPost, { is_subscribed: variables..is_subscribed }));
    },*/
  };
}
function gh(e, t) {
  return new rt(e.queryClient, Sx(e, t));
}
function Px(e, t) {
  return {
    queryKey: ["votes", t],
    enabled: !1,
    queryFn: async () => await (await e.get(`/api/options/${t}/voters`)).json()
  };
}
var Ax = Object.defineProperty, Lx = Object.getOwnPropertyDescriptor, Uf = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? Lx(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Ax(t, r, n), n;
};
let ol = class extends we {
  dispatchRestore() {
    const e = new CustomEvent("restore", { detail: { id: this.commentId } });
    return this.dispatchEvent(e);
  }
  render() {
    return v`
      <div class="wy-item wy-item-lg">
        <div class="wy-item-body">${V("Comment was trashed.")}</div>
        <wy-button @click=${() => this.dispatchRestore()} class="wy-button-variant">${V("Undo")}</wy-button>
      </div>
    `;
  }
};
ol.styles = ke;
Uf([
  m({ type: Number })
], ol.prototype, "commentId", 2);
ol = Uf([
  fe("wy-comment-trashed"),
  De()
], ol);
var Mx = Object.defineProperty, Ox = Object.getOwnPropertyDescriptor, Ra = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? Ox(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Mx(t, r, n), n;
};
let On = class extends we {
  constructor() {
    super(...arguments), this.showSheet = !1, this.sheetId = "", this.getVotesQuery = new lt(this);
  }
  updated(e) {
    e.has("weavyContext") && this.weavyContext && this.option && (this.getVotesQuery.trackQuery(Px(this.weavyContext, this.option.id)), this.sheetId = "sheet-post-" + this.option.id);
  }
  dispatchVote(e) {
    const t = new CustomEvent("vote", { detail: { id: e } });
    return this.dispatchEvent(t);
  }
  openSheet(e) {
    var t;
    e.preventDefault(), e.stopPropagation(), (t = this.getVotesQuery.observer) == null || t.refetch(), this.showSheet = !this.showSheet;
  }
  render() {
    const { data: e, isLoading: t } = this.getVotesQuery.result ?? {}, r = this.totalVotes > 0 ? Math.round((this.option.vote_count || 0) / this.totalVotes * 100) : 0;
    return v`
      <div
        class="wy-item wy-poll-option"
        tabindex="0"
        @click=${() => this.dispatchVote(this.option.id)}
        @keydown=${Pn}
        @keyup=${An}
      >
        <div class="wy-progress" style="width: ${r + "%"}"></div>
        ${this.option.has_voted ? v`<wy-icon name="check-circle"></wy-icon>` : v`<wy-icon name="circle-outline"></wy-icon>`}
        <div class="wy-item-body">${this.option.text}</div>
        ${r > 0 ? v`<span
              class="wy-facepile"
              tabindex="0"
              @click=${(i) => this.openSheet(i)}
              @keydown=${Pn}
              @keyup=${An}
            >
              ${r + "%"}
            </span>` : F}
      </div>

      ${Yi(
      this.showSheet,
      v`
          <wy-sheet
            .show=${this.showSheet}
            .sheetId="${this.sheetId}"
            @release-focus=${() => this.dispatchEvent(new CustomEvent("release-focus", { bubbles: !0, composed: !0 }))}
          >
            <span slot="appbar-text">${V(Qi`Votes on ${this.option.text}`)}</span>
            <!-- <wy-spinner></wy-spinner> -->
            ${e && !t ? v`
                  ${e.map(
        (i) => v`
                      <div class="wy-item">
                        <wy-avatar .size=${32} .src=${i.avatar_url} .name=${i.display_name}></wy-avatar>
                        <div class="wy-item-body">${i.display_name}</div>
                      </div>
                    `
      )}
                ` : F}
          </wy-sheet>
        `,
      () => this.showSheet = !1
    )}
    `;
  }
};
On.styles = ke;
Ra([
  tt({ context: Te, subscribe: !0 }),
  te()
], On.prototype, "weavyContext", 2);
Ra([
  m({ type: Number, attribute: !1 })
], On.prototype, "totalVotes", 2);
Ra([
  m({ attribute: !1 })
], On.prototype, "option", 2);
Ra([
  te()
], On.prototype, "showSheet", 2);
Ra([
  te()
], On.prototype, "sheetId", 2);
On = Ra([
  fe("wy-poll-option"),
  De()
], On);
var Ix = Object.defineProperty, Tx = Object.getOwnPropertyDescriptor, Wf = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? Tx(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Ix(t, r, n), n;
};
let al = class extends we {
  constructor() {
    super(...arguments), this.pollOptions = [];
  }
  dispatchVote(e) {
    const t = new CustomEvent("vote", { detail: { id: e } });
    return this.dispatchEvent(t);
  }
  render() {
    const e = this.pollOptions.reduce((t, r) => t + (r.vote_count || 0), 0);
    return v`
      <div class="wy-poll">
        ${this.pollOptions.map(
      (t) => v`<wy-poll-option
              @vote=${(r) => this.dispatchVote(r.detail.id)}
              .option=${t}
              .totalVotes=${e}></wy-poll-option>`
    )}
      </div>
    `;
  }
};
al.styles = [
  ke,
  We`
      :host {
        display: grid;
      }
    `
];
Wf([
  m({ type: Array, attribute: !1 })
], al.prototype, "pollOptions", 2);
al = Wf([
  fe("wy-poll")
], al);
var Rx = Object.defineProperty, Dx = Object.getOwnPropertyDescriptor, Ut = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? Dx(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Rx(t, r, n), n;
};
let It = class extends we {
  constructor() {
    super(...arguments), this.temp = !1, this.createdAt = "", this.modifiedAt = void 0, this.isTrashed = !1, this.text = "", this.html = "", this.attachments = [], this.pollOptions = [], this.reactions = [], this.features = {}, this.previewRef = Ve();
  }
  createRenderRoot() {
    return this;
  }
  dispatchVote(e) {
    const t = new CustomEvent("vote", { detail: { id: e } });
    return this.dispatchEvent(t);
  }
  dispatchTrash() {
    const e = new CustomEvent("trash", { detail: { id: this.commentId } });
    return this.dispatchEvent(e);
  }
  dispatchEdit(e) {
    const t = new CustomEvent("edit", { detail: { edit: e } });
    return this.dispatchEvent(t);
  }
  render() {
    var n, o, a, s, c, l;
    const e = (n = this.attachments) == null ? void 0 : n.filter((d) => d.kind === "image" && d.thumbnail_url), t = (o = this.attachments) == null ? void 0 : o.filter((d) => d.kind !== "image" || !d.thumbnail_url), r = new Intl.DateTimeFormat((a = this.weavyContext) == null ? void 0 : a.locale, {
      dateStyle: "full",
      timeStyle: "short"
    }).format(new Date(this.createdAt)), i = lc((s = this.weavyContext) == null ? void 0 : s.locale, new Date(this.createdAt));
    return this.temp ? v`<div class="wy-item wy-item-sm wy-comment-header">
            <wy-avatar .src="${this.createdBy.avatar_url}" .size=${32} .name=${this.createdBy.display_name} .isBot=${this.createdBy.is_bot}></wy-avatar>
            <div class="wy-item-body">
              <div class="wy-item-title"><span class="wy-placeholder">${this.createdBy.display_name}</span></div>
              <div class="wy-item-text">
                <time class="wy-placeholder">${i}</time>
              </div>
            </div>
          </div>
          <div class="wy-comment-body">
            <div class="wy-comment-content">
              ${this.html ? v`<div class="wy-content"><wy-skeleton .text=${this.text}></wy-skeleton></div>` : ""}
            </div>
          </div>` : v`<div class="wy-item wy-item-sm wy-comment-header">
            <wy-avatar .src=${this.createdBy.avatar_url} .size=${32} .name=${this.createdBy.display_name} .isBot=${this.createdBy.is_bot}></wy-avatar>
            <div class="wy-item-body">
              <div class="wy-item-title">${this.createdBy.display_name}</div>
              <div class="wy-item-text">
                <time datetime=${this.createdAt} title=${r}>${i}</time>
                ${this.modifiedAt ? v`<time datetime=${this.modifiedAt}> · ${V("edited")}</time>` : F}
              </div>
            </div>

            ${this.user.id === this.createdBy.id ? v`
                  <div class="wy-item-actions wy-item-actions-top">
                    <wy-dropdown>
                      ${this.user.id === this.createdBy.id ? v`<wy-dropdown-item @click=${() => this.dispatchEdit(!0)}>
                            <wy-icon name="pencil"></wy-icon>
                            ${V("Edit")}
                          </wy-dropdown-item>` : F}
                      ${this.user.id === this.createdBy.id ? v`<wy-dropdown-item @click=${() => this.dispatchTrash()}>
                            <wy-icon name="trashcan"></wy-icon>
                            ${V("Trash")}
                          </wy-dropdown-item>` : F}
                    </wy-dropdown>
                  </div>
                ` : F}
          </div>
          <div class="wy-comment-body">
            <div class="wy-comment-content">
              <!-- image grid -->
              ${e && e.length ? v`<wy-image-grid
                    .images=${e}
                    @file-open=${(d) => {
      var h;
      (h = this.previewRef.value) == null || h.open(d.detail.file);
    }}></wy-image-grid>` : ""}

              <!-- embeds -->
              ${this.embed && Ie(this.availableFeatures, Le.Embeds, (c = this.features) == null ? void 0 : c.embeds) ? v` <wy-embed class="wy-embed" .embed=${this.embed}></wy-embed> ` : F}
              ${this.html ? v`<div class="wy-content">${yo(this.html)}</div>` : ""}

              <!-- poll -->
              ${this.pollOptions && this.pollOptions.length > 0 ? v`
                    <wy-poll
                      .pollOptions=${this.pollOptions}
                      @vote=${(d) => this.dispatchVote(d.detail.id)}></wy-poll>
                  ` : F}

              <!-- files -->
              ${t && t.length ? v`<wy-attachments-list
                    .files=${t}
                    @file-open=${(d) => {
      var h;
      (h = this.previewRef.value) == null || h.open(d.detail.file);
    }}></wy-attachments-list>` : ""}

              <!-- meeting -->
              ${this.meeting ? v`<wy-meeting-card .meeting=${this.meeting}></wy-meeting-card>` : ""}
            </div>
          </div>

          ${Ie(this.availableFeatures, Le.Reactions, (l = this.features) == null ? void 0 : l.reactions) ? v`
          <div class="wy-reactions-line">
                <wy-reactions
                  small
                  .reactions=${this.reactions}
                  parentId=${this.parentId}
                  entityId=${this.commentId}
                  messageType="comments"
                  .userId=${this.user.id}></wy-reactions>
              </div>` : F}

          <wy-preview
            ${Pe(this.previewRef)}
            .app=${this.app}
            .uid=${`comment-${this.parentId}-${this.commentId.toString()}`}
            .files=${this.attachments}
            .isAttachment=${!0}
            .availableFeatures=${this.availableFeatures}
            .features=${this.features}></wy-preview>
      `;
  }
};
It.styles = ke;
Ut([
  tt({ context: Te, subscribe: !0 }),
  te()
], It.prototype, "weavyContext", 2);
Ut([
  m({ attribute: !1 })
], It.prototype, "app", 2);
Ut([
  m({ attribute: !1 })
], It.prototype, "user", 2);
Ut([
  m({ type: Number })
], It.prototype, "commentId", 2);
Ut([
  m({ type: Number })
], It.prototype, "parentId", 2);
Ut([
  m({ type: Boolean })
], It.prototype, "temp", 2);
Ut([
  m({ attribute: !1 })
], It.prototype, "createdBy", 2);
Ut([
  m()
], It.prototype, "createdAt", 2);
Ut([
  m()
], It.prototype, "modifiedAt", 2);
Ut([
  m({ type: Boolean })
], It.prototype, "isTrashed", 2);
Ut([
  m()
], It.prototype, "text", 2);
Ut([
  m()
], It.prototype, "html", 2);
Ut([
  m({ type: Array })
], It.prototype, "attachments", 2);
Ut([
  m({ attribute: !1 })
], It.prototype, "embed", 2);
Ut([
  m({ type: Array })
], It.prototype, "pollOptions", 2);
Ut([
  m({ attribute: !1 })
], It.prototype, "meeting", 2);
Ut([
  m({ type: Array })
], It.prototype, "reactions", 2);
Ut([
  m({ type: Object })
], It.prototype, "features", 2);
Ut([
  m({ type: Array })
], It.prototype, "availableFeatures", 2);
It = Ut([
  fe("wy-comment-view"),
  De()
], It);
var qf = "Expected a function", Wy = NaN, Fx = "[object Symbol]", zx = /^\s+|\s+$/g, Vx = /^[-+]0x[0-9a-f]+$/i, Nx = /^0b[01]+$/i, Bx = /^0o[0-7]+$/i, Hx = parseInt, jx = typeof vc == "object" && vc && vc.Object === Object && vc, Ux = typeof self == "object" && self && self.Object === Object && self, Wx = jx || Ux || Function("return this")(), qx = Object.prototype, Qx = qx.toString, Kx = Math.max, Zx = Math.min, Gl = function() {
  return Wx.Date.now();
};
function Yx(e, t, r) {
  var i, n, o, a, s, c, l = 0, d = !1, h = !1, y = !0;
  if (typeof e != "function")
    throw new TypeError(qf);
  t = qy(t) || 0, sl(r) && (d = !!r.leading, h = "maxWait" in r, o = h ? Kx(qy(r.maxWait) || 0, t) : o, y = "trailing" in r ? !!r.trailing : y);
  function w(g) {
    var S = i, L = n;
    return i = n = void 0, l = g, a = e.apply(L, S), a;
  }
  function b(g) {
    return l = g, s = setTimeout(A, t), d ? w(g) : a;
  }
  function C(g) {
    var S = g - c, L = g - l, R = t - S;
    return h ? Zx(R, o - L) : R;
  }
  function E(g) {
    var S = g - c, L = g - l;
    return c === void 0 || S >= t || S < 0 || h && L >= o;
  }
  function A() {
    var g = Gl();
    if (E(g))
      return _(g);
    s = setTimeout(A, C(g));
  }
  function _(g) {
    return s = void 0, y && i ? w(g) : (i = n = void 0, a);
  }
  function x() {
    s !== void 0 && clearTimeout(s), l = 0, i = c = n = s = void 0;
  }
  function T() {
    return s === void 0 ? a : _(Gl());
  }
  function k() {
    var g = Gl(), S = E(g);
    if (i = arguments, n = this, c = g, S) {
      if (s === void 0)
        return b(c);
      if (h)
        return s = setTimeout(A, t), w(c);
    }
    return s === void 0 && (s = setTimeout(A, t)), a;
  }
  return k.cancel = x, k.flush = T, k;
}
function Gx(e, t, r) {
  var i = !0, n = !0;
  if (typeof e != "function")
    throw new TypeError(qf);
  return sl(r) && (i = "leading" in r ? !!r.leading : i, n = "trailing" in r ? !!r.trailing : n), Yx(e, t, {
    leading: i,
    maxWait: t,
    trailing: n
  });
}
function sl(e) {
  var t = typeof e;
  return !!e && (t == "object" || t == "function");
}
function Xx(e) {
  return !!e && typeof e == "object";
}
function Jx(e) {
  return typeof e == "symbol" || Xx(e) && Qx.call(e) == Fx;
}
function qy(e) {
  if (typeof e == "number")
    return e;
  if (Jx(e))
    return Wy;
  if (sl(e)) {
    var t = typeof e.valueOf == "function" ? e.valueOf() : e;
    e = sl(t) ? t + "" : t;
  }
  if (typeof e != "string")
    return e === 0 ? e : +e;
  e = e.replace(zx, "");
  var r = Nx.test(e);
  return r || Bx.test(e) ? Hx(e.slice(2), r ? 2 : 8) : Vx.test(e) ? Wy : +e;
}
var e_ = Gx;
const cl = /* @__PURE__ */ sm(e_);
function t_(e, t) {
  return new rt(e.queryClient, {
    mutationFn: async () => await e.post(`/api/conversations/${t}/typing`, "PUT", JSON.stringify({}))
  });
}
function r_(e, t) {
  return new rt(e.queryClient, {
    mutationFn: async () => await (await e.post("/api/meetings", "POST", JSON.stringify({ provider: t }))).json()
  });
}
function Mt(e, t, r, i) {
  const n = e.getMutationCache(), o = n.find({
    mutationKey: t,
    predicate: (a) => a.state.variables === r
  });
  if (o && o.state.context) {
    const a = { ...o.state.context };
    i(a);
    const s = { ...o.state, context: a };
    o.state = s, n.notify({
      mutation: o,
      type: "updated",
      action: {
        type: "pending",
        context: o.state.context,
        variables: o.state.variables
      }
    });
  }
}
function Qf(e, t, r) {
  const i = e.getMutationCache().find({ mutationKey: t, exact: !0, predicate: r });
  i && e.getMutationCache().remove(i);
}
function i_(e, t) {
  const r = e.getMutationCache();
  r.findAll({ mutationKey: t, exact: !0 }).forEach((n) => {
    r.remove(n);
  });
}
const bh = (e, t, r = 0, i = "application/octet-stream", n, o = Date.now()) => {
  const a = e && (e instanceof URL ? e.toString() : URL.createObjectURL(e));
  return {
    id: o,
    refId: o,
    name: t,
    kind: ah(t),
    size: r,
    media_type: i,
    embed_url: "",
    preview_format: w0(t),
    thumbnail_url: a,
    preview_url: a,
    download_url: a,
    version: -1,
    created_by: n,
    created_by_id: n.id,
    created_at: (/* @__PURE__ */ new Date()).toUTCString(),
    is_subscribed: !1,
    is_trashed: !1
  };
};
function n_(e) {
  const t = e ? e.reduce(
    (r, i) => {
      var o, a;
      const n = (o = i.context) == null ? void 0 : o.file;
      return n && ((a = i.context) != null && a.status.progress) && n.size ? {
        loaded: r.loaded + i.context.status.progress * n.size,
        total: r.total + n.size
      } : r;
    },
    { loaded: 0, total: 0 }
  ) : { loaded: 0, total: 0 };
  return {
    loaded: t.loaded,
    total: t.total,
    percent: t.total > 0 ? t.loaded / t.total : null
  };
}
function o_(e) {
  return e ? e.some((t) => {
    var r;
    return ((r = t.context) == null ? void 0 : r.status.state) === "conflict";
  }) ? "conflict" : e.some((t) => t.status === "error") ? "error" : e.every((t) => t.status === "success") ? "ok" : "pending" : "ok";
}
function a_(e) {
  return (e == null ? void 0 : e.filter(
    (t) => {
      var r;
      return ((r = t.context) == null ? void 0 : r.status.state) === "conflict" || t.status === "error";
    }
  )) || [];
}
function s_(e, t, r) {
  const i = e.queryClient;
  i.getMutationCache().findAll({
    mutationKey: ["apps", t.id, "files"],
    exact: !0,
    predicate: (n) => {
      var o;
      return /error|success/.test(n.state.status) && ((o = n.state.variables.blob) == null ? void 0 : o.name) === r;
    }
  }).forEach((n) => {
    i.getMutationCache().remove(n);
  });
}
function c_(e, t, r) {
  const i = e.queryClient, n = ["apps", r.id, "files"];
  return {
    mutationFn: async ({ blob: a, replace: s = !1 }) => {
      const c = await e.post(
        "/api/apps/" + r.id + "/files",
        "POST",
        JSON.stringify({ blob_id: a.id, replace: s })
      );
      if (!c.ok) {
        const l = await c.json();
        throw new Error(l.detail || l.title, { cause: l });
      }
      return await c.json();
    },
    mutationKey: n,
    onMutate: async (a) => {
      await i.cancelQueries({ queryKey: n, exact: !0 }), l_(e, r, a.blob.name), s_(e, r, a.blob.name);
      let s;
      try {
        s = a.blob.thumbnail_url && new URL(a.blob.thumbnail_url) || void 0;
      } catch {
      }
      const c = bh(s, a.blob.name, a.blob.size, a.blob.media_type, t);
      return {
        type: a.replace ? "replace" : "create",
        file: c,
        status: { state: "pending" }
      };
    },
    onSuccess: (a, s, c) => (Mt(i, n, s, (l) => {
      l && (l.status.state = "ok", l.status.progress = void 0, l.status.text = void 0);
    }), i.invalidateQueries({ queryKey: n })),
    onError(a, s, c) {
      var l, d, h;
      ((l = a == null ? void 0 : a.cause) == null ? void 0 : l.status) === 409 ? Mt(i, n, s, (y) => {
        y && (y.status.progress = void 0, y.status.state = "conflict", y.status.text = a.message);
      }) : ((d = c.file) != null && d.refId || ((h = c.file) == null || h.id), Mt(i, n, s, (y) => {
        y && (y.status.state = "error", y.status.progress = void 0, y.status.text = a.message);
      }));
    }
  };
}
function l_(e, t, r, i) {
  const n = e.queryClient;
  n.getMutationCache().findAll({
    mutationKey: ["apps", t.id, "blobs", i],
    exact: !0,
    status: "success",
    predicate: (o) => o.state.data.name === r
  }).forEach((o) => {
    n.getMutationCache().remove(o);
  });
}
async function d_(e, t, r) {
  const i = new FormData();
  i.append("blob", t);
  const n = await e.upload("/api/blobs", "POST", i, Gc.Auto, (a) => {
    r && r({ progress: a });
  });
  if (!n.ok) {
    const a = await n.json();
    throw new Error(a.detail || a.title, { cause: a });
  }
  return await n.json();
}
function Kf(e, t, r, i) {
  const n = e.queryClient, o = ["apps", r.id, "blobs", i];
  return {
    mutationFn: async (s) => await d_(e, s.file, s.onProgress),
    mutationKey: o,
    onMutate: async (s) => {
      await n.cancelQueries({ queryKey: o, exact: !0 });
      const c = bh(s.file, s.file.name, s.file.size, s.file.type, t);
      return s.onProgress = ({ progress: l }) => {
        Mt(n, o, s, (d) => {
          d.status.state = "pending", d.status.progress = l;
        });
      }, { type: "upload", file: c, status: { state: "pending" } };
    },
    onSuccess: (s, c, l) => {
      Mt(n, o, c, (d) => {
        d.status.state = "ok", d.status.progress = void 0, d.status.text = void 0;
      });
    },
    onError(s, c, l) {
      const d = s.cause;
      d && d.status === 409 ? Mt(n, o, c, (h) => {
        h.status.state = "conflict", h.status.progress = void 0, h.status.text = d.detail || d.title;
      }) : Mt(n, o, c, (h) => {
        h && (h.status.state = "error", h.status.progress = void 0, h.status.text = d.detail || d.title);
      });
    }
  };
}
function Qy(e, t) {
  return e.findAll(t.filters).map(
    (r) => t.select ? t.select(r) : r.state
  );
}
class Zf {
  constructor(t) {
    this.alwaysUpdate = !1, t.addController(this), this.host = t, this.setContext();
  }
  async setContext() {
    this.whenContext = new Promise((t) => this.resolveContext = t), await Ti(this.host), this.context = new Yr(this.host, { context: Te, subscribe: !0 });
  }
  hostUpdate() {
    var t, r;
    (t = this.context) != null && t.value && ((r = this.resolveContext) == null || r.call(this));
  }
  async trackMutationState(t, r) {
    var i, n, o;
    if (r || (await this.whenContext, r = (n = (i = this.context) == null ? void 0 : i.value) == null ? void 0 : n.queryClient), !r)
      throw new Error("No QueryClient provided");
    return (o = this.mutationCacheUnsubscribe) == null || o.call(this), this.options = t, this.mutationCache = r.getMutationCache(), this.mutationCacheSubscribe(), this.result;
  }
  mutationCacheSubscribe() {
    this.mutationCache && this.options && (this.result = Qy(this.mutationCache, this.options), this.mutationCacheUnsubscribe = this.mutationCache.subscribe((t) => {
      if (this.mutationCache && this.options && /added|removed|updated/.test(t.type)) {
        const r = Qy(this.mutationCache, this.options);
        (this.result !== r || es(this.result, r)) && (this.result = r, this.host.requestUpdate());
      }
    }), this.host.requestUpdate());
  }
  untrackMutationState() {
    var t;
    (t = this.mutationCacheUnsubscribe) == null || t.call(this), this.mutationCacheUnsubscribe = void 0, this.result = void 0, this.options = void 0, this.mutationCache = void 0, this.host.requestUpdate();
  }
  hostConnected() {
    this.mutationCacheSubscribe();
  }
  hostDisconnected() {
    var t;
    (t = this.mutationCacheUnsubscribe) == null || t.call(this);
  }
}
async function u_(e, t) {
  const r = await e.post("/api/blobs/external", "POST", JSON.stringify(t));
  if (!r.ok) {
    const n = await r.json();
    throw new Error(n.detail || n.title, { cause: n });
  }
  return await r.json();
}
function h_(e, t, r, i) {
  const n = e.queryClient, o = ["apps", r.id, "blobs", i];
  return {
    mutationFn: async (s) => await u_(e, s.externalBlob),
    mutationKey: o,
    onMutate: async (s) => (await n.cancelQueries({ queryKey: o, exact: !0 }), { type: "attach", file: bh(void 0, s.externalBlob.name, s.externalBlob.size, void 0, t), status: { state: "pending" } }),
    onSuccess: (s, c, l) => {
      Mt(n, o, c, (d) => {
        d.status.state = "ok", d.status.progress = void 0, d.status.text = void 0;
      });
    },
    onError(s, c, l) {
      const d = s.cause;
      d && d.status === 409 ? Mt(n, o, c, (h) => {
        h.status.state = "conflict", h.status.progress = void 0, h.status.text = d.detail || d.title;
      }) : Mt(n, o, c, (h) => {
        h && (h.status.state = "error", h.status.progress = void 0, h.status.text = d.detail || d.title);
      });
    }
  };
}
function Yf(e, t, r, i) {
  return new rt(
    e.queryClient,
    h_(e, t, r, i)
  );
}
const y_ = /(((https?|ftp):\/\/|(www|ftp)\.)[\w]+(.[\w]+)([\w\-.,@?^=%&amp;:/~+#]*[\w\-@?^=%&amp;/~+#]))/gim;
let Do = [], Os = [], ll = [], Vc = [], dn = {};
const p_ = (e, t) => e.length === t.length && e.every((r, i) => r === t[i]);
async function w_(e, t, r) {
  new FormData().append("url", e);
  try {
    const n = await r.post("/api/embeds", "POST", JSON.stringify({ url: e }));
    if (!n.ok)
      throw new Error();
    const o = await n.json();
    delete dn[e], Os = [...Os, e], t(o);
  } catch {
    ll = [...ll, e], delete dn[e];
  }
}
const f_ = () => {
  Do = [], Os = [], ll = [], Vc = [], dn = {};
}, Ky = (e) => {
  Os = e;
}, m_ = async (e, t, r) => {
  var n;
  let i = ((n = e.match(y_)) == null ? void 0 : n.map((o) => o)) || null;
  if (i !== null && (i = i.map((o) => o.startsWith("//") ? "http:" + o : !o.startsWith("http://") && !o.startsWith("https://") ? "http://" + o : o)), !(i === null || i.length === 0)) {
    if (i.length !== Do.length || !p_(i, Do)) {
      Do = i, i.forEach((o) => {
        !Os.includes(o) && !ll.includes(o) && !Vc.includes(o) && typeof dn[o] > "u" && (dn[o] = window.setTimeout(() => {
          w_(o, t, r);
        }, 500));
      }), Vc = Vc.filter((o) => Do.includes(o));
      for (const o in dn)
        Do.includes(o) || (window.clearTimeout(dn[o]), delete dn[o]);
    }
  }
};
var ea;
class Gf {
  constructor(t) {
    D(this, ea, !1);
    t.addController(this), this.host = t, t.addEventListener("dragstart", () => this.isDragActive = !0), t.addEventListener("dragenter", () => this.isDragActive = !0), t.addEventListener("dragover", (r) => {
      r.preventDefault(), this.isDragActive = !0;
    }), t.addEventListener("dragleave", () => this.isDragActive = !1), t.addEventListener("dragend", () => this.isDragActive = !1), t.addEventListener("drop", (r) => this.handleDrop(r));
  }
  get isDragActive() {
    return p(this, ea);
  }
  set isDragActive(t) {
    p(this, ea) !== t && (B(this, ea, t), this.host.requestUpdate());
  }
  handleDrop(t) {
    var i, n;
    t.preventDefault();
    const r = [];
    (i = t.dataTransfer) != null && i.items ? [...t.dataTransfer.items].forEach((o) => {
      if (o.kind === "file") {
        const a = o.getAsFile();
        r.push(a);
      }
    }) : (n = t.dataTransfer) != null && n.files && [...t.dataTransfer.files].forEach((o) => {
      r.push(o);
    }), r.length && this.dispatchUploadFiles(r), this.isDragActive = !1;
  }
  dispatchUploadFiles(t) {
    const r = new CustomEvent("drop-files", { detail: { files: t } });
    return this.host.dispatchEvent(r);
  }
  hostDisconnected() {
  }
}
ea = new WeakMap();
var v_ = Object.defineProperty, g_ = Object.getOwnPropertyDescriptor, Vn = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? g_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && v_(t, r, n), n;
};
let Mi = class extends we {
  constructor() {
    super(...arguments), this.availableFeatures = [], this.features = {}, this.status = {
      state: "ok"
    }, this.hasHover = !0, this.isRenaming = !1;
  }
  dispatchEditName(e) {
    const t = new CustomEvent("edit-name", { detail: { file: e } });
    return this.dispatchEvent(t);
  }
  dispatchRename(e, t) {
    const r = new CustomEvent("rename", { detail: { file: e, name: t } });
    return this.dispatchEvent(r);
  }
  dispatchTrash(e) {
    const t = new CustomEvent("trash", { detail: { file: e } });
    return this.dispatchEvent(t);
  }
  dispatchRestore(e) {
    const t = new CustomEvent("restore", { detail: { file: e } });
    return this.dispatchEvent(t);
  }
  dispatchDeleteForever(e) {
    const t = new CustomEvent("delete-forever", { detail: { file: e } });
    return this.dispatchEvent(t);
  }
  dispatchSubscribe(e, t) {
    const r = new CustomEvent("subscribe", { detail: { file: e, subscribe: t } });
    return this.dispatchEvent(r);
  }
  render() {
    const e = this.file;
    if (!e)
      return F;
    let { icon: t } = Fn(e.name);
    const r = K1(this.actionType), i = gi(e.name), n = Oa(e.provider);
    n && (t = `${t}+${n}`);
    const o = (s) => {
      s.stopImmediatePropagation();
      const c = s.target;
      c.value && c.value !== e.name ? this.dispatchRename(e, c.value) : this.dispatchEditName({ id: NaN });
    }, a = (s) => {
      const c = s.target;
      s.key === "Escape" ? (s.preventDefault(), c.value = e.name, c.blur()) : s.key === "Enter" && (s.preventDefault(), c.blur());
    };
    return v`
      <div
        class="wy-item ${dt({
      "wy-item-trashed": e.is_trashed,
      "wy-item-hover": this.hasHover && !e.is_trashed && !this.isRenaming
    })}"
        title=${e.name}>
        ${this.status.state === "error" ? v`<wy-icon name="alert-octagon" color="error" title=${ot(this.status.text)}></wy-icon>` : this.status.state === "conflict" ? v`<wy-icon name="alert" color="yellow" title=${ot(this.status.text)}></wy-icon>` : this.status.state === "pending" ? v`<wy-spinner ?nospin=${!!this.status.progress} .progress=${this.status.progress}></wy-spinner>` : v`<wy-icon .name=${t} .overlayPath=${r} .size=${24} .kind=${e.kind} ext=${i}></wy-icon>`}
        <div class="wy-item-body">
          ${this.isRenaming ? v`
                <input
                  type="text"
                  maxlength="256"
                  class="wy-input"
                  .defaultValue=${e.name}
                  @blur=${o}
                  @keyup=${(s) => {
      kl(s), a(s);
    }}
                  @click=${(s) => s.preventDefault()}
                  @focus=${sh}
                  ${Pe(xu)} />
              ` : v`
                <span title=${e.name + (this.status.text ? `: ${this.status.text}` : "")}
                  ><slot name="title"
                    >${this.title || e.name}${this.status.text ? v`: <em>${this.status.text}</em>` : F}</slot
                  ></span
                >
              `}
        </div>
        <div class="wy-item-actions">
          <slot name="actions">
            <wy-file-menu
              .file=${this.file}
              .features=${this.features}
              .availableFeatures=${this.availableFeatures}
              @edit-name=${(s) => this.dispatchEditName(s.detail.file)}
              @trash=${(s) => this.dispatchTrash(s.detail.file)}
              @restore=${(s) => this.dispatchRestore(s.detail.file)}
              @delete-forever=${(s) => this.dispatchDeleteForever(s.detail.file)}
              @subscribe=${(s) => this.dispatchSubscribe(s.detail.file, s.detail.subscribe)}>
            </wy-file-menu>
          </slot>
        </div>
      </div>
    `;
  }
};
Mi.styles = ke;
Vn([
  m({ type: Object })
], Mi.prototype, "file", 2);
Vn([
  m({ type: Array })
], Mi.prototype, "availableFeatures", 2);
Vn([
  m({ type: Object })
], Mi.prototype, "features", 2);
Vn([
  m({ type: Object })
], Mi.prototype, "status", 2);
Vn([
  m({ type: Boolean })
], Mi.prototype, "hasHover", 2);
Vn([
  m()
], Mi.prototype, "actionType", 2);
Vn([
  te()
], Mi.prototype, "isRenaming", 2);
Mi = Vn([
  fe("wy-file-item")
], Mi);
var b_ = Object.defineProperty, x_ = Object.getOwnPropertyDescriptor, Nn = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? x_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && b_(t, r, n), n;
};
let Oi = class extends we {
  constructor() {
    super(...arguments), this.unauthorized = !1, this.confluenceQuery = new lt(this), this.confluenceResourceQuery = new lt(this), this.onMessage = async (e) => {
      var t;
      switch (e.data.name) {
        case "confluence-signed-in":
          this.unauthorized = !1, (t = this.confluenceResourceQuery.result) == null || t.refetch();
          break;
      }
    };
  }
  dispatchSubmit(e, t, r) {
    if (this.cloudHost && this.spaceKey) {
      const i = new CustomEvent("submit", {
        detail: { url: e, id: t, title: r, hostname: this.cloudHost, spaceKey: this.spaceKey }
      });
      this.dispatchEvent(i);
    }
  }
  dispatchUnauthorized() {
    const e = new CustomEvent("unauthorized");
    return this.dispatchEvent(e);
  }
  handleResourceClick(e, t) {
    e.preventDefault();
    const r = new URL(t.url);
    this.cloudId = t.id, this.cloudHost = r.hostname;
  }
  handleSpaceClick(e, t, r) {
    var i;
    e.preventDefault(), this.spaceKey = r, this.spaceId = t, (i = this.confluenceQuery.result) == null || i.refetch();
  }
  handlePageClick(e, t, r, i) {
    e.preventDefault(), this.dispatchSubmit(t, r, i);
  }
  connectedCallback() {
    super.connectedCallback(), window.addEventListener("message", this.onMessage);
  }
  willUpdate(e) {
    e.has("weavyContext") && this.weavyContext && this.confluenceResourceQuery.trackQuery(
      Bt(
        this.weavyContext,
        ["confluence", "resources"],
        "/confluence/resources"
      )
    ), (e.has("weavyContext") || e.has("cloudId") || e.has("spaceId")) && this.weavyContext && this.cloudId && this.confluenceQuery.trackQuery(
      Bt(
        this.weavyContext,
        ["confluence", this.cloudId, "spaces", this.spaceId != null ? this.spaceId + "/pages" : void 0],
        `/confluence/${this.cloudId}/spaces/${this.spaceId != null ? this.spaceId + "/pages" : ""}`
      )
    );
  }
  render() {
    var n, o, a;
    if (!((n = this.weavyContext) != null && n.confluenceAuthenticationUrl))
      return F;
    const { data: e, isPending: t } = ((o = this.confluenceQuery) == null ? void 0 : o.result) || {}, { data: r, isPending: i } = ((a = this.confluenceResourceQuery) == null ? void 0 : a.result) || {};
    return this.unauthorized ? v`<wy-empty><button class="wy-button wy-button-primary" @click=${this.dispatchUnauthorized}>Sign in</button></wy-empty>` : v`
      <div class="wy-scroll-y">
        <div class="wy-pane-group">
          ${this.spaceKey ? v`
                <a
                  href="#"
                  class="wy-item-body"
                  @click=${(s) => this.handleSpaceClick(s, void 0, void 0)}
                >
                  <wy-icon name="back"></wy-icon> ${V("Back")}
                </a>
              ` : F}
          ${i || t ? v` <wy-spinner overlay></wy-spinner> ` : F}
          ${!this.cloudId && !i && r ? v`
                <h5>${V("Select a Confluence site")}</h5>
                <div class="wy-list wy-list-bordered">
                  ${Ar(
      r.resources,
      (s) => s.id,
      (s) => v`
                        <a
                          href="#"
                          class="wy-item wy-item-lg wy-item-hover"
                          title=${s.name}
                          @click=${(c) => this.handleResourceClick(c, s)}
                        >
                          <wy-icon name="earth" size="48"></wy-icon>
                          <div class="wy-item-body ">
                            <div class="wy-item-title">${s.name}</div>
                          </div>
                        </a>
                      `
    )}
                </div>
              ` : F}
          ${this.cloudId && !t && e ? v`
                <div class="wy-list wy-list-bordered">
                  ${Ar(
      e.results,
      (s) => s.id,
      (s) => this.spaceKey ? v`
                            <a
                              href="#"
                              class="wy-item wy-item-lg wy-item-hover"
                              title=${s.title}
                              @click=${(c) => this.handlePageClick(c, s._links.webui, s.id, s.title)}
                            >
                              <wy-icon name="file" size="48"></wy-icon>
                              <div class="wy-item-body ">
                                <div class="wy-item-title">${s.title}</div>
                              </div>
                            </a>
                          ` : v`
                            <a
                              href="#"
                              class="wy-item wy-item-lg wy-item-hover"
                              title=${s.name}
                              @click=${(c) => this.handleSpaceClick(c, s.id, s.key)}
                            >
                              <wy-icon name="confluence" color="native" size="48"></wy-icon>
                              <div class="wy-item-body ">
                                <div class="wy-item-title">${s.name}</div>
                              </div>
                            </a>
                          `
    )}
                </div>
              ` : F}
          
        </div>
      </div>
    `;
  }
  updated(e) {
    var t;
    !this.unauthorized && this.confluenceResourceQuery.result && !this.confluenceResourceQuery.result.isPending && ((t = this.confluenceResourceQuery.result.data) == null ? void 0 : t.resources) == null && (this.unauthorized = !0);
  }
  disconnectedCallback() {
    super.disconnectedCallback(), window.removeEventListener("message", this.onMessage);
  }
};
Oi.styles = ke;
Nn([
  tt({ context: Te, subscribe: !0 }),
  te()
], Oi.prototype, "weavyContext", 2);
Nn([
  m({
    attribute: !1
  })
], Oi.prototype, "user", 2);
Nn([
  te()
], Oi.prototype, "unauthorized", 2);
Nn([
  te()
], Oi.prototype, "cloudHost", 2);
Nn([
  te()
], Oi.prototype, "cloudId", 2);
Nn([
  te()
], Oi.prototype, "spaceKey", 2);
Nn([
  te()
], Oi.prototype, "spaceId", 2);
Oi = Nn([
  fe("wy-confluence-picker"),
  De()
], Oi);
var __ = Object.defineProperty, k_ = Object.getOwnPropertyDescriptor, yc = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? k_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && __(t, r, n), n;
};
let xo = class extends we {
  constructor() {
    super(...arguments), this.dropdown = !1, this.showPicker = !1;
  }
  open() {
    this.showPicker = !0;
  }
  close() {
    this.showPicker = !1;
  }
  dispatchExternalBlobs(e) {
    const t = new CustomEvent("external-blobs", { detail: { externalBlobs: e } });
    return this.dispatchEvent(t);
  }
  handleUnauthorized() {
    var e;
    this.user && window.open(
      `${(e = this.weavyContext) == null ? void 0 : e.confluenceAuthenticationUrl}&state=${this.user.id}`,
      "confluenceAuthWin",
      "height=640,width=480"
    );
  }
  async handleAddPage({ url: e, id: t, title: r, hostname: i, spaceKey: n }) {
    var a;
    const o = {
      provider: "Confluence",
      link: "https://" + i + "/wiki" + e,
      name: r,
      size: 0,
      raw: {
        contentId: t,
        hostname: i,
        parentProduct: (a = this.weavyContext) == null ? void 0 : a.confluenceProductName,
        spaceKey: n
      }
    };
    this.dispatchExternalBlobs([o]), this.close();
  }
  render() {
    var e;
    return (e = this.weavyContext) != null && e.confluenceAuthenticationUrl ? v`
      ${this.dropdown ? v`
            <wy-dropdown-item @click=${() => this.open()} title=${V("Confluence Page Picker")}>
              <wy-icon name="confluence" color="native"></wy-icon> Confluence
            </wy-dropdown-item>
          ` : v`
            <wy-button @click=${() => this.open()} title=${V("Confluence Page Picker")} kind="icon"
              ><wy-icon name="confluence" color="native"></wy-icon
            ></wy-button>
          `}
      ${Yi(
      this.showPicker,
      v`
          <wy-overlay
            @release-focus=${() => this.dispatchEvent(new CustomEvent("release-focus", { bubbles: !0, composed: !0 }))}
          >
            <slot name="header">
              <header class="wy-appbars">
                <nav class="wy-appbar">
                  <slot name="appbar-buttons" class="wy-appbar-buttons"></slot>
                  <slot name="appbar-text" class="wy-appbar-text">${V("Confluence Page Picker")}</slot>
                  <wy-button kind="icon" @click=${() => this.close()}>
                    <wy-icon name="close"></wy-icon>
                  </wy-button>
                </nav>
              </header>
            </slot>

            <wy-confluence-picker
              @submit=${(t) => this.handleAddPage(t.detail)}
              @close=${() => this.close()}
              @unauthorized=${() => this.handleUnauthorized()}
            ></wy-confluence-picker>
          </wy-overlay>
        `,
      () => this.close()
    )}
    ` : F;
  }
};
xo.styles = ke;
yc([
  tt({ context: Te, subscribe: !0 }),
  te()
], xo.prototype, "weavyContext", 2);
yc([
  m({
    attribute: !1,
    type: Object
  })
], xo.prototype, "user", 2);
yc([
  m({ type: Boolean })
], xo.prototype, "dropdown", 2);
yc([
  te()
], xo.prototype, "showPicker", 2);
xo = yc([
  fe("wy-confluence"),
  De()
], xo);
var C_ = Object.defineProperty, $_ = Object.getOwnPropertyDescriptor, at = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? $_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && C_(t, r, n), n;
};
let Ye = class extends we {
  constructor() {
    super(), this._placeholder = "", this.text = "", this.options = [], this.attachments = [], this.buttonText = "", this.typing = !0, this.draft = !1, this.editorType = "posts", this.editorClass = "wy-post-editor", this.editorLocation = "apps", this.availableFeatures = [], this.features = {}, this.editorError = !1, this.showPolls = !1, this.pollOptions = [], this.embeds = [], this.draftKey = "", this.uploadBlobMutation = new qi(
      this
    ), this.mutatingFiles = new Zf(this), this.fileInputRef = Ve(), this.cloudFilesRef = Ve(), this.dropZone = new Gf(this), this.keyMap = [], this.editorRef = Ve(), this.throttledTyping = cl(
      async () => {
        this.weavyContext && this.app && (this.app.type === ct.ChatRoom || this.app.type === ct.PrivateChat) && await (await t_(this.weavyContext, this.app.id)).mutate();
      },
      2e3,
      { leading: !0, trailing: !1 }
    ), this.throttledDrafting = cl(
      async () => {
        this.saveDraft();
      },
      500,
      { leading: !0, trailing: !0 }
    ), this.createMeeting = async (e) => {
      if (this.weavyContext)
        switch (e.data.name) {
          case "zoom-signed-in": {
            const r = await r_(this.weavyContext, "zoom").mutate();
            this.meeting = r;
            break;
          }
        }
    }, this.openFileInput = () => {
      var e;
      (e = this.fileInputRef.value) == null || e.click();
    }, this.openCloudFiles = () => {
      var e;
      (e = this.cloudFilesRef.value) == null || e.open();
    }, this.addEventListener("drop-files", this.handleDropFiles), this.addEventListener("keyup", Jc);
  }
  get placeholder() {
    return this._placeholder;
  }
  set placeholder(e) {
    this._placeholder = e;
  }
  willUpdate(e) {
    var t;
    if ((e.has("weavyContext") || e.has("app") || e.has("user") || e.has("parentId")) && this.weavyContext && this.app && this.user) {
      this.draftKey = `draft-${this.editorType}-${this.parentId || this.app.id}`, this.uploadBlobMutation.trackMutation(
        Kf(
          this.weavyContext,
          this.user,
          this.app,
          `${this.editorLocation}-${this.parentId || this.app.id}`
        )
      );
      const r = [
        "apps",
        this.app.id,
        "blobs",
        `${this.editorLocation}-${this.parentId || this.app.id}`
      ];
      if (this.mutatingFiles.trackMutationState(
        { filters: { mutationKey: r, exact: !0 } },
        this.weavyContext.queryClient
      ), this.externalBlobMutation = Yf(
        this.weavyContext,
        this.user,
        this.app,
        `${this.editorLocation}-${this.parentId || this.app.id}`
      ), this.draft) {
        const i = localStorage.getItem(this.draftKey);
        if (i) {
          const n = JSON.parse(i);
          this.text = n.text, this.embeds = n.embeds, this.meeting = n.meeting, ((t = n.pollOptions) == null ? void 0 : t.length) > 0 && (this.showPolls = !0, this.pollOptions = n.pollOptions), Ky(this.embeds.map((o) => o.original_url));
        } else
          this.clearEditor();
      }
      this.embed && (this.embeds = [this.embed], Ky(this.embeds.map((i) => i.original_url))), this.options && this.options.length > 0 && (this.pollOptions = [...this.options, { id: null, text: "" }], this.showPolls = !0);
    }
    e.has("text") && this.editor && this.editor.dispatch({ changes: { from: 0, to: this.editor.state.doc.length, insert: this.text } });
  }
  updated(e) {
    if ((e.has("weavyContext") || e.has("app") || e.has("user") || e.has("parentId")) && this.weavyContext && this.app && this.user && this.editorRef.value && this.weavyContext.whenUrl().then(() => {
      import(
        /* webpackIgnore: true */
        /* @vite-ignore */
        new URL("./es/editor.js", typeof WEAVY_IMPORT_URL == "string" && (!import.meta.url || !new URL(import.meta.url).href.startsWith(WEAVY_IMPORT_URL)) ? WEAVY_IMPORT_URL : import.meta.url).href
      ).then((t) => t.editor).then(
        ({
          defaultHighlightStyle: t,
          syntaxHighlighting: r,
          history: i,
          dropCursor: n,
          mentions: o,
          autocompletion: a,
          placeholder: s,
          keymap: c,
          weavyKeymap: l,
          defaultKeymap: d,
          historyKeymap: h,
          markdown: y,
          languages: w,
          EditorView: b,
          EditorState: C,
          weavyDesktopMessageKeymap: E
        }) => {
          var _, x, T;
          const A = this.editorType === "messages" && Am && E ? [...E] : [];
          this.editorExtensions = [
            b.contentAttributes.of({
              spellcheck: "true",
              autocorrect: "on",
              autocapitalize: "on"
            }),
            i(),
            n(),
            o,
            a({
              override: Ie(this.availableFeatures, Le.Mentions, (_ = this.features) == null ? void 0 : _.mentions) ? [(k) => this.autocomplete(k)] : null,
              //showMention
              closeOnBlur: !1,
              icons: !1,
              addToOptions: [
                {
                  render: function(k, g) {
                    var U, J, ne, ue;
                    const S = document.createElement("div");
                    S.classList.add("wy-item"), S.classList.add("wy-item-hover"), (!((U = k.item) != null && U.access) || k.item.access === ui.None) && S.classList.add("wy-disabled");
                    const L = document.createElement("wy-avatar");
                    L.src = ((J = k.item) == null ? void 0 : J.avatar_url) || "", L.name = ((ne = k.item) == null ? void 0 : ne.display_name) || "";
                    const R = document.createElement("div");
                    return R.classList.add("wy-item-body"), R.innerText = ((ue = k.item) == null ? void 0 : ue.display_name) || "", S.appendChild(L), S.appendChild(R), S;
                  },
                  position: 10
                }
              ]
            }),
            s(this.placeholder),
            r(t, { fallback: !0 }),
            b.lineWrapping,
            c.of([...A, ...l, ...d, ...h]),
            y({ codeLanguages: w }),
            b.domEventHandlers({
              paste: (k, g) => {
                var R, U;
                let S = [];
                const L = ((R = k.clipboardData) == null ? void 0 : R.items) || [];
                for (const J in L) {
                  const ne = L[J];
                  if (ne.kind === "file") {
                    const ue = ne.getAsFile();
                    ue && (S = [...S, ue]);
                  }
                }
                if (S.length > 0 && Ie(this.availableFeatures, Le.Attachments, (U = this.features) == null ? void 0 : U.attachments)) {
                  for (let J = 0; J < S.length; J++)
                    this.handleUploadFiles(S);
                  return !0;
                }
              },
              keyup: (k, g) => {
                var S, L;
                this.typing && g.state.doc.toString() !== "" && Ie(this.availableFeatures, Le.Typing, (S = this.features) == null ? void 0 : S.typing) && this.throttledTyping(), this.draft && this.throttledDrafting(), Ie(this.availableFeatures, Le.Embeds, (L = this.features) == null ? void 0 : L.embeds) && g.state.doc.toString() !== "" && this.handleEmbeds(g.state.doc.toString());
              }
            }),
            b.updateListener.of((k) => {
            })
          ], this.editor || (this.editor = new b({
            state: C.create({
              doc: this.text,
              extensions: this.editorExtensions
            }),
            parent: this.editorRef.value
          }), (T = (x = this.editorRef.value) == null ? void 0 : x.querySelector(".cm-editor")) == null || T.addEventListener("Weavy-SoftSubmit", this.submit.bind(this)));
        }
      );
    }), e.has("placeholder")) {
      const t = this.renderRoot.querySelector(".cm-placeholder");
      t && (t.setAttribute("aria-label", `placeholder ${this.placeholder}`), t.innerText = this.placeholder);
    }
  }
  connectedCallback() {
    super.connectedCallback(), window.addEventListener("message", this.createMeeting);
  }
  disconnectedCallback() {
    super.disconnectedCallback(), window.removeEventListener("message", this.createMeeting);
  }
  handleRemoveMeeting() {
    this.meeting = void 0;
  }
  async autocomplete(e) {
    if (!this.weavyContext || !this.app)
      return null;
    let t = e.matchBefore(/(?!\]\(@)(^[^@]{0,1}|[^@]{2})@([^@]+)/);
    if (!e.explicit && !t)
      return null;
    t = e.matchBefore(/@[^@]+/);
    const r = t == null ? void 0 : t.text.substring(1), i = await this.weavyContext.get("/api/users/autocomplete?id=" + this.app.id + "&q=" + r), n = await (i == null ? void 0 : i.json());
    let o = [];
    return n.data && (o = n.data.filter((a) => typeof a.display_name < "u").map((a) => ({
      item: a,
      label: a.display_name,
      apply: (s, c, l, d) => {
        const h = "[" + a.display_name + "](@u" + a.id.toString() + ")";
        let y = s.state.update({ changes: { from: l - 1, to: l } });
        s.dispatch(y), y = s.state.update({
          changes: { from: l - 1, to: d - 1, insert: h }
        }), s.dispatch(y);
      }
    }))), {
      from: t ? t.from + 1 : e.pos,
      options: o,
      filter: !1
    };
  }
  handleDropFiles(e) {
    const t = e.detail;
    t.files && this.handleUploadFiles(t.files);
  }
  async handleUploadFiles(e, t) {
    if (e) {
      for (let r = 0; r < e.length; r++) {
        const n = { file: e[r] };
        await this.uploadBlobMutation.mutate(n), this.saveDraft();
      }
      t && (t.value = "");
    }
  }
  handleExternalBlobs(e) {
    var t;
    if (e)
      for (let r = 0; r < e.length; r++) {
        const i = e[r];
        (t = this.externalBlobMutation) == null || t.mutate({ externalBlob: i });
      }
  }
  handleRemoveUpload(e) {
    !this.weavyContext || !this.app || Qf(
      this.weavyContext.queryClient,
      ["apps", this.app.id, "blobs", `${this.editorLocation}-${this.parentId || this.app.id}`],
      (t) => {
        var r, i;
        return ((r = t.state.data) == null ? void 0 : r.id) === ((i = e.data) == null ? void 0 : i.id);
      }
    );
  }
  saveDraft() {
    var r;
    if (!this.draft)
      return;
    const e = this.mutatingFiles.result;
    let t = (r = this.editor) == null ? void 0 : r.state.doc.toString();
    t === void 0 && (t = this.text), (!e || !e.length) && !this.meeting && !this.embeds.length && !this.pollOptions.length && t === "" ? localStorage.removeItem(this.draftKey) : localStorage.setItem(
      this.draftKey,
      JSON.stringify({
        meeting: this.meeting,
        text: t,
        pollOptions: this.pollOptions,
        embeds: this.embeds
      })
    );
  }
  handleRemoveAttachment(e) {
    this.attachments = this.attachments.filter((t) => t.id !== e.id);
  }
  async submit() {
    var s, c, l, d;
    const e = this.mutatingFiles.result, t = (s = this.editor) == null ? void 0 : s.state.doc.toString().trim(), r = (c = this.meeting) == null ? void 0 : c.id, i = e == null ? void 0 : e.map((h) => {
      var y;
      return (y = h.data) == null ? void 0 : y.id;
    }), n = ((l = this.attachments) == null ? void 0 : l.map((h) => h.id)) || [], o = this.pollOptions.filter((h) => h.text.trim() !== "");
    if (!t && !r && (i == null ? void 0 : i.length) == 0 && o.length == 0 && n.length == 0 && this.embeds.length == 0)
      return;
    const a = {
      detail: { text: t, meetingId: r, blobs: i, attachments: n, pollOptions: o, embed: (d = this.embeds[0]) == null ? void 0 : d.id },
      bubbles: !0,
      composed: !0
    };
    this.dispatchEvent(new CustomEvent("submit", a)), this.resetEditor();
  }
  resetEditor() {
    this.clearEditor(), this.weavyContext && this.app && i_(this.weavyContext.queryClient, [
      "apps",
      this.app.id,
      "blobs",
      `${this.editorLocation}-${this.parentId || this.app.id}`
    ]), localStorage.removeItem(this.draftKey);
  }
  clearEditor() {
    var e;
    (e = this.editor) == null || e.dispatch({ changes: { from: 0, to: this.editor.state.doc.length, insert: "" } }), this.text = "", this.meeting = void 0, this.pollOptions = [], this.showPolls = !1, this.embeds = [], f_();
  }
  handleZoomClick() {
    !this.weavyContext || !this.user || window.open(
      `${this.weavyContext.zoomAuthenticationUrl}&state=${this.user.id}`,
      "zoomAuthWin",
      "height=640,width=480"
    );
  }
  setEmbeds(e) {
    this.embeds = [e, ...this.embeds], this.saveDraft();
  }
  async handleEmbeds(e) {
    this.weavyContext && await m_(e, this.setEmbeds.bind(this), this.weavyContext);
  }
  removeEmbed(e) {
    this.embeds = this.embeds.filter((t) => t.id !== e.detail.id), this.saveDraft();
  }
  swapEmbed() {
    const e = this.embeds.shift();
    e && (this.embeds = [...this.embeds, e]), this.saveDraft();
  }
  openPolls() {
    if (this.showPolls)
      this.showPolls = !1;
    else {
      if (this.pollOptions.length === 0) {
        const e = { id: null, text: "" };
        this.pollOptions = [...this.pollOptions, e];
      }
      this.showPolls = !0;
    }
  }
  handlePollOptionChange(e, t) {
    const r = [...this.pollOptions];
    r[t].text = e.target.value, this.pollOptions = r, this.saveDraft();
  }
  handlePollOptionAdd(e, t) {
    if (t === this.pollOptions.length - 1) {
      const r = { id: null, text: "" };
      this.pollOptions = [...this.pollOptions, r], this.saveDraft();
    }
  }
  renderTopSlot() {
    return F;
  }
  renderMiddleSlot() {
    var e, t, r, i, n, o, a;
    return v`
      <!-- Input -->
      <div
        class=${dt({ "wy-post-editor-text": !0, "wy-is-invalid": this.editorError })}
        ${Pe(this.editorRef)}
      ></div>
      <div class="wy-post-editor-inputs">
        ${Ie(this.availableFeatures, Le.Attachments, (e = this.features) == null ? void 0 : e.attachments) ? v`<wy-button kind="icon" @click=${this.openFileInput} title=${V("From device")}>
                <wy-icon name="attachment"></wy-icon>
              </wy-button>
              <input
                type="file"
                ${Pe(this.fileInputRef)}
                @click=${(s) => s.stopPropagation()}
                @change=${(s) => this.handleUploadFiles(
      Array.from(s.target.files || []),
      s.target
    )}
                multiple
                hidden
                tabindex="-1"
              />` : F}
        ${Ie(this.availableFeatures, Le.CloudFiles, (t = this.features) == null ? void 0 : t.cloudFiles) ? v`<wy-button kind="icon" @click=${this.openCloudFiles} title=${V("From cloud")}>
              <wy-icon name="cloud"></wy-icon>
            </wy-button>` : F}
        ${Ie(this.availableFeatures, Le.Confluence, (r = this.features) == null ? void 0 : r.confluence) && ((i = this.weavyContext) != null && i.confluenceAuthenticationUrl) ? v`<wy-confluence
              @external-blobs=${(s) => this.handleExternalBlobs(s.detail.externalBlobs)}
            ></wy-confluence>` : F}
        ${Ie(this.availableFeatures, Le.Meetings, (n = this.features) == null ? void 0 : n.meetings) && ((o = this.weavyContext) != null && o.zoomAuthenticationUrl) ? v`<wy-button kind="icon" @click=${this.handleZoomClick} title=${V("Zoom meeting")}>
              <wy-icon name="zoom"></wy-icon>
            </wy-button>` : F}
        ${Ie(this.availableFeatures, Le.Polls, (a = this.features) == null ? void 0 : a.polls) ? v`<wy-button kind="icon" @click=${this.openPolls} title=${V("Poll")}>
              <wy-icon name="poll"></wy-icon>
            </wy-button>` : F}

        <!-- Button -->
        <wy-button @click="${this.submit}" buttonClass="wy-button-primary" title=${this.buttonText}>
          ${this.buttonText}
        </wy-button>
      </div>
    `;
  }
  renderBottomSlot() {
    return this.renderLists();
  }
  renderLists() {
    var t, r, i;
    const e = this.mutatingFiles.result;
    return v`
      <!-- polls -->
      ${Ie(this.availableFeatures, Le.Polls, (t = this.features) == null ? void 0 : t.polls) && this.showPolls && this.pollOptions.length > 0 ? v`
            <div class="wy-poll-form">
              ${this.pollOptions.map((n, o) => v`<input
                  value=${n.text}
                  @change=${(a) => this.handlePollOptionChange(a, o)}
                  @keyup=${kl}
                  class="wy-input"
                  type="text"
                  placeholder=${V("+ add an option")}
                  @focus=${(a) => this.handlePollOptionAdd(a, o)}
                />`)}
            </div>
          ` : F}

      <!-- meetings -->
      ${Ie(this.availableFeatures, Le.Meetings, (r = this.features) == null ? void 0 : r.meetings) && this.meeting ? v`<div class="wy-item">
            <wy-icon name="zoom"></wy-icon>
            <div class="wy-item-body">${V("Zoom meeting")}</div>
            <wy-button kind="icon" @click=${this.handleRemoveMeeting}>
              <wy-icon name="close-circle"></wy-icon>
            </wy-button>
          </div>` : F}

      <!-- blobs -->
      ${e && e.length ? Ar(
      e,
      (n) => "mutation" + n.submittedAt,
      (n) => {
        var o, a;
        if ((o = n.context) != null && o.file) {
          const s = n.context.file, c = {
            ...n.context.status
          };
          return v`
                  <wy-file-item
                    .availableFeatures=${this.availableFeatures}
                    .features=${this.features}
                    .file=${(a = n.context) == null ? void 0 : a.file}
                    .status=${c}
                    title="${dp(n.context.type)}: ${s.name + (c.text ? `: ${c.text}` : "")}"
                  >
                    <span slot="title"
                      ><strong></strong> ${s.name}
                      ${c.text ? v`: <em>${c.text}</em>` : F}</span
                    >
                    <wy-button
                      slot="actions"
                      kind="icon"
                      @click=${() => this.handleRemoveUpload(n)}
                      title=${V("Discard", { desc: "Button action to discard" })}
                    >
                      <wy-icon name="close"></wy-icon>
                    </wy-button>
                  </wy-file-item>
                `;
        }
        return F;
      }
    ) : F}

      <!-- attachments -->
      ${this.attachments && this.attachments.map(
      (n) => v`<wy-file-item
          .file=${n}
          .availableFeatures=${this.availableFeatures}
          .features=${this.features}
          title="${n.name}"
        >
          <span slot="title">${n.name}</span>
          <wy-button
            slot="actions"
            kind="icon"
            @click=${() => this.handleRemoveAttachment(n)}
            title=${V("Remove", { desc: "Button action to remove" })}
          >
            <wy-icon name="close"></wy-icon>
          </wy-button>
        </wy-file-item>`
    )}

      <!-- embeds -->
      ${Ie(this.availableFeatures, Le.Embeds, (i = this.features) == null ? void 0 : i.embeds) && this.embeds.length > 0 ? v`<div class="wy-embed-preview">
            ${this.embeds.map(
      (n) => v`
                <wy-embed
                  class="wy-embed"
                  .embed=${n}
                  @embed-remove=${this.removeEmbed}
                  @embed-swap=${this.swapEmbed}
                  .enableSwap=${this.embeds.length > 1}
                ></wy-embed>
              `
    )}
          </div> ` : F}
    `;
  }
  renderCloudFiles() {
    return v`
      <wy-cloud-files
        ${Pe(this.cloudFilesRef)}
        @external-blobs=${(e) => this.handleExternalBlobs(e.detail.externalBlobs)}
      ></wy-cloud-files>
    `;
  }
  render() {
    const e = this.dropZone.isDragActive;
    return v`
      <div
        class=${dt({
      [this.editorClass]: !0,
      "wy-dragging": e
    })}
        data-drag-title=${V("Drop files here to upload.")}
      >
        ${this.renderTopSlot()} ${this.renderMiddleSlot()} ${this.renderBottomSlot()}
      </div>
      ${this.renderCloudFiles()}
    `;
  }
};
Ye.styles = ke;
at([
  tt({ context: Te, subscribe: !0 }),
  te()
], Ye.prototype, "weavyContext", 2);
at([
  m({ attribute: !1 })
], Ye.prototype, "app", 2);
at([
  m({ attribute: !1 })
], Ye.prototype, "parentId", 2);
at([
  m({ attribute: !1 })
], Ye.prototype, "user", 2);
at([
  m()
], Ye.prototype, "placeholder", 1);
at([
  m()
], Ye.prototype, "text", 2);
at([
  m({ attribute: !1 })
], Ye.prototype, "embed", 2);
at([
  m({ attribute: !1 })
], Ye.prototype, "options", 2);
at([
  m({ attribute: !1 })
], Ye.prototype, "attachments", 2);
at([
  m()
], Ye.prototype, "buttonText", 2);
at([
  m({ type: Boolean })
], Ye.prototype, "typing", 2);
at([
  m({ type: Boolean })
], Ye.prototype, "draft", 2);
at([
  m()
], Ye.prototype, "editorType", 2);
at([
  m()
], Ye.prototype, "editorClass", 2);
at([
  m()
], Ye.prototype, "editorLocation", 2);
at([
  m({ attribute: !1 })
], Ye.prototype, "availableFeatures", 2);
at([
  m({ attribute: !1 })
], Ye.prototype, "features", 2);
at([
  te()
], Ye.prototype, "meeting", 2);
at([
  te()
], Ye.prototype, "editorError", 2);
at([
  te()
], Ye.prototype, "showPolls", 2);
at([
  te()
], Ye.prototype, "pollOptions", 2);
at([
  te()
], Ye.prototype, "embeds", 2);
at([
  te()
], Ye.prototype, "draftKey", 2);
at([
  te()
], Ye.prototype, "keyMap", 2);
at([
  te()
], Ye.prototype, "editorExtensions", 2);
at([
  te()
], Ye.prototype, "editor", 2);
Ye = at([
  fe("wy-editor"),
  De()
], Ye);
var E_ = Object.defineProperty, S_ = Object.getOwnPropertyDescriptor, Tt = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? S_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && E_(t, r, n), n;
};
let kt = class extends we {
  constructor() {
    super(...arguments), this.temp = !1, this.createdAt = "", this.modifiedAt = void 0, this.isSubscribed = !1, this.isTrashed = !1, this.text = "", this.attachments = [], this.pollOptions = [], this.reactions = [], this.seenBy = [], this.userId = -1, this.features = {}, this.updateCommentMutation = new qi(this);
  }
  dispatchEdit(e) {
    const t = new CustomEvent("edit", { detail: { edit: e } });
    return this.dispatchEvent(t);
  }
  handleSubmit(e) {
    this.updateCommentMutation.mutate({
      id: this.commentId,
      type: "apps",
      parentId: this.parentId,
      text: e.detail.text,
      meetingId: e.detail.meetingId,
      blobs: e.detail.blobs,
      attachments: e.detail.attachments,
      pollOptions: e.detail.pollOptions,
      embed: e.detail.embed,
      user: this.user
    }), this.dispatchEdit(!1);
  }
  async willUpdate(e) {
    (e.has("app") || e.has("weavyContext")) && this.app && this.weavyContext && this.updateCommentMutation.trackMutation(
      xx(this.weavyContext, ["comments", this.parentId])
    );
  }
  render() {
    return v`
      <nav class="wy-item">
        <div class="wy-item-body">
          <div class="wy-item-title">${V("Edit comment")}</div>
        </div>

        <wy-button @click=${() => this.dispatchEdit(!1)} kind="icon">
          <wy-icon name="close"></wy-icon>
        </wy-button>
      </nav>
      <wy-editor
        editorLocation="posts"
        .text=${this.text}
        .embed=${this.embed}
        .options=${this.pollOptions}
        .attachments=${this.attachments}
        .app=${this.app}
        .user=${this.user}
        .parentId=${this.commentId}
        .availableFeatures=${this.availableFeatures}
        .features=${this.features}
        .typing=${!1}
        .draft=${!1}
        placeholder=${V("Edit comment...")}
        buttonText=${V("Update", { desc: "Button action to update" })}
        @submit=${(e) => this.handleSubmit(e)}></wy-editor>
    `;
  }
};
kt.styles = ke;
Tt([
  tt({ context: Te, subscribe: !0 }),
  te()
], kt.prototype, "weavyContext", 2);
Tt([
  m({ attribute: !1 })
], kt.prototype, "app", 2);
Tt([
  m({ attribute: !1 })
], kt.prototype, "user", 2);
Tt([
  m({ type: Number })
], kt.prototype, "parentId", 2);
Tt([
  m({ type: Number })
], kt.prototype, "commentId", 2);
Tt([
  m({ type: Boolean })
], kt.prototype, "temp", 2);
Tt([
  m({ attribute: !1 })
], kt.prototype, "createdBy", 2);
Tt([
  m()
], kt.prototype, "createdAt", 2);
Tt([
  m()
], kt.prototype, "modifiedAt", 2);
Tt([
  m({ type: Boolean })
], kt.prototype, "isSubscribed", 2);
Tt([
  m({ type: Boolean })
], kt.prototype, "isTrashed", 2);
Tt([
  m()
], kt.prototype, "text", 2);
Tt([
  m({ type: Array })
], kt.prototype, "attachments", 2);
Tt([
  m({ type: Array })
], kt.prototype, "pollOptions", 2);
Tt([
  m({ attribute: !1 })
], kt.prototype, "meeting", 2);
Tt([
  m({ attribute: !1 })
], kt.prototype, "embed", 2);
Tt([
  m({ type: Array })
], kt.prototype, "reactions", 2);
Tt([
  m({ type: Array })
], kt.prototype, "seenBy", 2);
Tt([
  m({ type: Number })
], kt.prototype, "userId", 2);
Tt([
  m({ type: Object })
], kt.prototype, "features", 2);
Tt([
  m({ type: Array })
], kt.prototype, "availableFeatures", 2);
kt = Tt([
  fe("wy-comment-edit"),
  De()
], kt);
var P_ = Object.defineProperty, A_ = Object.getOwnPropertyDescriptor, Rt = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? A_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && P_(t, r, n), n;
};
let Ct = class extends we {
  constructor() {
    super(...arguments), this.temp = !1, this.createdAt = "", this.modifiedAt = void 0, this.isTrashed = !1, this.html = "", this.text = "", this.attachments = [], this.pollOptions = [], this.reactions = [], this.commentCount = 0, this.seenBy = [], this.features = {}, this.editing = !1;
  }
  dispatchVote(e) {
    const t = new CustomEvent("vote", { detail: { id: e, parentId: this.commentId, parentType: "comments" } });
    return this.dispatchEvent(t);
  }
  dispatchSubscribe(e) {
    const t = new CustomEvent("subscribe", { detail: { id: this.commentId, subscribe: e } });
    return this.dispatchEvent(t);
  }
  dispatchTrash() {
    const e = new CustomEvent("trash", { detail: { id: this.commentId } });
    return this.dispatchEvent(e);
  }
  dispatchRestore() {
    const e = new CustomEvent("restore", { detail: { id: this.commentId } });
    return this.dispatchEvent(e);
  }
  render() {
    return v`
      ${this.isTrashed ? v`<wy-comment-trashed
            class="wy-comment"
            commentId=${this.commentId}
            @restore=${() => {
      this.dispatchRestore();
    }}></wy-comment-trashed> ` : F}
      ${!this.isTrashed && this.editing ? v`<wy-comment-edit
            class="wy-comment"
            .app=${this.app}
            .user=${this.user}
            .commentId=${this.commentId}
            .parentId=${this.parentId}
            .availableFeatures=${this.availableFeatures}
            .features=${this.features}
            .text=${this.text}
            .pollOptions=${this.pollOptions}
            .attachments=${this.attachments}
            .embed=${this.embed}
            @edit=${(e) => {
      this.editing = e.detail.edit;
    }}></wy-comment-edit> ` : F}
      ${!this.isTrashed && !this.editing ? v`<wy-comment-view
            class="wy-comment"
            id="${this.id}"
            .app=${this.app}
            .user=${this.user}
            .commentId=${this.commentId}
            .parentId=${this.parentId}
            .temp=${this.temp}
            .createdBy=${this.createdBy}
            .createdAt=${this.createdAt}
            .modifiedAt=${this.modifiedAt}
            .isTrashed=${this.isTrashed}
            .text=${this.text}
            .html=${this.html}            
            .attachments=${this.attachments}
            .embed=${this.embed}
            .meeting=${this.meeting}
            .pollOptions=${this.pollOptions}
            .reactions=${this.reactions}
            .availableFeatures=${this.availableFeatures}
            .features=${this.features}
            @edit=${(e) => {
      this.editing = e.detail.edit;
    }}
            @subscribe=${(e) => {
      this.dispatchSubscribe(e.detail.subscribe);
    }}
            @trash=${() => {
      this.dispatchTrash();
    }}
            @vote=${(e) => {
      this.dispatchVote(e.detail.id);
    }}></wy-comment-view> ` : F}
    `;
  }
};
Ct.styles = ke;
Rt([
  m({ attribute: !1 })
], Ct.prototype, "app", 2);
Rt([
  m({ attribute: !1 })
], Ct.prototype, "user", 2);
Rt([
  m({ type: Number })
], Ct.prototype, "commentId", 2);
Rt([
  m({ type: Number })
], Ct.prototype, "parentId", 2);
Rt([
  m({ type: Boolean })
], Ct.prototype, "temp", 2);
Rt([
  m({ attribute: !1 })
], Ct.prototype, "createdBy", 2);
Rt([
  m()
], Ct.prototype, "createdAt", 2);
Rt([
  m()
], Ct.prototype, "modifiedAt", 2);
Rt([
  m({ type: Boolean })
], Ct.prototype, "isTrashed", 2);
Rt([
  m()
], Ct.prototype, "html", 2);
Rt([
  m()
], Ct.prototype, "text", 2);
Rt([
  m({ attribute: !1 })
], Ct.prototype, "attachments", 2);
Rt([
  m({ type: Array })
], Ct.prototype, "pollOptions", 2);
Rt([
  m({ attribute: !1 })
], Ct.prototype, "meeting", 2);
Rt([
  m({ attribute: !1 })
], Ct.prototype, "embed", 2);
Rt([
  m({ type: Array })
], Ct.prototype, "reactions", 2);
Rt([
  m({ attribute: !1 })
], Ct.prototype, "commentCount", 2);
Rt([
  m({ type: Array })
], Ct.prototype, "seenBy", 2);
Rt([
  m({ type: Object })
], Ct.prototype, "features", 2);
Rt([
  m({ type: Array })
], Ct.prototype, "availableFeatures", 2);
Rt([
  te()
], Ct.prototype, "editing", 2);
Ct = Rt([
  fe("wy-comment")
], Ct);
var L_ = Object.defineProperty, M_ = Object.getOwnPropertyDescriptor, O_ = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? M_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && L_(t, r, n), n;
};
let Zy = class extends Ye {
  constructor() {
    super(), this.editorType = "comments", this.editorClass = "wy-comment-editor";
  }
  renderTopSlot() {
    return F;
  }
  renderMiddleSlot() {
    var e, t, r, i, n, o, a, s, c, l;
    return v`<div class="wy-comment-editor-inputs">
      <!-- Add -->
      ${Ie(this.availableFeatures, Le.Attachments, (e = this.features) == null ? void 0 : e.attachments) || Ie(this.availableFeatures, Le.CloudFiles, (t = this.features) == null ? void 0 : t.cloudFiles) || Ie(this.availableFeatures, Le.Meetings, (r = this.features) == null ? void 0 : r.meetings) ? v`<wy-dropdown icon="plus" directionY="up">
            ${Ie(this.availableFeatures, Le.Attachments, (i = this.features) == null ? void 0 : i.attachments) ? v`<wy-dropdown-item @click=${this.openFileInput} title=${V("From device")}>
                    <wy-icon name="attachment"></wy-icon>
                    <span>${V("From device")}</span>
                  </wy-dropdown-item>
                  <input
                    type="file"
                    ${Pe(this.fileInputRef)}
                    @click=${(d) => d.stopPropagation()}
                    @change=${(d) => this.handleUploadFiles(
      Array.from(d.target.files || []),
      d.target
    )}
                    multiple
                    hidden
                    tabindex="-1"
                  />` : F}
            ${Ie(this.availableFeatures, Le.CloudFiles, (n = this.features) == null ? void 0 : n.cloudFiles) ? v`<wy-dropdown-item @click=${this.openCloudFiles} title=${V("From cloud")}>
                  <wy-icon name="cloud"></wy-icon>
                  <span>${V("From cloud")}</span>
                </wy-dropdown-item>` : F}
            ${Ie(this.availableFeatures, Le.Confluence, (o = this.features) == null ? void 0 : o.confluence) && ((a = this.weavyContext) != null && a.confluenceAuthenticationUrl) ? v`<wy-confluence
                  dropdown
                  @external-blobs=${(d) => this.handleExternalBlobs(d.detail.externalBlobs)}
                ></wy-confluence>` : F}
            ${Ie(this.availableFeatures, Le.Meetings, (s = this.features) == null ? void 0 : s.meetings) && ((c = this.weavyContext) != null && c.zoomAuthenticationUrl) ? v`<wy-dropdown-item @click=${this.handleZoomClick} title=${V("Zoom meeting")}>
                  <wy-icon name="zoom"></wy-icon>
                  <span>${V("Zoom meeting")}</span>
                </wy-dropdown-item>` : F}
            ${Ie(this.availableFeatures, Le.Polls, (l = this.features) == null ? void 0 : l.polls) ? v`<wy-dropdown-item @click=${this.openPolls} title=${V("Poll")}>
                  <wy-icon name="poll"></wy-icon>
                  <span>${V("Poll")}</span>
                </wy-dropdown-item>` : F}
          </wy-dropdown>` : F}

      <!-- Input -->
      <div
        class=${dt({ "wy-comment-editor-text": !0, "wy-is-invalid": this.editorError })}
        ${Pe(this.editorRef)}
      ></div>

      <!-- Button -->
      <wy-button kind="icon" @click="${this.submit}" title=${this.buttonText}>
        <wy-icon name="send"></wy-icon>
      </wy-button>
    </div>`;
  }
  renderBottomSlot() {
    return this.renderLists();
  }
};
Zy = O_([
  fe("wy-comment-editor"),
  De()
], Zy);
const pc = (e, t, r) => e === ui.Read && ((r == null ? void 0 : r.indexOf(Ka.Read)) != -1 || (r == null ? void 0 : r.indexOf(Ka.Create)) != -1) || e === ui.Write && (r == null ? void 0 : r.indexOf(Ka.Create)) != -1 || e === ui.Admin && (r == null ? void 0 : r.indexOf(Ka.Admin)) != -1;
var I_ = Object.defineProperty, T_ = Object.getOwnPropertyDescriptor, Bn = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? T_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && I_(t, r, n), n;
};
let Ii = class extends we {
  constructor() {
    super(...arguments), this.location = "apps", this.features = {}, this.commentsQuery = new Aa(this), this.addCommentMutation = new qi(this), this.infiniteScroll = new La(this), this.pagerRef = Ve(), this.handleRealtimeCommentCreated = (e) => {
      var t;
      !this.weavyContext || e.actor.id === this.user.id || ((t = e.comment.parent) == null ? void 0 : t.id) !== this.parentId || (e.comment.created_by = e.actor, Gi(this.weavyContext.queryClient, ["comments", this.parentId], e.comment, void 0, {
        descending: !1
      }));
    }, this.handleRealtimeReactionAdded = (e) => {
      !this.weavyContext || e.actor.id === this.user.id || e.entity.type !== "comment" || et(
        this.weavyContext.queryClient,
        ["comments", this.parentId],
        e.entity.id,
        (t) => {
          t.reactions = [
            ...t.reactions || [],
            { content: e.reaction, created_by_id: e.actor.id }
          ];
        }
      );
    }, this.handleRealtimeReactionDeleted = (e) => {
      !this.weavyContext || e.actor.id === this.user.id || e.entity.type !== "comment" || et(
        this.weavyContext.queryClient,
        ["comments", this.parentId],
        e.entity.id,
        (t) => {
          t.reactions = t.reactions.filter((r) => r.created_by_id !== e.actor.id);
        }
      );
    };
  }
  async willUpdate(e) {
    (e.has("parentId") || e.has("weavyContext")) && this.parentId && this.weavyContext && (this.commentsQuery.trackInfiniteQuery(bx(this.weavyContext, this.location, this.parentId)), this.addCommentMutation.trackMutation(
      _x(this.weavyContext, ["comments", this.parentId])
    ), this.removeCommentMutation = Cx(this.weavyContext, this.parentId), this.restoreCommentMutation = Ex(this.weavyContext, this.parentId), this.pollMutation = gh(this.weavyContext, ["comments", this.parentId])), e.has("weavyContext") && this.weavyContext && (this.weavyContext.subscribe(`a${this.app.id}`, "comment_created", this.handleRealtimeCommentCreated), this.weavyContext.subscribe(`a${this.app.id}`, "reaction_added", this.handleRealtimeReactionAdded), this.weavyContext.subscribe(`a${this.app.id}`, "reaction_removed", this.handleRealtimeReactionDeleted));
  }
  update(e) {
    super.update(e), this.infiniteScroll.observe(this.commentsQuery.result, this.pagerRef.value);
  }
  async handleSubmit(e) {
    this.app && await this.addCommentMutation.mutate({
      appId: this.app.id,
      parentId: this.parentId,
      type: this.location,
      text: e.detail.text,
      meetingId: e.detail.meetingId,
      blobs: e.detail.blobs,
      pollOptions: e.detail.pollOptions,
      embed: e.detail.embed,
      user: this.user
    });
  }
  renderComments(e) {
    if (e) {
      const t = e.pages.flatMap((r) => r.data);
      return Ar(
        t,
        (r) => r.id,
        (r) => [
          v`<wy-comment
              id="comment-${r.id}"
              .app=${this.app}
              .user=${this.user}
              .commentId=${r.id}
              .parentId=${this.parentId}
              .temp=${r.temp || !1}
              .createdBy=${r.created_by}
              .createdAt=${r.created_at}
              .modifiedAt=${r.modified_at}
              .isTrashed=${r.is_trashed}
              .html=${r.html}
              .text=${r.text}
              .attachments=${r.attachments}
              .embed=${r.embed}
              .meeting=${r.meeting}
              .pollOptions=${r.options}
              .reactions=${r.reactions}
              .availableFeatures=${this.availableFeatures}
              .features=${this.features}
              @trash=${(i) => {
            var n;
            (n = this.removeCommentMutation) == null || n.mutate({
              id: i.detail.id,
              appId: this.app.id,
              parentId: this.parentId,
              type: this.location
            });
          }}
              @restore=${(i) => {
            var n;
            (n = this.restoreCommentMutation) == null || n.mutate({
              id: i.detail.id,
              appId: this.app.id,
              parentId: this.parentId,
              type: this.location
            });
          }}
              @vote=${(i) => {
            var n;
            (n = this.pollMutation) == null || n.mutate({
              optionId: i.detail.id,
              parentType: i.detail.parentType,
              parentId: i.detail.parentId
            });
          }}
            ></wy-comment>`
        ]
      );
    }
    return F;
  }
  render() {
    const { data: e, isPending: t } = this.commentsQuery.result ?? {};
    return v`<div>
      <div class="wy-comments">
        ${!t && this.app && e && this.availableFeatures ? this.renderComments(e) : v`<wy-spinner class="wy-content-icon"></wy-spinner>`}
        <div ${Pe(this.pagerRef)} class="wy-pager"></div>
      </div>
      ${pc(ui.Write, this.app.access, this.app.permissions) ? v`
            <wy-comment-editor
              editorLocation=${this.location}
              .app=${this.app}
              .user=${this.user}
              .parentId=${this.parentId}
              .availableFeatures=${this.availableFeatures}
              .features=${this.features}
              .typing=${!1}
              .draft=${!0}
              placeholder=${V("Create a comment...")}
              buttonText=${V("Comment", { desc: "Button action to comment" })}
              @submit=${(r) => this.handleSubmit(r)}
            ></wy-comment-editor>
          ` : F}
    </div>`;
  }
  disconnectedCallback() {
    this.weavyContext && this.app && (this.weavyContext.unsubscribe(`a${this.app.id}`, "comment_created", this.handleRealtimeCommentCreated), this.weavyContext.unsubscribe(`a${this.app.id}`, "reaction_added", this.handleRealtimeReactionAdded), this.weavyContext.unsubscribe(`a${this.app.id}`, "reaction_removed", this.handleRealtimeReactionDeleted)), super.disconnectedCallback();
  }
};
Ii.styles = ke;
Bn([
  tt({ context: Te, subscribe: !0 }),
  te()
], Ii.prototype, "weavyContext", 2);
Bn([
  m({ attribute: !1 })
], Ii.prototype, "app", 2);
Bn([
  m({ attribute: !1 })
], Ii.prototype, "user", 2);
Bn([
  m({ type: Number })
], Ii.prototype, "parentId", 2);
Bn([
  m({ attribute: !1 })
], Ii.prototype, "location", 2);
Bn([
  m({ type: Object })
], Ii.prototype, "features", 2);
Bn([
  m({ type: Array })
], Ii.prototype, "availableFeatures", 2);
Ii = Bn([
  fe("wy-comment-list"),
  De()
], Ii);
function xh(e, t) {
  return ["apps", e.id, "file", t.id, "versions"];
}
function R_(e, t, r) {
  const i = e.queryClient, n = ["apps", t.id, "files"], o = xh(t, r), a = {
    mutationKey: n,
    mutationFn: async ({ versionFile: s }) => {
      if (s.id >= 1 && s.version)
        return (await e.post(
          `/api/files/${s.id}/versions/${s.version}/restore`,
          "POST",
          ""
        )).json();
      throw new Error(`Could not restore ${s.name} to version ${s.version}.`);
    },
    onMutate: async (s) => (Ke(
      i,
      { queryKey: a.mutationKey, exact: !1 },
      s.versionFile.id,
      (c) => Object.assign(c, s.versionFile, { status: "pending" })
    ), { type: "version", file: r, status: { state: "pending" } }),
    onSuccess: (s, c) => {
      Ke(
        i,
        { queryKey: a.mutationKey, exact: !1 },
        c.versionFile.id,
        (l) => Object.assign(l, s, { status: "ok" })
      ), Mt(i, a.mutationKey, c, (l) => {
        l.status.state = "ok";
      });
    },
    onError(s, c, l) {
      l != null && l.file && Ke(
        i,
        { queryKey: a.mutationKey, exact: !1 },
        c.versionFile.id,
        (d) => Object.assign(d, l.file, { status: "error" })
      ), Mt(i, a.mutationKey, c, (d) => {
        d.status.state = "error", d.status.text = s.message;
      });
    },
    onSettled() {
      i.invalidateQueries({ queryKey: o });
    }
  };
  return a;
}
function D_(e, t, r) {
  return new rt(e.queryClient, R_(e, t, r));
}
function F_(e, t, r) {
  const i = e.queryClient, n = xh(t, r);
  return {
    mutationKey: n,
    mutationFn: async ({ versionFile: a }) => {
      if (a.id >= 1 && a.version) {
        const s = await e.post(
          `/api/files/${a.id}/versions/${a.version}`,
          "DELETE",
          ""
        );
        if (!s.ok) {
          const c = await s.json();
          throw new Error(c.detail || c.title, { cause: c });
        }
      } else {
        const s = {
          status: 400,
          title: `Could not remove ${a.name} version ${a.version}.`
        };
        throw new Error(s.detail || s.title, { cause: s });
      }
    },
    onMutate: async (a) => {
      et(
        i,
        n,
        (c) => c.id === a.versionFile.id && c.version === a.versionFile.version,
        (c) => Object.assign(c, { status: "pending" })
      );
    },
    onSuccess: (a, s) => {
      th(i, n, (l) => l.id === s.versionFile.id && l.version === s.versionFile.version);
    },
    onError(a, s) {
      et(
        i,
        n,
        (l) => l.id === s.versionFile.id && l.version === s.versionFile.version,
        (l) => Object.assign(l, { status: void 0 })
      );
    }
  };
}
function z_(e, t, r) {
  return new rt(e.queryClient, F_(e, t, r));
}
var V_ = Object.defineProperty, N_ = Object.getOwnPropertyDescriptor, Lo = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? N_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && V_(t, r, n), n;
};
let tn = class extends we {
  constructor() {
    super(...arguments), this.features = {}, this.availableFeatures = [], this.fileVersionsQuery = new lt(this);
  }
  selectVersion(e) {
    this.activeVersion = e, this.dispatchFileVersionSelect(e);
  }
  dispatchFileVersionSelect(e) {
    const t = new CustomEvent("file-version-select", { detail: { versionFile: e } });
    return this.dispatchEvent(t);
  }
  handleRevert(e) {
    var t;
    console.debug("reverting file version", e.version), (t = this.fileVersionRestoreMutation) == null || t.mutate({ versionFile: e }), this.selectVersion(e);
  }
  handleRemove(e) {
    var t;
    console.debug("removing file version", e.version), (t = this.fileVersionDeleteMutation) == null || t.mutate({ versionFile: e }), this.activeVersion === e && (this.activeVersion = this.file);
  }
  triggerDownload(e) {
    cs(e.download_url, "_top", e.name, !0);
  }
  willUpdate(e) {
    (e.has("weavyContext") || e.has("file")) && this.weavyContext && this.fileVersionsQuery.trackQuery(
      Bt(
        this.weavyContext,
        xh(this.app, this.file),
        `/api/files/${this.file.id}/versions`
      )
    ), (e.has("weavyContext") || e.has("app") || e.has("file")) && this.weavyContext && this.app && this.file && (this.fileVersionRestoreMutation = D_(this.weavyContext, this.app, this.file), this.fileVersionDeleteMutation = z_(this.weavyContext, this.app, this.file));
  }
  render() {
    const { data: e, isPending: t } = this.fileVersionsQuery.result ?? { isPending: !0 };
    return t ? v`<wy-spinner overlay></wy-spinner>` : e ? v`
          <div class="wy-list wy-versions">
            ${Ar(
      e,
      (r) => r.id,
      (r, i) => {
        var h, y, w, b;
        const n = Fn(r.name || "").icon, o = e.length - i, a = gi(r.name), s = new Date(r.modified_at || r.created_at), c = !!this.file.external_url, l = new Intl.DateTimeFormat((h = this.weavyContext) == null ? void 0 : h.locale, {
          dateStyle: "full",
          timeStyle: "short"
        }).format(s), d = lc((y = this.weavyContext) == null ? void 0 : y.locale, new Date(s));
        return c ? v`
                      <wy-empty noNetwork>
                        <span slot="title">${V("Versions are not available for external cloud files.")}</span>
                      </wy-empty>
                    ` : v`
                      <div
                        class="wy-item wy-item-hover wy-item-lg ${dt({
          "wy-active": r.version == ((w = this.activeVersion) == null ? void 0 : w.version)
        })}"
                        tabindex="0"
                        @click=${() => this.selectVersion(r)}
                        @keydown=${Pn}
                        @keyup=${An}
                      >
                        <wy-icon name=${n} size="48" kind=${r.kind} ext=${a}></wy-icon>
                        <div class="wy-item-body">
                          <div class="wy-item-title">${o}. ${r.name}</div>
                          <div class="wy-item-text">
                            <time datetime=${r.modified_at || r.created_at} title=${l}
                              >${d}</time
                            >
                            · ${(b = r.modified_by) == null ? void 0 : b.display_name}</div
                          >
                        </div>

                        <wy-dropdown directionX="left">
                          <wy-dropdown-item @click=${() => this.triggerDownload(r)}>
                            <wy-icon name="download"></wy-icon>
                            ${V("Download")}
                          </wy-dropdown-item>

                          ${r.version !== this.file.version ? v`
                                <wy-dropdown-divider></wy-dropdown-divider>
                                <wy-dropdown-item @click=${() => this.handleRevert(r)}>
                                  <wy-icon name="restore"></wy-icon>
                                  ${"Revert"}
                                </wy-dropdown-item>
                                <wy-dropdown-item @click=${() => this.handleRemove(r)}>
                                  <wy-icon name="delete"></wy-icon>
                                  ${V("Remove", { desc: "Button action to remove" })}
                                </wy-dropdown-item>
                              ` : F}
                        </wy-dropdown>
                      </div>
                    `;
      }
    )}
          </div>
        ` : F;
  }
};
tn.styles = ke;
Lo([
  tt({ context: Te, subscribe: !0 }),
  te()
], tn.prototype, "weavyContext", 2);
Lo([
  m({ attribute: !1 })
], tn.prototype, "app", 2);
Lo([
  m({ attribute: !1 })
], tn.prototype, "file", 2);
Lo([
  m({ attribute: !1 })
], tn.prototype, "activeVersion", 2);
Lo([
  m({ type: Object })
], tn.prototype, "features", 2);
Lo([
  te()
], tn.prototype, "availableFeatures", 2);
tn = Lo([
  fe("wy-file-versions"),
  De()
], tn);
var B_ = Object.defineProperty, H_ = Object.getOwnPropertyDescriptor, Dt = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? H_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && B_(t, r, n), n;
};
let $t = class extends we {
  constructor() {
    super(...arguments), this.uid = "preview", this.features = {}, this.availableFeatures = [], this.currentId = NaN, this.commentCount = NaN, this.isAttachment = !1, this.showOverlay = !1, this.commentsOpen = !1, this.versionsOpen = !1, this.sidePanelMaximized = !1, this.persistState = new vh(this), this.history = new G2(this), this.previewFileRef = Ve(), this.swipeScrollRef = Ve(), this.prevRef = Ve(), this.nextRef = Ve(), this.swipeScroller = new j2(this), this.disableSwipeScroll = !1, this.handleKeys = (e) => {
      this.showOverlay && (e.key === "ArrowLeft" ? (e.stopPropagation(), this.setPrev()) : e.key === "ArrowRight" && (e.stopPropagation(), this.setNext()));
    };
  }
  open(e, t, r) {
    t && (this.files = t), e && (this.currentId = e.id, this.commentCount = e.comment_count), r && (this.uid = r), this.showOverlay = !0;
  }
  close() {
    this.history.hasBackNavigation ? this.history.backAll() : this.showOverlay = !1;
  }
  toggleSidebarTab(e, t) {
    e === "comments" ? (this.versionsOpen = !1, this.commentsOpen = t !== void 0 ? t : !this.commentsOpen) : e === "versions" ? (this.commentsOpen = !1, this.versionsOpen = t !== void 0 ? t : !this.versionsOpen) : (this.commentsOpen = !1, this.versionsOpen = !1);
  }
  handleVersionFile(e) {
    this.versionFile = e.detail.versionFile;
  }
  scrollToPrev() {
    var e;
    this.prevRef.value && (this.unblockSwipeScroll(), this.prevRef.value.scrollIntoView({ behavior: (e = this.weavyContext) == null ? void 0 : e.scrollBehavior }));
  }
  scrollToNext() {
    var e;
    this.nextRef.value && (this.unblockSwipeScroll(), this.nextRef.value.scrollIntoView({ behavior: (e = this.weavyContext) == null ? void 0 : e.scrollBehavior }));
  }
  blockSwipeScroll(e = 20) {
    window.clearTimeout(this.disableSwipeScrollTimeout), this.disableSwipeScroll = !0, this.disableSwipeScrollTimeout = window.setTimeout(() => this.disableSwipeScroll = !1, e);
  }
  unblockSwipeScroll() {
    window.clearTimeout(this.disableSwipeScrollTimeout), this.disableSwipeScroll = !1;
  }
  setPrev() {
    this.currentId = this.previousFile.id, this.blockSwipeScroll();
  }
  setNext() {
    this.currentId = this.nextFile.id, this.blockSwipeScroll();
  }
  currentPreviewFileCallback(e) {
    e == null || e.scrollIntoView(), requestAnimationFrame(() => e == null ? void 0 : e.scrollIntoView());
  }
  willUpdate(e) {
    if (e.has("app") && this.app && (this.persistState.observe(
      ["commentsOpen", "versionsOpen"],
      `${this.app.type}-${this.app.id.toString()}-${this.uid}`
    ), this.commentsOpen && this.versionsOpen && (this.versionsOpen = !1), this.history.observe(
      ["showOverlay", "currentFile", "versionFile"],
      `${this.app.type}-${this.app.id.toString()}-${this.uid}}`
    )), e.has("queryResult") && this.queryResult) {
      const { data: t } = this.queryResult ?? {};
      this.files = t == null ? void 0 : t.filter((r) => r && !r.is_trashed);
    }
    if (e.has("infiniteQueryResult") && this.infiniteQueryResult) {
      const { data: t } = this.infiniteQueryResult ?? {};
      this.files = t == null ? void 0 : t.pages.flatMap((r) => r.data).filter((r) => r && !r.is_trashed).filter((r) => r);
    }
    (e.has("files") || e.has("currentId") || e.has("showOverlay")) && this.files && this.showOverlay && (this.currentFile = void 0, this.previousFile = void 0, this.nextFile = void 0, this.versionFile = void 0, this.currentFile = this.files.find((t, r) => this.files && t.id === this.currentId ? (r >= 1 && (this.previousFile = this.files[r - 1]), r < this.files.length - 1 && (this.nextFile = this.files[r + 1]), this.infiniteQueryResult && r >= this.files.length - 2 && this.infiniteQueryResult.hasNextPage && !this.infiniteQueryResult.isFetchingNextPage && this.infiniteQueryResult.fetchNextPage(), this.infiniteQueryResult && r <= 1 && this.infiniteQueryResult.hasPreviousPage && !this.infiniteQueryResult.isFetchingPreviousPage && this.infiniteQueryResult.fetchPreviousPage(), !0) : !1)), e.has("currentFile") && this.currentFile && !this.files && (this.files = [this.currentFile]);
  }
  renderHeader(e) {
    var r, i;
    const t = {
      "wy-appbar-text-trashed": !!(e != null && e.is_trashed)
    };
    return v` <header class="wy-appbars">
      <nav class="wy-appbar">
        <wy-button kind="icon" @click=${() => this.close()}><wy-icon name="close"></wy-icon></wy-button>
        <div class="wy-appbar-text ${dt(t)}">
          ${e ? v` <span>${e.name}</span> ` : F}
        </div>
        <div class="wy-appbar-buttons">
          ${e ? v`
                ${e.id >= 1 && !this.isAttachment && Ie(this.availableFeatures, Le.Comments, (r = this.features) == null ? void 0 : r.comments) ? v`
                      <wy-button
                        kind="icon"
                        ?active=${this.commentsOpen}
                        @click=${() => this.toggleSidebarTab("comments")}
                        title=${V("Comments")}
                      >
                        <div class="wy-icon-active-stack">
                          ${this.commentCount && this.commentCount > 0 ? v` <span class="wy-icon-stack-item"><wy-icon name="comment"></wy-icon></span>
                                <span class="wy-icon-stack-item"><wy-icon name="comment"></wy-icon></span>` : v` <span class="wy-icon-stack-item"><wy-icon name="comment-outline"></wy-icon></span>
                                <span class="wy-icon-stack-item"><wy-icon name="comment"></wy-icon></span>`}
                        </div>
                      </wy-button>
                    ` : F}
                <wy-file-menu
                  .file=${e}
                  .availableFeatures=${this.availableFeatures}
                  .features=${this.features}
                >
                  ${e.id >= 1 && !this.isAttachment && Ie(this.availableFeatures, Le.Versions, (i = this.features) == null ? void 0 : i.versions) ? v`
                        <wy-dropdown-item
                          ?active=${this.versionsOpen}
                          @click=${() => this.toggleSidebarTab("versions")}
                        >
                          <wy-icon name="backup-restore"></wy-icon>
                          ${V("Versions")}
                        </wy-dropdown-item>
                      ` : F}
                </wy-file-menu>
              ` : F}
        </div>
      </nav>
    </header>`;
  }
  render() {
    let e = this.files === void 0;
    this.queryResult ? e = this.queryResult.isPending : this.infiniteQueryResult && (e = this.infiniteQueryResult.isPending);
    const t = this.versionFile || this.currentFile, r = [this.previousFile, t, this.nextFile].filter((n) => n);
    this.commentsOpen && this.versionsOpen && (this.versionsOpen = !1);
    const i = {
      "wy-preview-swiper-disabled": this.disableSwipeScroll
    };
    return Yi(
      this.showOverlay,
      v`
        <wy-overlay
          class="wy-dark"
          maximized
          @keyup=${this.handleKeys}
          @release-focus=${() => this.dispatchEvent(new CustomEvent("release-focus", { bubbles: !0, composed: !0 }))}
        >
          ${this.renderHeader(this.currentFile)}

          <div class="wy-main">
            <aside
              id="tab-comments"
              class="wy-sidebar ${dt({
        "wy-active": this.commentsOpen,
        "wy-maximized": this.sidePanelMaximized
      })}"
              ?hidden=${!this.commentsOpen}
            >
              <nav class="wy-item">
                <div class="wy-item-body">
                  <div class="wy-item-title">${V("Comments")}</div>
                </div>
                <wy-button kind="icon" @click=${() => this.toggleSidebarTab("comments", !1)}>
                  <wy-icon name="close"></wy-icon>
                </wy-button>
                <button
                  @click=${() => this.sidePanelMaximized = !this.sidePanelMaximized}
                  class="wy-sidebar-handle"
                  title=${this.sidePanelMaximized ? V("Restore side panel") : V("Maximize side panel")}
                ></button>
              </nav>
              <div class="wy-pane wy-scroll-y">
                ${this.commentsOpen && this.currentFile && this.currentFile.id >= 1 && this.app && this.user ? v`
                      <wy-comment-list
                        .app=${this.app}
                        .user=${this.user}
                        .parentId=${this.currentFile.id}
                        .location=${"files"}
                        .availableFeatures=${this.availableFeatures}
                        .features=${this.features}
                      ></wy-comment-list>
                    ` : F}
              </div>
            </aside>
            <aside
              id="tab-versions"
              class="wy-sidebar ${dt({
        "wy-active": this.versionsOpen,
        "wy-maximized": this.sidePanelMaximized
      })}"
              ?hidden=${!this.versionsOpen}
            >
              <nav class="wy-item">
                <div class="wy-item-body">
                  <div class="wy-item-title">${V("Versions")}</div>
                </div>
                <wy-button kind="icon" @click=${() => this.toggleSidebarTab("versions", !1)}>
                  <wy-icon name="close"></wy-icon>
                </wy-button>
                <button
                  @click=${() => this.sidePanelMaximized = !this.sidePanelMaximized}
                  class="wy-sidebar-handle"
                  title=${this.sidePanelMaximized ? V("Restore side panel") : V("Maximize side panel")}
                ></button>
              </nav>
              <div class="wy-pane wy-scroll-y">
                <div class="wy-pane-body">
                  ${this.versionsOpen && this.currentFile && this.app ? v`
                        <wy-file-versions
                          .app=${this.app}
                          .file=${this.currentFile}
                          .activeVersion=${this.versionFile || this.currentFile}
                          .availableFeatures=${this.availableFeatures}
                          .features=${this.features}
                          @file-version-select=${(n) => this.handleVersionFile(n)}
                        ></wy-file-versions>
                      ` : F}
                </div>
              </div>
            </aside>

            <div class="wy-preview">
              <div ${Pe(this.swipeScrollRef)} class="wy-preview-swiper ${dt(i)}">
                ${Ar(
        r,
        (n) => "preview-area-" + (n == null ? void 0 : n.id),
        (n) => {
          const o = n === t ? this.currentPreviewFileCallback : n === this.nextFile ? this.nextRef : n === this.previousFile ? this.prevRef : void 0;
          return n ? v`
                          <div
                            id="preview-${n.id}"
                            ${Pe(o)}
                            class="wy-preview-area wy-scroll-y wy-scroll-x"
                          >
                            ${e ? v` <wy-spinner overlay></wy-spinner> ` : v` <wy-preview-item .file=${n}></wy-preview-item> `}
                          </div>
                        ` : F;
        }
      )}
              </div>
              ${this.currentFile ? v`
                    ${this.previousFile ? v`
                          <nav class="wy-nav-prev">
                            <wy-button kind="icon" @click=${() => this.scrollToPrev()}>
                              <wy-icon name="previous"></wy-icon>
                            </wy-button>
                          </nav>
                        ` : F}
                    ${this.nextFile ? v`
                          <nav class="wy-nav-next">
                            <wy-button kind="icon" @click=${() => this.scrollToNext()}>
                              <wy-icon name="next"></wy-icon>
                            </wy-button>
                          </nav>
                        ` : F}
                  ` : F}
            </div>
          </div>
        </wy-overlay>
      `,
      () => this.close()
    );
  }
  updated() {
    requestAnimationFrame(
      () => requestAnimationFrame(() => {
        var e, t;
        this.swipeScrollRef.value ? ((e = this.swipeScroller).whenPrev ?? (e.whenPrev = async () => this.setPrev()), (t = this.swipeScroller).whenNext ?? (t.whenNext = async () => this.setNext()), this.swipeScroller.createObserver(this.swipeScrollRef.value), this.swipeScroller.observe(this.prevRef.value, this.nextRef.value)) : this.swipeScroller.clearObserver();
      })
    );
  }
};
$t.styles = [ke];
Dt([
  tt({ context: Te, subscribe: !0 }),
  te()
], $t.prototype, "weavyContext", 2);
Dt([
  m()
], $t.prototype, "uid", 2);
Dt([
  m({ type: Object })
], $t.prototype, "features", 2);
Dt([
  te()
], $t.prototype, "availableFeatures", 2);
Dt([
  m({ attribute: !1 })
], $t.prototype, "files", 2);
Dt([
  m({ attribute: !1 })
], $t.prototype, "queryResult", 2);
Dt([
  m({ attribute: !1 })
], $t.prototype, "infiniteQueryResult", 2);
Dt([
  m({ type: Object })
], $t.prototype, "app", 2);
Dt([
  m({ type: Object })
], $t.prototype, "user", 2);
Dt([
  m({ type: Number })
], $t.prototype, "currentId", 2);
Dt([
  m({ type: Number })
], $t.prototype, "commentCount", 2);
Dt([
  m({ type: Boolean })
], $t.prototype, "isAttachment", 2);
Dt([
  te()
], $t.prototype, "currentFile", 2);
Dt([
  te()
], $t.prototype, "previousFile", 2);
Dt([
  te()
], $t.prototype, "nextFile", 2);
Dt([
  te()
], $t.prototype, "showOverlay", 2);
Dt([
  te()
], $t.prototype, "commentsOpen", 2);
Dt([
  te()
], $t.prototype, "versionsOpen", 2);
Dt([
  te()
], $t.prototype, "versionFile", 2);
Dt([
  te()
], $t.prototype, "sidePanelMaximized", 2);
Dt([
  te()
], $t.prototype, "disableSwipeScroll", 2);
$t = Dt([
  fe("wy-preview"),
  De()
], $t);
var j_ = Object.defineProperty, U_ = Object.getOwnPropertyDescriptor, Et = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? U_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && j_(t, r, n), n;
};
let ht = class extends we {
  constructor() {
    super(...arguments), this.me = !1, this.isBot = !1, this.isPrivateChat = !1, this.temp = !1, this.sent = null, this.delivered = null, this.displayName = "", this.avatar = "", this.createdAt = "", this.html = "", this.text = "", this.attachments = [], this.pollOptions = [], this.reactions = [], this.seenBy = [], this.userId = -1, this.features = {}, this.previewRef = Ve();
  }
  dispatchVote(e) {
    const t = new CustomEvent("vote", { detail: { id: e, parentId: this.messageId } });
    return this.dispatchEvent(t);
  }
  render() {
    var n, o, a, s, c, l, d;
    const e = (n = this.attachments) == null ? void 0 : n.filter((h) => h.kind === "image" && h.thumbnail_url), t = (o = this.attachments) == null ? void 0 : o.filter((h) => h.kind !== "image" || !h.thumbnail_url), r = this.createdAt ? new Intl.DateTimeFormat((a = this.weavyContext) == null ? void 0 : a.locale, { dateStyle: "full", timeStyle: "short" }).format(
      new Date(this.createdAt)
    ) : "", i = this.createdAt ? new Intl.DateTimeFormat((s = this.weavyContext) == null ? void 0 : s.locale, { timeStyle: "short" }).format(new Date(this.createdAt)) : "";
    return v`
      <div class=${dt({ "wy-message": !0, "wy-message-me": this.me, "wy-message-bot": this.isBot })}>
        ${this.me ? "" : v`
              <div class="wy-message-author">
                <wy-avatar .src="${this.avatar}" .size=${32} .name="${this.displayName}" .isBot=${this.isBot}></wy-avatar>
              </div>
            `}

        <div class="wy-message-content">
          <div class="wy-message-meta">
            ${!this.isPrivateChat && !this.me ? v` <span>${this.displayName} · </span> ` : ""}
            <time datetime=${this.createdAt} title=${r}>${i}</time>
          </div>

          <div class="wy-message-bubble">
            ${this.temp ? v`<wy-skeleton .text=${this.text}></wy-skeleton>` : v`
                  <!-- image grid -->
                  ${e && e.length ? v`<wy-image-grid
                        .images=${e}
                        @file-open=${(h) => {
      var y;
      (y = this.previewRef.value) == null || y.open(h.detail.file);
    }}></wy-image-grid>` : ""}

                  <!-- embeds -->
                  ${this.embed && Ie(this.availableFeatures, Le.Embeds, (c = this.features) == null ? void 0 : c.embeds) ? v` <wy-embed class="wy-embed" .embed=${this.embed}></wy-embed> ` : F}

                  <!-- text -->
                  ${this.html ? v`<div class="wy-content">${yo(this.html)}</div>` : ""}

                   <!-- poll -->
                  ${this.pollOptions && this.pollOptions.length > 0 ? v`
                        <wy-poll
                          .pollOptions=${this.pollOptions}
                          @vote=${(h) => this.dispatchVote(h.detail.id)}></wy-poll>
                      ` : F}

                  <!-- meeting -->
                  ${this.meeting ? v`<wy-meeting-card .meeting=${this.meeting}></wy-meeting-card>` : ""}

                  <!-- files -->
                  ${t && t.length ? v`<wy-attachments-list
                        .files=${t}
                        @file-open=${(h) => {
      var y;
      (y = this.previewRef.value) == null || y.open(h.detail.file);
    }}></wy-attachments-list>` : ""}

                  <!-- reactions -->
                  ${Ie(this.availableFeatures, Le.Reactions, (l = this.features) == null ? void 0 : l.reactions) ? v`
                    <div class="wy-reactions-line">
                      ${Ld(`reactions-${this.app.id}-${this.messageId}`, v`<wy-reactions
                        small                        
                        .reactions=${this.reactions}
                        parentId=${this.app.id}
                        entityId=${this.messageId}
                        messageType="messages"
                        .userId=${this.userId}></wy-reactions>`)}
                    </div>` : F}
                `}
          </div>
        </div>
      </div>
      ${Ie(this.availableFeatures, Le.Receipts, (d = this.features) == null ? void 0 : d.receipts) ? v`<div class="wy-readby-status">
            ${this.seenBy && this.seenBy.length ? v`
                  ${this.seenBy.map((h) => {
      var w;
      const y = h.marked_at ? new Intl.DateTimeFormat((w = this.weavyContext) == null ? void 0 : w.locale, {
        dateStyle: "full",
        timeStyle: "short"
      }).format(new Date(h.marked_at)) : "";
      return v`<wy-avatar
                      title=${V(Qi`Seen by ${h.display_name} at ${y}`)}
                      .name=${h.display_name}
                      .src=${h.avatar_url}
                      size=${18}></wy-avatar>`;
    })}
                ` : this.delivered === !0 ? v`<wy-icon title="Delivered" class="wy-status-delivered" name="check-circle" size="18"></wy-icon>` : this.sent === !0 ? v`<wy-icon title="Sent" class="wy-status-sent" name="check-circle-outline" size="18"></wy-icon>` : this.sent === !1 ? v`<wy-icon title="Pending" class="wy-status-pending" name="circle-outline" size="18"></wy-icon>` : F}
          </div>` : F}
      ${this.attachments ? Ld(`preview-message-${this.messageId}`, v`
            <wy-preview
              ${Pe(this.previewRef)}
              .uid=${`message-${this.messageId}`}
              .app=${this.app}
              .files=${[...e, ...t]}
              .availableFeatures=${this.availableFeatures}
              .features=${this.features}
              .isAttachment=${!0}></wy-preview>
          `) : F}
    `;
  }
};
ht.styles = ke;
Et([
  tt({ context: Te, subscribe: !0 }),
  te()
], ht.prototype, "weavyContext", 2);
Et([
  m({ type: Object })
], ht.prototype, "app", 2);
Et([
  m({ type: Number })
], ht.prototype, "messageId", 2);
Et([
  m({ type: Boolean })
], ht.prototype, "me", 2);
Et([
  m({ type: Boolean })
], ht.prototype, "isBot", 2);
Et([
  m({ type: Boolean })
], ht.prototype, "isPrivateChat", 2);
Et([
  m({ type: Boolean })
], ht.prototype, "temp", 2);
Et([
  m({ type: Boolean })
], ht.prototype, "sent", 2);
Et([
  m({ type: Boolean })
], ht.prototype, "delivered", 2);
Et([
  m()
], ht.prototype, "displayName", 2);
Et([
  m()
], ht.prototype, "avatar", 2);
Et([
  m()
], ht.prototype, "createdAt", 2);
Et([
  m()
], ht.prototype, "html", 2);
Et([
  m()
], ht.prototype, "text", 2);
Et([
  m({ type: Array })
], ht.prototype, "attachments", 2);
Et([
  m({ attribute: !1 })
], ht.prototype, "meeting", 2);
Et([
  m({ type: Array })
], ht.prototype, "pollOptions", 2);
Et([
  m({ attribute: !1 })
], ht.prototype, "embed", 2);
Et([
  m({ type: Array })
], ht.prototype, "reactions", 2);
Et([
  m({ type: Array })
], ht.prototype, "seenBy", 2);
Et([
  m({ type: Number })
], ht.prototype, "userId", 2);
Et([
  te()
], ht.prototype, "availableFeatures", 2);
Et([
  m({ type: Object })
], ht.prototype, "features", 2);
ht = Et([
  fe("wy-message"),
  De()
], ht);
var W_ = Object.defineProperty, q_ = Object.getOwnPropertyDescriptor, Hr = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? q_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && W_(t, r, n), n;
};
let vr = class extends we {
  constructor() {
    super(...arguments), this.dataUpdatedAt = NaN, this.unreadMarkerShow = !0, this.pagerRef = Ve();
  }
  createRenderRoot() {
    return this;
  }
  dispatchVote(e, t) {
    const r = new CustomEvent("vote", { detail: { id: e, parentId: t, parentType: "messages" } });
    return this.dispatchEvent(r);
  }
  render() {
    var r;
    const e = (r = this.infiniteMessages) == null ? void 0 : r.pages.flatMap((i) => i.data);
    let t;
    return v`
      <div class="wy-messages">
        <div ${Pe(this.pagerRef)} class="wy-pager"></div>
        <!-- this.user ?? -->
        ${e ? Ar(
      e,
      (i) => i.id,
      (i, n) => {
        var c, l, d;
        const o = new Date(i.created_at);
        let a = v``;
        if ((t == null ? void 0 : t.toDateString()) !== o.toDateString()) {
          const h = new Intl.DateTimeFormat((c = this.weavyContext) == null ? void 0 : c.locale, {
            dateStyle: "short"
          }).format(o);
          t = o, a = v`<div class="wy-date-separator"><time>${h}</time></div>`;
        }
        let s = v``;
        return this.unreadMarkerId && this.unreadMarkerId === i.id && (s = v`<div
                    id="unread-marker"
                    class="wy-toast wy-toast-action wy-fade ${this.unreadMarkerShow ? "wy-show" : ""}"
                    tabindex=${this.unreadMarkerShow ? 0 : -1}
                    @click=${() => {
          var y;
          let h = `#message-${this.unreadMarkerId}`;
          this.unreadMarkerPosition === "below" && (h += "~ wy-message"), (y = this.renderRoot.querySelector(h)) == null || y.scrollIntoView({
            block: "start",
            inline: "nearest",
            behavior: "smooth"
          });
        }}
                    @keydown=${Pn}
                    @keyup=${An}
                  >
                    ${V("New messages")}
                  </div>`), v`${[
          v`${a}`,
          v`${this.unreadMarkerPosition === "above" ? s : F}`,
          Ld(
            `message-${i.id}`,
            v`<wy-message
                      id="message-${i.id}"
                      .app=${this.app}
                      .messageId=${i.id}
                      .me=${i.created_by.id === this.user.id}
                      .isBot=${i.created_by.is_bot || !1}
                      .isPrivateChat=${((l = this.app) == null ? void 0 : l.type) === ct.PrivateChat || ((d = this.app) == null ? void 0 : d.type) === ct.BotChat}
                      .temp=${i.temp}
                      .displayName=${i.created_by.display_name}
                      .avatar=${i.created_by.avatar_url}
                      .createdAt=${i.created_at}
                      .text=${i.plain}
                      .html=${i.html}
                      .attachments=${i.attachments}
                      .meeting=${i.meeting}
                      .pollOptions=${i.options}
                      .embed=${i.embed}
                      .reactions=${i.reactions}
                      .userId=${this.user.id}
                      .availableFeatures=${this.availableFeatures}
                      .features=${this.features}
                      .sent=${this.members && n === e.length - 1 && i.created_by.id === this.user.id ? !i.temp : null}
                      .delivered=${this.members && n === e.length - 1 && this.members.data.filter((h) => h.id !== this.user.id && h.delivered_at > i.created_at).length > 0}
                      .seenBy=${this.members && this.members.data && this.members.data.length > 0 ? this.members.data.filter((h) => h.marked_id === i.id && h.id !== this.user.id) : []}
                      @vote=${(h) => {
              this.dispatchVote(h.detail.id, h.detail.parentId);
            }}
                    ></wy-message>`
          ),
          v`${this.unreadMarkerPosition === "below" ? s : F}`
        ]}`;
      }
    ) : F}
      </div>
    `;
  }
};
vr.styles = [
  ke,
  We`
      :host(wy-messages) {
        display: contents;
      }
      wy-message {
        scroll-margin-block: 6rem;
      }
    `
];
Hr([
  tt({ context: Te, subscribe: !0 }),
  te()
], vr.prototype, "weavyContext", 2);
Hr([
  m({ attribute: !1 })
], vr.prototype, "app", 2);
Hr([
  m({ attribute: !1 })
], vr.prototype, "infiniteMessages", 2);
Hr([
  m({ type: Number })
], vr.prototype, "dataUpdatedAt", 2);
Hr([
  m({ attribute: !1 })
], vr.prototype, "user", 2);
Hr([
  m({ attribute: !1 })
], vr.prototype, "members", 2);
Hr([
  m({ attribute: !1 })
], vr.prototype, "availableFeatures", 2);
Hr([
  m({ attribute: !1 })
], vr.prototype, "features", 2);
Hr([
  m({ attribute: !1 })
], vr.prototype, "unreadMarkerId", 2);
Hr([
  m({ attribute: !1 })
], vr.prototype, "unreadMarkerPosition", 2);
Hr([
  m({ attribute: !1 })
], vr.prototype, "unreadMarkerShow", 2);
Hr([
  m({ attribute: !1 })
], vr.prototype, "pagerRef", 2);
vr = Hr([
  fe("wy-messages"),
  De()
], vr);
var Q_ = Object.defineProperty, K_ = Object.getOwnPropertyDescriptor, Z_ = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? K_(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Q_(t, r, n), n;
};
let Yy = class extends Ye {
  constructor() {
    super(), this.editorType = "messages", this.editorClass = "wy-message-editor";
  }
  renderTopSlot() {
    return this.renderLists();
  }
  renderMiddleSlot() {
    var e, t, r, i, n, o, a, s, c, l, d;
    return v` <div class="wy-message-editor-inputs">
      <!-- Add -->
      ${Ie(this.availableFeatures, Le.Attachments, (e = this.features) == null ? void 0 : e.attachments) || Ie(this.availableFeatures, Le.CloudFiles, (t = this.features) == null ? void 0 : t.cloudFiles) || Ie(this.availableFeatures, Le.Polls, (r = this.features) == null ? void 0 : r.polls) || Ie(this.availableFeatures, Le.Meetings, (i = this.features) == null ? void 0 : i.meetings) ? v`<wy-dropdown icon="plus" directionY="up">
            ${Ie(this.availableFeatures, Le.Attachments, (n = this.features) == null ? void 0 : n.attachments) ? v`
                  <wy-dropdown-item @click=${this.openFileInput} title=${V("From device")}> 
                    <wy-icon name="attachment"></wy-icon>
                    <span>${V("From device")}</span>
                  </wy-dropdown-item>
                  <input
                    type="file"
                    ${Pe(this.fileInputRef)}
                    @click=${(h) => h.stopPropagation()}
                    @change=${(h) => this.handleUploadFiles(
      Array.from(h.target.files || []),
      h.target
    )}
                    multiple
                    hidden
                    tabindex="-1"
                  />
                ` : F}
            ${Ie(this.availableFeatures, Le.CloudFiles, (o = this.features) == null ? void 0 : o.cloudFiles) ? v`
                  <wy-dropdown-item @click=${this.openCloudFiles} title=${V("From cloud")}> 
                    <wy-icon name="cloud"></wy-icon>
                    <span>${V("From cloud")}</span>
                  </wy-dropdown-item>
                ` : F}
            ${Ie(this.availableFeatures, Le.Confluence, (a = this.features) == null ? void 0 : a.confluence) && ((s = this.weavyContext) != null && s.confluenceAuthenticationUrl) ? v`<wy-confluence
                  dropdown
                  .user=${this.user}
                  @external-blobs=${(h) => this.handleExternalBlobs(h.detail.externalBlobs)}
                ></wy-confluence>` : F}
            ${Ie(this.availableFeatures, Le.Polls, (c = this.features) == null ? void 0 : c.polls) ? v`
                  <wy-dropdown-item @click=${this.openPolls} title=${V("Poll")}> 
                    <wy-icon name="poll"></wy-icon>
                    <span>${V("Poll")}</span>
                  </wy-dropdown-item>
                ` : F}
            ${Ie(this.availableFeatures, Le.Meetings, (l = this.features) == null ? void 0 : l.meetings) && ((d = this.weavyContext) != null && d.zoomAuthenticationUrl) ? v`
                  <wy-dropdown-item @click=${this.handleZoomClick} title=${V("Zoom meeting")}>
                    <wy-icon name="zoom"></wy-icon>
                    <span>${V("Zoom meeting")}</span>
                  </wy-dropdown-item>
                ` : F}
          </wy-dropdown>` : F}

      <!-- Input -->
      <div class="wy-message-editor-text" ${Pe(this.editorRef)}></div>

      <!-- Button -->
      <wy-button
        kind="icon"
        buttonClass="wy-button-primary-text"
        title=${V("Send", { desc: "Button action to send" })}
        @click="${this.submit}"
      >
        <wy-icon name="send"></wy-icon>
      </wy-button>
    </div>`;
  }
  renderBottomSlot() {
    return F;
  }
};
Yy = Z_([
  fe("wy-message-editor"),
  De()
], Yy);
function Y_(e) {
  return {
    mutationFn: async ({ id: r }) => {
      const i = `/api/conversations/${r}/delivered`;
      return (await e.post(i, "PUT", "")).json();
    },
    onMutate: async () => ({})
  };
}
function G_(e) {
  return {
    mutationFn: async ({ id: r, markAsRead: i, messageId: n }) => {
      const o = i ? `/api/conversations/${r}/mark?messageId=${n}` : `/api/conversations/${r}/mark`;
      return await (await e.post(o, i ? "PUT" : "DELETE", "")).json();
    },
    onMutate: async (r) => (et(e.queryClient, ["conversations"], r.id, (i) => {
      i.is_unread = !r.markAsRead;
    }), et(e.queryClient, ["conversations", r.id], -1, (i) => {
      i.is_unread = !r.markAsRead, r.messageId && i.last_message && (i.last_message.id = r.messageId);
    }), {}),
    onSuccess: (r, i) => {
      et(
        e.queryClient,
        ["conversations"],
        i.id,
        (n) => Object.assign(n, r)
      );
    }
  };
}
function X_(e) {
  return {
    mutationFn: async ({ id: r, star: i }) => {
      await e.post(`/api/apps/${r}/stars`, i ? "POST" : "DELETE", "");
    },
    onMutate: async (r) => (et(e.queryClient, ["conversations"], r.id, (i) => {
      i.is_starred = r.star;
    }), {})
  };
}
function J_(e) {
  return {
    mutationFn: async ({ id: r, pin: i }) => {
      await e.post(`/api/conversations/${r}/pin`, i ? "PUT" : "DELETE", "");
    },
    onMutate: async () => ({})
  };
}
function ek(e) {
  return {
    mutationFn: async ({ id: r, members: i }) => {
      await e.post(`/api/apps/${r}/members/${i.join(",")}`, "DELETE", "");
    },
    onMutate: async (r) => (th(e.queryClient, ["conversations"], r.id), {})
  };
}
function tk(e) {
  return {
    mutationFn: async ({ id: r, members: i }) => {
      await e.post(
        `/api/apps/${r}/members`,
        "POST",
        JSON.stringify(
          i.map((n) => ({ id: n, access: "write" }))
        )
      );
    },
    onMutate: async () => ({})
  };
}
function rk(e) {
  return {
    mutationFn: async ({ id: r, name: i }) => (await e.post(
      `/api/apps/${r}`,
      "PATCH",
      JSON.stringify({
        name: i
      })
    )).json(),
    onMutate: async (r) => (et(e.queryClient, ["conversations"], r.id, (i) => {
      i.display_name = r.name;
    }), et(e.queryClient, ["conversations", r.id], -1, (i) => {
      i.display_name = r.name;
    }), {})
  };
}
function ik(e) {
  return {
    mutationFn: async ({ id: r }) => {
      await e.post(`/api/apps/${r}/trash`, "POST", "");
    },
    onMutate: async (r) => (th(e.queryClient, ["conversations"], r.id), {})
  };
}
function nk(e) {
  return new rt(e.queryClient, Y_(e));
}
function Xf(e) {
  return new rt(e.queryClient, G_(e));
}
function ok(e) {
  return new rt(e.queryClient, X_(e));
}
function ak(e) {
  return new rt(e.queryClient, J_(e));
}
function Jf(e) {
  return new rt(e.queryClient, ek(e));
}
function sk(e) {
  return new rt(e.queryClient, tk(e));
}
function em(e) {
  return new rt(e.queryClient, rk(e));
}
function ck(e) {
  return new rt(e.queryClient, ik(e));
}
var lk = Object.defineProperty, dk = Object.getOwnPropertyDescriptor, bi = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? dk(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && lk(t, r, n), n;
};
let sr = class extends we {
  constructor() {
    super(...arguments), this.features = {}, this.lastReadMessagePosition = "below", this.lastReadMessageShow = !1, this.releaseFocusEvent = () => new CustomEvent("release-focus", { bubbles: !0, composed: !0 }), this.messagesQuery = new Aa(this), this.userQuery = new lt(this), this.featuresQuery = new lt(this), this.addMessageMutation = new qi(this), this.infiniteScroll = new Pb(this), this.pagerRef = Ve(), this.shouldBeAtBottom = !0, this.handleRealtimeMessage = (e) => {
      var r, i;
      if (!this.weavyContext || !this.conversation || !this.conversationId || !this.user)
        return;
      e.message.created_by = e.actor;
      const t = (r = e.message.metadata) != null && r.temp_id ? parseFloat((i = e.message.metadata) == null ? void 0 : i.temp_id) : void 0;
      Gi(
        this.weavyContext.queryClient,
        ["messages", e.message.app_id],
        e.message,
        t
      ), et(
        this.weavyContext.queryClient,
        ["conversations"],
        this.conversationId,
        (n) => n.last_message = e.message
      ), e.message.app_id === this.conversation.id && (!this.conversation.display_name && e.message.plain && this.setEmptyConversationTitle(e.message.plain), (!this.isAtBottom || document.hidden) && this.showUnread("above", e.message.id), this.isAtBottom && (this.markAsRead(e.message.id), requestAnimationFrame(() => {
        this.scrollToBottom();
      })));
    }, this.handleRealtimeReactionAdded = (e) => {
      !this.weavyContext || !this.user || !this.conversation || Ke(
        this.weavyContext.queryClient,
        { queryKey: ["messages"], exact: !1 },
        e.entity.id,
        (t) => {
          t.reactions = [
            ...(t.reactions || []).filter((r) => r.created_by_id !== e.actor.id),
            { content: e.reaction, created_by_id: e.actor.id }
          ];
        }
      );
    }, this.handleRealtimeReactionDeleted = (e) => {
      !this.weavyContext || !this.conversation || !this.user || Ke(
        this.weavyContext.queryClient,
        { queryKey: ["messages"], exact: !1 },
        e.entity.id,
        (t) => {
          t.reactions = t.reactions.filter((r) => r.created_by_id !== e.actor.id);
        }
      );
    }, this.markAsReadWhenVisible = () => {
      document.hidden || this.markAsRead();
    };
  }
  async handleSubmit(e) {
    if (!this.conversation || !this.user)
      throw new Error("Error submitting message. Missing user or conversation.");
    const t = await this.addMessageMutation.mutate({
      app_id: this.conversation.id,
      text: e.detail.text,
      meeting_id: e.detail.meetingId,
      poll_options: e.detail.pollOptions,
      embed_id: e.detail.embed,
      blobs: e.detail.blobs,
      user_id: this.user.id,
      temp_id: Math.random()
    });
    return this.hideUnread(), this.markAsRead(t.id), requestAnimationFrame(() => {
      this.scrollToBottom();
    }), t;
  }
  async setEmptyConversationTitle(e) {
    var t;
    !this.conversation || this.conversation.display_name || await ((t = this.updateConversationMutation) == null ? void 0 : t.mutate({ id: this.conversation.id, name: e }));
  }
  get isAtBottom() {
    return this.pagerRef.value ? kb(this.pagerRef.value) : !0;
  }
  scrollToBottom() {
    _b(this.pagerRef.value) && (this.weavyContext && this.conversation && vb(this.weavyContext.queryClient, ["messages", this.conversation.id]), Cb(this.pagerRef.value));
  }
  unsubscribeToRealtime(e) {
    this.weavyContext && (this.weavyContext.unsubscribe(`a${e}`, "message_created", this.handleRealtimeMessage), this.weavyContext.unsubscribe(`a${e}`, "reaction_added", this.handleRealtimeReactionAdded), this.weavyContext.unsubscribe(`a${e}`, "reaction_removed", this.handleRealtimeReactionDeleted));
  }
  showUnread(e, t) {
    t && !this.lastReadMessageShow && (this.lastReadMessagePosition = e, this.lastReadMessageId = t, this.lastReadMessageShow = !0);
  }
  hideUnread() {
    this.lastReadMessageShow = !1;
  }
  async markAsRead(e, t = !1) {
    var r, i;
    if (!t) {
      if (await yv(), !this.isConnected)
        return;
      if (document.hidden) {
        await this.markAsRead(e);
        return;
      }
    }
    this.conversation && ((i = this.markConversationMutation) == null || i.mutate({
      id: this.conversation.id,
      markAsRead: !0,
      messageId: e ?? ((r = this.conversation.last_message) == null ? void 0 : r.id)
    }));
  }
  async scheduleUpdate() {
    var e, t, r;
    await Ti(this), this.weavyContextConsumer = new Yr(this, { context: Te, subscribe: !0 }), (e = this.weavyContextConsumer) != null && e.value && this.weavyContext !== ((t = this.weavyContextConsumer) == null ? void 0 : t.value) && (this.weavyContext = (r = this.weavyContextConsumer) == null ? void 0 : r.value), await super.scheduleUpdate();
  }
  willUpdate(e) {
    var t, r, i, n, o, a;
    if (e.has("weavyContext") && this.weavyContext && (this.userQuery.trackQuery(Bt(this.weavyContext, ["user"])), this.featuresQuery.trackQuery(Bt(this.weavyContext, ["features", "chat"])), this.updateConversationMutation = em(this.weavyContext), this.markConversationMutation = Xf(this.weavyContext)), e.has("conversationId")) {
      const s = e.get("conversationId");
      s && s !== this.conversationId && this.unsubscribeToRealtime(s);
    }
    (e.has("weavyContext") || e.has("conversationId")) && this.weavyContext && (this.conversationId ? (this.messagesQuery.trackInfiniteQuery(gb(this.weavyContext, this.conversationId)), this.addMessageMutation.trackMutation(
      bb(this.weavyContext, ["messages", this.conversationId])
    ), this.pollMutation = gh(this.weavyContext, ["messages", this.conversationId]), this.lastReadMessageId = void 0, this.lastReadMessageShow = !1, this.weavyContext.subscribe(`a${this.conversationId}`, "message_created", this.handleRealtimeMessage), this.weavyContext.subscribe(`a${this.conversationId}`, "reaction_added", this.handleRealtimeReactionAdded), this.weavyContext.subscribe(`a${this.conversationId}`, "reaction_removed", this.handleRealtimeReactionDeleted)) : (this.messagesQuery.untrackInfiniteQuery(), this.addMessageMutation.untrackMutation())), e.has("conversationId") && e.get("conversationId") !== this.conversationId ? this.shouldBeAtBottom = !0 : this.shouldBeAtBottom = this.isAtBottom, (t = this.userQuery.result) != null && t.isPending || (this.user = (r = this.userQuery.result) == null ? void 0 : r.data), !this.availableFeatures && !((i = this.featuresQuery.result) != null && i.isPending) && (this.availableFeatures = (n = this.featuresQuery.result) == null ? void 0 : n.data), e.has("conversation") && this.conversation && this.conversation && this.conversation.is_unread && this.conversation.last_message && (o = this.conversation.members.data.find((c) => {
      var l;
      return c.id === ((l = this.user) == null ? void 0 : l.id);
    })) != null && o.marked_id && (this.showUnread(
      "below",
      (a = this.conversation.members.data.find((c) => {
        var l;
        return c.id === ((l = this.user) == null ? void 0 : l.id);
      })) == null ? void 0 : a.marked_id
    ), this.markAsRead());
  }
  update(e) {
    super.update(e), this.infiniteScroll.observe(this.messagesQuery.result, this.pagerRef.value);
  }
  render() {
    var n, o, a;
    const { isPending: e } = ((n = this.weavyContext) == null ? void 0 : n.network) ?? { isPending: !0 }, { data: t, isPending: r, hasNextPage: i } = this.messagesQuery.result ?? { isPending: e };
    return v`
      ${this.conversation && this.user && t ? v`
            ${!i && !r ? v` <!-- Top of the conversation --> ` : F}
            <wy-messages
              .app=${this.conversation}
              .user=${this.user}
              .infiniteMessages=${t}
              .availableFeatures=${this.availableFeatures}
              .features=${this.features}
              .unreadMarkerId=${this.lastReadMessageId}
              .unreadMarkerPosition=${this.lastReadMessagePosition}
              .unreadMarkerShow=${this.lastReadMessageShow}
              .pagerRef=${this.pagerRef}
              @vote=${(s) => {
      var c;
      (c = this.pollMutation) == null || c.mutate({
        optionId: s.detail.id,
        parentType: s.detail.parentType,
        parentId: s.detail.parentId
      });
    }}
            ></wy-messages>
          ` : v`
            <div class="wy-messages">
              <wy-empty class="wy-pane">
                ${r || !this.user || !this.conversation ? v`<wy-spinner overlay></wy-spinner>` : V("Start the conversation!")}
              </wy-empty>
            </div>
          `}
      ${this.conversation && pc(ui.Write, (o = this.conversation) == null ? void 0 : o.access, (a = this.conversation) == null ? void 0 : a.permissions) ? v`
            <div class="wy-footerbar wy-footerbar-sticky">
              <wy-message-editor
                .app=${this.conversation}
                .user=${this.user}
                .availableFeatures=${this.availableFeatures}
                .features=${this.features}
                .draft=${!0}
                placeholder=${V("Type a message...")}
                @submit=${(s) => this.handleSubmit(s)}
              ></wy-message-editor>
            </div>
          ` : F}
    `;
  }
  updated() {
    this.shouldBeAtBottom && requestAnimationFrame(() => {
      this.scrollToBottom();
    });
  }
  connectedCallback() {
    super.connectedCallback(), document.addEventListener("visibilitychange", this.markAsReadWhenVisible);
  }
  disconnectedCallback() {
    document.removeEventListener("visibilitychange", this.markAsReadWhenVisible), super.disconnectedCallback();
  }
};
sr.styles = [
  ke,
  We`
      :host {
        display: contents;
        position: relative;
      }

      wy-messages {
        display: contents;
      }

      wy-message {
        scroll-margin-block: 6rem;
      }
    `
];
bi([
  te()
], sr.prototype, "weavyContext", 2);
bi([
  m({ attribute: !1 })
], sr.prototype, "user", 2);
bi([
  m({ type: Number })
], sr.prototype, "conversationId", 2);
bi([
  m({ attribute: !1 })
], sr.prototype, "conversation", 2);
bi([
  m()
], sr.prototype, "cssClass", 2);
bi([
  te()
], sr.prototype, "availableFeatures", 2);
bi([
  m({ type: Object })
], sr.prototype, "features", 2);
bi([
  te()
], sr.prototype, "lastReadMessagePosition", 2);
bi([
  te()
], sr.prototype, "lastReadMessageId", 2);
bi([
  te()
], sr.prototype, "lastReadMessageShow", 2);
sr = bi([
  fe("wy-conversation"),
  De()
], sr);
var uk = Object.defineProperty, hk = Object.getOwnPropertyDescriptor, tm = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? hk(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && uk(t, r, n), n;
};
let Is = class extends sr {
  constructor() {
    super(), this.realtimeMessageCreatedEvent = (e) => {
      !this.weavyContext || !this.conversation || !this.user || e.message.app_id !== this.conversation.id || e.message.created_by_id === this.user.id || this.dispatchEvent(new CustomEvent("wy:message_created", { bubbles: !0, composed: !1, detail: e }));
    }, this.realtimeReactionAddedEvent = (e) => {
      !this.weavyContext || !this.user || !this.conversation || e.actor.id === this.user.id || this.dispatchEvent(new CustomEvent("wy:reaction_added", { bubbles: !0, composed: !1, detail: e }));
    }, this.realtimeReactionRemovedEvent = (e) => {
      !this.weavyContext || !this.conversation || !this.user || e.actor.id === this.user.id || this.dispatchEvent(new CustomEvent("wy:reaction_removed", { bubbles: !0, composed: !1, detail: e }));
    }, this.realtimeAppUpdatedEvent = (e) => {
      !this.conversation || e.app.id !== this.conversation.id || this.dispatchEvent(new CustomEvent("wy:app_updated", { bubbles: !0, composed: !1, detail: e }));
    }, this.conversationQuery = new lt(this), new nc(this, Is.styles);
  }
  async willUpdate(e) {
    var t, r, i;
    (e.has("weavyContext") || e.has("uid")) && this.weavyContext && this.uid && this.conversationQuery.trackQuery(xl(this.weavyContext, this.uid, oc.Chat)), (t = this.conversationQuery.result) != null && t.isPending || (this.conversation = (r = this.conversationQuery.result) == null ? void 0 : r.data, this.conversationId = (i = this.conversation) == null ? void 0 : i.id), (e.has("weavyContext") || e.has("conversation")) && this.weavyContext && this.conversation && (this.weavyContext.subscribe(`a${this.conversation.id}`, "message_created", this.realtimeMessageCreatedEvent), this.weavyContext.subscribe(`a${this.conversation.id}`, "reaction_added", this.realtimeReactionAddedEvent), this.weavyContext.subscribe(`a${this.conversation.id}`, "reaction_removed", this.realtimeReactionRemovedEvent), this.weavyContext.subscribe(`a${this.conversation.id}`, "app_updated", this.realtimeAppUpdatedEvent)), super.willUpdate(e);
  }
  unsubscribeToChatRealtime(e) {
    this.weavyContext && (this.weavyContext.unsubscribe(`a${e.id}`, "message_created", this.realtimeMessageCreatedEvent), this.weavyContext.unsubscribe(`a${e.id}`, "reaction_added", this.realtimeReactionAddedEvent), this.weavyContext.unsubscribe(`a${e.id}`, "reaction_removed", this.realtimeReactionRemovedEvent), this.weavyContext.unsubscribe(`a${e.id}`, "app_updated", this.realtimeAppUpdatedEvent));
  }
  render() {
    return v`
      <div class="wy-messenger-conversation wy-scroll-y">
        ${super.render()}
      </div>
      `;
  }
  disconnectedCallback() {
    this.weavyContext && this.conversation && this.unsubscribeToChatRealtime(this.conversation), super.disconnectedCallback();
  }
};
Is.styles = [...sr.styles, Po];
tm([
  m()
], Is.prototype, "uid", 2);
Is = tm([
  fe("wy-chat")
], Is);
var yk = Object.defineProperty, pk = Object.getOwnPropertyDescriptor, Hn = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? pk(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && yk(t, r, n), n;
};
let yi = class extends we {
  constructor() {
    super(), this.features = {}, this.realtimeCommentCreatedEvent = (e) => new CustomEvent("wy:comment_created", { bubbles: !0, composed: !1, detail: e }), this.realtimeReactionAddedEvent = (e) => new CustomEvent("wy:reaction_added", { bubbles: !0, composed: !1, detail: e }), this.realtimeReactionRemovedEvent = (e) => new CustomEvent("wy:reaction_removed", { bubbles: !0, composed: !1, detail: e }), this.appQuery = new lt(this), this.userQuery = new lt(this), this.featuresQuery = new lt(this), this.handleRealtimeCommentCreated = (e) => {
      !this.weavyContext || e.actor.id === this.user.id || this.dispatchEvent(this.realtimeCommentCreatedEvent(e));
    }, this.handleRealtimeReactionAdded = (e) => {
      !this.weavyContext || e.actor.id === this.user.id || e.entity.type !== "comment" || this.dispatchEvent(this.realtimeReactionAddedEvent(e));
    }, this.handleRealtimeReactionDeleted = (e) => {
      !this.weavyContext || e.actor.id === this.user.id || e.entity.type !== "comment" || this.dispatchEvent(this.realtimeReactionRemovedEvent(e));
    }, new nc(this, yi.styles);
  }
  async scheduleUpdate() {
    var e, t, r;
    await Ti(this), this.weavyContextConsumer = new Yr(this, { context: Te, subscribe: !0 }), (e = this.weavyContextConsumer) != null && e.value && this.weavyContext !== ((t = this.weavyContextConsumer) == null ? void 0 : t.value) && (this.weavyContext = (r = this.weavyContextConsumer) == null ? void 0 : r.value), await super.scheduleUpdate();
  }
  unsubscribeToRealtime(e) {
    this.weavyContext && (this.weavyContext.unsubscribe(`a${e.id}`, "comment_created", this.handleRealtimeCommentCreated), this.weavyContext.unsubscribe(`a${e.id}`, "reaction_added", this.handleRealtimeReactionAdded), this.weavyContext.unsubscribe(`a${e.id}`, "reaction_removed", this.handleRealtimeReactionDeleted));
  }
  willUpdate(e) {
    var t, r, i, n, o, a;
    if (e.has("app")) {
      const s = e.get("app");
      s && s !== this.app && this.unsubscribeToRealtime(s);
    }
    (e.has("uid") || e.has("weavyContext")) && this.uid && this.weavyContext && (this.appQuery.trackQuery(xl(this.weavyContext, this.uid, oc.Comments)), this.userQuery.trackQuery(Bt(this.weavyContext, ["user"])), this.featuresQuery.trackQuery(Bt(this.weavyContext, ["features", "comments"]))), (t = this.appQuery.result) != null && t.isPending || (this.app = (r = this.appQuery.result) == null ? void 0 : r.data), (i = this.userQuery.result) != null && i.isPending || (this.user = (n = this.userQuery.result) == null ? void 0 : n.data), (o = this.featuresQuery.result) != null && o.isPending || (this.availableFeatures = (a = this.featuresQuery.result) == null ? void 0 : a.data), (e.has("weavyContext") || e.has("app") || e.has("user")) && this.weavyContext && this.app && this.user && (this.weavyContext.subscribe(`a${this.app.id}`, "comment_created", this.handleRealtimeCommentCreated), this.weavyContext.subscribe(`a${this.app.id}`, "reaction_added", this.handleRealtimeReactionAdded), this.weavyContext.subscribe(`a${this.app.id}`, "reaction_removed", this.handleRealtimeReactionDeleted));
  }
  render() {
    var e;
    return this.app && this.user ? v`
          <wy-comment-list
            parentId=${(e = this.app) == null ? void 0 : e.id}
            .app=${this.app}
            .user=${this.user}
            .features=${this.features}
            .availableFeatures=${this.availableFeatures}
            .location=${"apps"}
          ></wy-comment-list>
        ` : v`
          <wy-empty>
            <wy-spinner></wy-spinner>
          </wy-empty>
        `;
  }
  disconnectedCallback() {
    this.weavyContext && this.app && this.unsubscribeToRealtime(this.app), super.disconnectedCallback();
  }
};
yi.styles = [
  Po,
  ke,
  We`
      :host {
        position: relative;
      }
    `
];
Hn([
  te()
], yi.prototype, "weavyContext", 2);
Hn([
  te()
], yi.prototype, "user", 2);
Hn([
  m()
], yi.prototype, "uid", 2);
Hn([
  m()
], yi.prototype, "cssClass", 2);
Hn([
  te()
], yi.prototype, "availableFeatures", 2);
Hn([
  m({ type: Object })
], yi.prototype, "features", 2);
Hn([
  te()
], yi.prototype, "app", 2);
yi = Hn([
  fe("wy-comments"),
  De()
], yi);
const wk = (e) => {
  var t, r, i, n, su, a, rm, c, cu, d, Fo, y, lu, b;
  return b = class extends e {
    /**
     * @constructor
     * @hideconstructor
     */
    constructor(...A) {
      super(...A);
      /**
       * Saves a single event handler.
       *
       * @internal
       * @function
       * @param {string} event - One or more events. Multiple events are currently not registered individually.
       * @param {string|Object} [selector] - Optional refinement selector
       * @param {function} handler - The handler function. may be wrapped for once-handlers
       * @param {function} originalHandler - The original non-wrapped event handler.
       */
      D(this, n);
      /**
       * Returns the event handler or wrapped event handler. The arguments must match the registered event handler.
       *
       * @internal
       * @function
       * @param {string} events - The events registered
       * @param {string|Object} [selector] - The optional selector for the handler.
       * @param {function} handler - The registered handler
       * @param {function} [originalHandler] - The original registered handler
       */
      D(this, a);
      /**
       * Unregister an event handler. Arguments must match the registered event handler.
       *
       * @internal
       * @function
       * @param {string} event - The events registered
       * @param {function} handler - The registered handler
       * @param {string|Object} [selector] - The optional selector for the handler.
       * @returns {boolean} - True if any handler was removed
       */
      D(this, c);
      /**
       * Triggers any local event handlers registered. Each handler may modify the data and return it or return false to cancel the event chain. .stopPropagation() and .preventDefault() may also be used.
       *
       * @example
       * weavyEvents.on("myevent", function(e, data) { ... })
       *
       * triggerHandler(this, "myevent", { key: 1 })
       *
       * @internal
       * @function
       * @param {any} eventName - The name of the event. Event names without prefix will also trigger handlers with the "on:" prefix.
       * @param {any} data - Any data to pass to the handler
       * @param {any} ...additionalData - Any extra data
       */
      D(this, d);
      /**
       * Extracts and normalizes all parts of the events arguments.
       *
       * @internal
       * @function
       * @param {Array.<Object>} eventArguments - The function argument list: `[context], events, [selector], handler`
       * @returns {Object}
       * @property {string} events - Event names with added namespace for local events.
       * @property {string|Object} selector - The optional selector.
       * @property {function} handler - The handler function
       * @
       */
      D(this, y);
      D(this, t, []);
      D(this, r, void 0);
      D(this, i, /* @__PURE__ */ new Set());
    }
    get eventParent() {
      return p(this, r);
    }
    set eventParent(A) {
      A != null && A.eventChildren && A.eventChildren.add(this), B(this, r, A);
    }
    get eventChildren() {
      return p(this, i);
    }
    /**
     * Registers one or several event listeners. All event listeners are managed and automatically unregistered on destroy.
     *
     * When listening to weavy events, you may also listen to `before:` and `after:` events by simply adding the prefix to a weavy event.
     * Event handlers listening to weavy events may return modified data that is returned to the trigger. The data is passed on to the next event in the trigger event chain. If an event handler calls `event.stopPropagation()` or `return false`, the event chain will be stopped and the value is returned.
     *
     * @example <caption>Instance event</caption>
     * myInstance.on("before:options", function(options) { ... })
     * myInstance.on("options", function(options) { ... })
     * myInstance.on("after:options", function(options) { ... })
     *
     * @category eventhandling
     * @function
     * @name WeavyEvents#on
     * @param {string} events - One or several event names separated by spaces. You may provide any namespaces in the names or use the general namespace parameter instead.
     * @param {string|Object} [selector] - Only applicable if the context supports selectors, for instance jQuery.on().
     * @param {function} handler - The listener. The first argument is always the event, followed by any data arguments provided by the trigger.
     */
    on(...A) {
      const _ = j(this, y, lu).call(this, A);
      if (A[3]) {
        const T = (...k) => {
          try {
            _.handler.apply(this, k);
          } catch {
            try {
              _.handler();
            } catch (S) {
              console.warn("Could not invoke one handler:", S);
            }
          }
          j(this, c, cu).call(this, _.events, _.selector, null, _.handler);
        };
        j(this, n, su).call(this, _.events, _.selector, T, _.handler);
      } else
        j(this, n, su).call(this, _.events, _.selector, _.handler, _.handler);
    }
    /**
     * Registers one or several event listeners that are executed once. All event listeners are managed and automatically unregistered on destroy.
     *
     * Similar to {@link WeavyEvents#on}.
     *
     * @category eventhandling
     * @function
     * @name WeavyEvents#one
     * @param {string} events - One or several event names separated by spaces. You may provide any namespaces in the names or use the general namespace parameter instead.
     * @param {string|Object} [selector] - Only applicable if the context supports selectors, for instance jQuery.on().
     * @param {Function} handler - The listener. The first argument is always the event, followed by any data arguments provided by the trigger.
     */
    one(A, _, x) {
      this.on(A, _, x, !0);
    }
    /**
     * Unregisters event listeners. The arguments must match the arguments provided on registration using .on() or .one().
     *
     * @category eventhandling
     * @function
     * @name WeavyEvents#off
     * @param {string} events - One or several event names separated by spaces. You may provide any namespaces in the names or use the general namespace parameter instead.
     * @param {string} [selector] - Only applicable if the context supports selectors, for instance jQuery.on().
     * @param {function} handler - The listener. The first argument is always the event, followed by any data arguments provided by the trigger.
     * @returns {boolean} Was the handler removed?
     */
    off(...A) {
      const _ = j(this, y, lu).call(this, A), x = j(this, a, rm).call(this, _.events, _.selector, _.handler);
      return j(this, c, cu).call(this, _.events, _.selector, x, _.handler);
    }
    /**
     * Clears all registered eventhandlers
     *
     * @category eventhandling
     * @function
     * @name WeavyEvents#clear
     */
    clearEventHandlers() {
      p(this, t).length = 0;
    }
    /**
     * Trigger a custom event. Events are per default triggered on the weavy instance using the weavy namespace.
     *
     * The trigger has an event chain that adds `before:` and `after:` events automatically for all events except when any custom `prefix:` is specified. This way you may customize the eventchain by specifying `before:`, `on:` and `after:` in your event name to fire them one at the time. The `on:` prefix will then be removed from the name when the event is fired.
     *
     * Eventhandlers listening to the event may return modified data that is returned by the trigger event. The data is passed on to the next event in the trigger event chain. If an event handler calls `event.stopPropagation()` or `return false`, the event chain will be stopped and the value is returned.
     *
     * @example
     * // Normal triggering
     * weavyEvents.triggerEvent("myevent");
     *
     * // Will trigger the following events on the root instance
     * // 1. before:myevent.event.weavy
     * // 2. myevent.event.weavy
     * // 3. after:myevent.event.weavy
     *
     * @example
     * // Custom triggering, one at the time
     * weavyEvents.triggerEvent("before:myevent");
     * weavyEvents.triggerEvent("on:myevent");
     * weavyEvents.triggerEvent("after:myevent");
     *
     * @example
     * // Advanced triggering with data handling
     *
     * function doSomething() {
     *     // Will trigger the events sequentially and check the response data in between
     *
     *     var myTriggerData = { counter: 123, label: "my label" };
     *
     *     // Custom triggering, one at the time
     *
     *     // 1. Trigger before: and save the response data back to myTriggerData
     *     myTriggerData = weavyEvents.triggerEvent("before:myevent", myTriggerData);
     *
     *     if (myTriggerData === false) {
     *         console.warn("before:myevent was cancelled by event.stopPropagation() or return false");
     *         return;
     *     }
     *
     *     // ...
     *
     *     // 2. Continue with on: and save the response data back to myTriggerData
     *     myTriggerData = weavyEvents.triggerEvent("on:myevent", myTriggerData);
     *
     *     if (myTriggerData === false) {
     *         console.warn("on:myevent was cancelled by event.stopPropagation() or return false");
     *         return;
     *     }
     *
     *     // ...
     *
     *     // 3. At last trigger after: and save the response data back to myTriggerData
     *     myTriggerData = weavyEvents.triggerEvent("after:myevent", myTriggerData);
     *
     *     if (myTriggerData === false) {
     *         console.warn("after:myevent was cancelled by event.stopPropagation() or return false");
     *         return;
     *     }
     *
     *     console.log("myevent was fully executed", myTriggerData);
     *     return myTriggerData;
     * }
     *
     * @category eventhandling
     * @function
     * @name WeavyEvents#triggerEvent
     * @param {string} name - The name of the event.
     * @param {(Array/Object/JSON)} [data] - Data may be an array or plain object with data or a JSON encoded string.
     * @param {any} ...additionalData - Any raw extra data
     * @returns {data} The data passed to the event trigger including any modifications by event handlers. Returns false if the event is cancelled.
     */
    triggerEvent(A, _, ...x) {
      const T = /^(before|on|after):/.test(A), k = T ? A.split(":")[0] : "";
      A = A.replace(/^(before|on|after):/, "");
      const g = "before:" + A, S = A, L = "after:" + A;
      if (_ && typeof _ == "string")
        try {
          _ = JSON.parse(_);
        } catch {
          console.warn("Could not parse event data", A, _);
        }
      let R;
      if (T) {
        if (k === "before" || k === "after") {
          if (p(this, r) && (R = p(this, r).triggerEvent(
            k === "before" ? g : L,
            _,
            ...x
          ), _ = R || R === !1 ? R : _, _ === !1) || (R = j(this, d, Fo).call(this, k === "before" ? g : L, _, ...x), _ = R || R === !1 ? R : _, _ === !1))
            return _;
        } else if (k === "on" && (R = j(this, d, Fo).call(this, S, _, ...x), _ = R || R === !1 ? R : _, _ === !1 || p(this, r) && (R = p(this, r).triggerEvent("on:" + S, _, ...x), _ = R || R === !1 ? R : _, _ === !1)))
          return _;
      } else {
        if (p(this, r) && (R = p(this, r).triggerEvent(g, _, ...x), _ = R || R === !1 ? R : _, _ === !1) || (R = j(this, d, Fo).call(this, g, _, ...x), _ = R || R === !1 ? R : _, _ === !1) || (R = j(this, d, Fo).call(this, S, _, ...x), _ = R || R === !1 ? R : _, _ === !1) || p(this, r) && (R = p(this, r).triggerEvent("on:" + S, _, ...x), _ = R || R === !1 ? R : _, _ === !1) || p(this, r) && (R = p(this, r).triggerEvent(L, _, ...x), _ = R || R === !1 ? R : _, _ === !1))
          return _;
        R = j(this, d, Fo).call(this, L, _, ...x), _ = R || R === !1 ? R : _;
      }
      return _;
    }
  }, t = new WeakMap(), r = new WeakMap(), i = new WeakMap(), n = new WeakSet(), su = function(A, _, x, T) {
    p(this, t).push({
      events: A,
      selector: _,
      handler: x,
      originalHandler: T
    });
  }, a = new WeakSet(), rm = function(A, _, x, T) {
    const k = {
      events: A,
      selector: _,
      handler: x,
      originalHandler: T || x
    }, g = p(this, t).filter((S) => es(k, S, !0)).pop();
    return g && g.handler;
  }, c = new WeakSet(), cu = function(A, _, x, T) {
    const k = {
      events: A,
      selector: _,
      handler: x,
      originalHandler: T
    };
    let g = !1;
    return p(this, t).forEach((S, L) => {
      es(k, S, !0) && (g = !0, p(this, t).splice(L, 1));
    }), g;
  }, d = new WeakSet(), Fo = function(A, _, ...x) {
    let T = !1;
    return p(this, t).forEach((k) => {
      k.events.split(" ").forEach((g) => {
        if (g = g.indexOf("on:") === 0 ? g.split("on:")[1] : g, A === g && (!k.selector || es(k.selector, _, !0))) {
          const S = k.handler(_, ...x);
          S ? _ = S : S === !1 && (T = !0);
        }
      });
    }), T ? !1 : _;
  }, y = new WeakSet(), lu = function(A) {
    const _ = typeof A[1] == "function" ? A[1] : A[2], x = typeof A[1] == "function" ? null : A[1];
    return { events: A[0], selector: x, handler: _ };
  }, b;
}, fk = wk(class {
});
function Gy(e) {
  var r;
  let t = "";
  try {
    t = ((r = /^((?:https?:\/\/[^/]+)|(?:file:\/\/))\/?/.exec(e)) == null ? void 0 : r[1]) || "";
  } catch {
    console.error(
      "Unable to resolve location origin. Make sure you are using http, https or file protocol and have a valid location URL."
    );
  }
  return t;
}
class mk extends fk {
  constructor(t = {}) {
    super(), this.contentWindows = /* @__PURE__ */ new Set(), this.contentWindowsMapByWeavyId = /* @__PURE__ */ new Map(), this.contentWindowOrigins = /* @__PURE__ */ new WeakMap(), this.contentWindowNames = /* @__PURE__ */ new WeakMap(), this.contentWindowWeavyIds = /* @__PURE__ */ new WeakMap(), this.contentWindowDomain = /* @__PURE__ */ new WeakMap(), this.origin = Gy(window.location.href), this.timeout = 2e3, t != null && t.timeout && (this.timeout = t.timeout), window.addEventListener("message", (r) => {
      var i, n;
      if (r.data.name && r.data.weavyId !== void 0) {
        if (r.data.weavyMessageId && r.data.name !== "message-receipt" && r.data.name !== "unready")
          try {
            (i = r.source) == null || i.postMessage(
              { name: "message-receipt", weavyId: r.data.weavyId, weavyMessageId: r.data.weavyMessageId },
              { targetOrigin: r.origin }
            );
          } catch {
            console.error("could not post back message-receipt to source");
          }
        switch (r.data.name) {
          case "register-child": {
            if ((!r.source || !this.contentWindowWeavyIds.has(r.source)) && console.warn("register-child: contentWindow not pre-registered", r.source), r.source && this.contentWindowOrigins.get(r.source) !== r.origin) {
              console.error(
                "register-child: " + this.contentWindowNames.get(r.source) + " has invalid origin",
                r.origin
              );
              return;
            }
            try {
              const o = this.contentWindowWeavyIds.get(r.source), a = this.contentWindowNames.get(r.source);
              a && r.source && r.source.postMessage(
                {
                  name: "register-window",
                  windowName: a,
                  weavyId: o || !0
                },
                { targetOrigin: r.origin }
              );
            } catch (o) {
              console.error("could not register frame window", o);
            }
            break;
          }
          case "ready": {
            r.source && this.contentWindowsMapByWeavyId.has(r.data.weavyId) && this.contentWindowNames.has(r.source) && ((n = this.contentWindowsMapByWeavyId.get(r.data.weavyId)) != null && n.get(this.contentWindowNames.get(r.source))) && (this.contentWindowDomain.set(r.source, r.origin), this.distributeMessage(r));
            break;
          }
          case "unready": {
            this.contentWindowsMapByWeavyId.has(r.data.weavyId) && this.distributeMessage(r, !0);
            break;
          }
          default: {
            (r.source === window || this.contentWindowsMapByWeavyId.size) && this.distributeMessage(r);
            break;
          }
        }
      }
    });
  }
  /**
   * The weavy console logging.
   */
  get console() {
    return console;
  }
  distributeMessage(t, r = !1) {
    const i = t.source === window && t.origin === this.origin;
    if (r || (r = t.source && this.contentWindowOrigins.has(t.source) && t.origin === this.contentWindowOrigins.get(t.source) || !1), i || r) {
      r && !t.data.windowName && t.source && (t.data.windowName = this.contentWindowNames.get(t.source));
      const n = t.data.name;
      this.triggerEvent(n, t.data, t), this.triggerEvent("message", t.data, t);
    }
  }
  /**
   * Sends the id of a frame to the frame content scripts, so that the frame gets aware of which id it has.
   * The frame needs to have a unique name attribute.
   *
   * @category panels
   * @param {string} weavyId - The id of the group or entity which the contentWindow belongs to.
   * @param {Window} contentWindow - The frame window to send the data to.
   */
  registerContentWindow(t, r, i, n) {
    var o;
    try {
      if (!r) {
        console.error("registerContentWindow() No valid contentWindow to register, must be a window and have a name.");
        return;
      }
    } catch {
      console.error("registerContentWindow() cannot access contentWindowName");
    }
    t.self && (t = t.self), this.console.log("registerContentWindow", t), (!i || i === "true") && (i = !0), this.contentWindowsMapByWeavyId.has(i) || this.contentWindowsMapByWeavyId.set(i, /* @__PURE__ */ new Map()), (o = this.contentWindowsMapByWeavyId.get(i)) == null || o.set(r, t), this.contentWindows.add(t), this.contentWindowNames.set(t, r), this.contentWindowWeavyIds.set(t, i), this.contentWindowOrigins.set(t, n);
  }
  unregisterAll(t) {
    var r;
    this.contentWindowsMapByWeavyId.has(t) && ((r = this.contentWindowsMapByWeavyId.get(t)) == null || r.forEach((i, n) => {
      this.unregisterContentWindow(n, t);
    }), this.contentWindowsMapByWeavyId.get(t), this.contentWindowsMapByWeavyId.delete(t));
  }
  unregisterContentWindow(t, r) {
    var i, n, o, a;
    if (this.contentWindowsMapByWeavyId.has(r)) {
      if ((i = this.contentWindowsMapByWeavyId.get(r)) != null && i.has(t)) {
        const s = (n = this.contentWindowsMapByWeavyId.get(r)) == null ? void 0 : n.get(t);
        if (s)
          try {
            this.contentWindows.delete(s), this.contentWindowNames.delete(s), this.contentWindowWeavyIds.delete(s), this.contentWindowOrigins.delete(s);
          } catch {
          }
      }
      if ((o = this.contentWindowsMapByWeavyId.get(r)) == null || o.delete(t), ((a = this.contentWindowsMapByWeavyId.get(r)) == null ? void 0 : a.size) === 0)
        try {
          this.contentWindowsMapByWeavyId.delete(r);
        } catch {
        }
    }
  }
  async whenPostMessage(t, r, i) {
    i === null && (i = void 0);
    const n = t === window.self, o = n ? Gy(window.location.href) : this.contentWindowOrigins.get(t);
    if (n || t && o === this.contentWindowDomain.get(t)) {
      r.weavyMessageId || (r.weavyMessageId = Xl() + Xl());
      let s;
      await Promise.race([
        new Promise((c, l) => {
          s = window.setTimeout(() => {
            l(new Error("postMessage() receipt timed out: " + r.weavyMessageId + ", " + r.name));
          }, this.timeout || 2e3);
        }),
        new Promise((c) => {
          this.on("message-receipt", { weavyId: r.weavyId, weavyMessageId: r.weavyMessageId }, () => {
            console.debug("message-receipt received", r.weavyMessageId, r.name), clearTimeout(s), c(void 0);
          }), t.postMessage(r, { targetOrigin: o, transfer: i });
        })
      ]);
    } else
      throw new Error("postMessage() Invalid window origin: " + o + ", " + r.name);
  }
  postToChildren(t, r) {
    if (typeof t != "object" || !t.name) {
      console.error("postToChildren() Invalid message format", t);
      return;
    }
    r === null && (r = void 0), t.distributeName = t.name, t.name = "distribute", t.weavyId = t.weavyId || !0, this.contentWindows.forEach((i) => {
      const n = this.contentWindowOrigins.get(i);
      if (n === this.contentWindowDomain.get(i))
        try {
          i.postMessage(t, { targetOrigin: n, transfer: r });
        } catch {
          console.warn(
            "postToChildren() could not distribute message to " + this.contentWindowNames.get(i)
          );
        }
    });
  }
  async postToFrame(t, r, i, n) {
    var a;
    if (typeof i != "object" || !i.name) {
      console.error("postToFrame() Invalid message format", i);
      return;
    }
    const o = (a = this.contentWindowsMapByWeavyId.get(r)) == null ? void 0 : a.get(t);
    if (!o)
      throw new Error(`postToFrame() Window not registered: ${r}, ${t}`);
    return i.weavyId = r, await this.whenPostMessage(o, i, n);
  }
  async postToSelf(t, r) {
    if (typeof t != "object" || !t.name) {
      console.error("postToSelf() Invalid message format", t);
      return;
    }
    return t.weavyId = t.weavyId || !0, await this.whenPostMessage(window.self, t, r);
  }
  postToSource(t, r, i) {
    if (t.source && t.data.weavyId !== void 0) {
      const n = t.source === window.self && t.origin === this.origin, o = this.contentWindowOrigins.has(t.source) && t.origin === this.contentWindowOrigins.get(t.source);
      if (i === null && (i = void 0), n || o) {
        r.weavyId = t.data.weavyId;
        try {
          t.source.postMessage(r, { targetOrigin: t.origin, transfer: i });
        } catch (a) {
          console.error("postToSource() Could not post message back to source", a);
        }
      }
    }
  }
}
const sn = new mk();
var vk = Object.defineProperty, gk = Object.getOwnPropertyDescriptor, wc = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? gk(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && vk(t, r, n), n;
};
let _o = class extends we {
  constructor() {
    super(...arguments), this.iframeVisible = !1, this.showOverlay = !1, this.isRegistered = !1, this.iframeElementRef = Ve(), this.overlayRef = Ve();
  }
  open() {
    this.showOverlay = !0;
  }
  close() {
    this.showOverlay = !1, this.iframeVisible = !1;
  }
  get origin() {
    let e = "";
    try {
      window.location.ancestorOrigins && 0 < window.location.ancestorOrigins.length ? e = window.location.ancestorOrigins[window.location.ancestorOrigins.length - 1] : window.top && (e = window.top.document.location.origin);
    } catch {
    }
    if (!e)
      try {
        e = window.self.document.location.origin;
      } catch {
        console.error("Filebrowser: Could not read current origin.");
      }
    return e;
  }
  dispatchExternalBlobs(e) {
    const t = new CustomEvent("external-blobs", { detail: { externalBlobs: e } });
    return this.dispatchEvent(t);
  }
  connectedCallback() {
    super.connectedCallback(), this.handleFiles = (e, t) => {
      var r, i;
      t.source === ((i = (r = this.iframeElementRef.value) == null ? void 0 : r.contentWindow) == null ? void 0 : i.self) && (this.dispatchExternalBlobs(e.blobs), this.close());
    }, this.handleClose = (e, t) => {
      var r, i;
      t.source === ((i = (r = this.iframeElementRef.value) == null ? void 0 : r.contentWindow) == null ? void 0 : i.self) && this.close();
    }, this.handleGoogleSelected = (e, t) => {
      var r, i;
      t.source === ((i = (r = this.iframeElementRef.value) == null ? void 0 : r.contentWindow) == null ? void 0 : i.self) && (this.overlayRef.value.maximized = !0);
    }, sn.on("add-external-blobs", this.handleFiles), sn.on("request:file-browser-close", this.handleClose), sn.on("google-selected", this.handleGoogleSelected);
  }
  disconnectedCallback() {
    super.disconnectedCallback(), sn.off("add-external-blobs", this.handleFiles), sn.off("request:file-browser-close", this.handleClose), sn.off("google-selected", this.handleGoogleSelected);
  }
  updated() {
    var e, t;
    this.weavyContext && (this.showOverlay && !this.src && (this.src = new URL(
      "?origin=" + this.origin + "&v=X&t=" + Date.now().toString() + "&weavyId=wy-filebrowser",
      this.weavyContext.cloudFilePickerUrl
    )), !this.isRegistered && this.showOverlay && this.src ? (e = this.iframeElementRef.value) != null && e.contentWindow && (sn.registerContentWindow(
      (t = this.iframeElementRef.value) == null ? void 0 : t.contentWindow.self,
      "weavy-filebrowser",
      "wy-filebrowser",
      this.src.origin
    ), this.isRegistered = !0) : this.isRegistered && !this.showOverlay && this.src && (sn.unregisterContentWindow("weavy-filebrowser", "wy-filebrowser"), this.isRegistered = !1, this.src = void 0));
  }
  render() {
    var e;
    return Yi(
      this.showOverlay,
      v`
        <wy-overlay
          ${Pe(this.overlayRef)}
          @release-focus=${() => this.dispatchEvent(new CustomEvent("release-focus", { bubbles: !0, composed: !0 }))}>
          <wy-spinner overlay ?hidden=${this.iframeVisible}></wy-spinner>
          <iframe
            ${Pe(this.iframeElementRef)}
            @load=${() => this.iframeVisible = !0}
            src=${ot((e = this.src) == null ? void 0 : e.toString())}
            style="flex: 1 1 100%; border: 0;"
            id="weavy-filebrowser"
            name="weavy-filebrowser"
            title=${V("Cloud File Browser")}></iframe>
        </wy-overlay>
      `,
      () => this.showOverlay = !1
    );
  }
};
_o.styles = ke;
wc([
  tt({ context: Te, subscribe: !0 }),
  te()
], _o.prototype, "weavyContext", 2);
wc([
  te()
], _o.prototype, "src", 2);
wc([
  te()
], _o.prototype, "iframeVisible", 2);
wc([
  te()
], _o.prototype, "showOverlay", 2);
_o = wc([
  fe("wy-cloud-files"),
  De()
], _o);
var bk = Object.defineProperty, xk = Object.getOwnPropertyDescriptor, zi = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? xk(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && bk(t, r, n), n;
};
let ri = class extends we {
  constructor() {
    super(...arguments), this.availableFeatures = [], this.features = {}, this.order = { by: "name", descending: !1 }, this.view = "list", this.showTrashed = !1, this.showUploadSheet = !1, this.mutatingFiles = new Zf(
      this
    ), this.fileInputRef = Ve(), this.cloudFilesRef = Ve(), this.openFileInput = () => {
      var e;
      (e = this.fileInputRef.value) == null || e.click();
    }, this.openCloudFiles = () => {
      var e;
      (e = this.cloudFilesRef.value) == null || e.open();
    };
  }
  // remove file attachment
  handleRemoveMutation(e) {
    this.weavyContext && Qf(
      this.weavyContext.queryClient,
      ["apps", this.app.id, "files"],
      (t) => t.state.submittedAt === e.submittedAt
    );
  }
  handleOverwriteUpload(e) {
    var r;
    const t = (r = e.variables) == null ? void 0 : r.blob;
    t && this.dispatchCreateFiles([t], !0);
  }
  dispatchUploadFiles(e, t) {
    const r = new CustomEvent("upload-files", { detail: { files: e, input: t } });
    return this.dispatchEvent(r);
  }
  dispatchExternalBlobs(e) {
    const t = new CustomEvent("external-blobs", { detail: { externalBlobs: e } });
    return this.dispatchEvent(t);
  }
  dispatchCreateFiles(e, t = !1) {
    const r = new CustomEvent("create-files", { detail: { blobs: e, replace: t } });
    return this.dispatchEvent(r);
  }
  dispatchOrder(e) {
    const t = new CustomEvent("order", { detail: { order: e } });
    return this.dispatchEvent(t);
  }
  dispatchView(e) {
    const t = new CustomEvent("view", { detail: { view: e } });
    return this.dispatchEvent(t);
  }
  dispatchShowTrashed(e) {
    const t = new CustomEvent("show-trashed", { detail: { showTrashed: e } });
    return this.dispatchEvent(t);
  }
  dispatchSubscribe(e) {
    const t = new CustomEvent("subscribe", { detail: { subscribe: e } });
    return this.dispatchEvent(t);
  }
  willUpdate(e) {
    (e.has("weavyContext") || e.has("app")) && this.weavyContext && this.app && this.mutatingFiles.trackMutationState(
      { filters: { mutationKey: ["apps", this.app.id], exact: !1 } },
      this.weavyContext.queryClient
    );
  }
  renderFileMutation(e) {
    var t, r, i;
    if ((t = e.context) != null && t.file) {
      const n = e.context.file, o = {
        ...e.context.status
      };
      return e.context.status.state === "conflict" && (o.text = V("Replace existing file?")), v`
        <wy-file-item
          .availableFeatures=${this.availableFeatures}
          .features=${this.features}
          .file=${(r = e.context) == null ? void 0 : r.file}
          .status=${o}
          .actionType=${e.context.type}
          title="${dp(e.context.type)}: ${n.name}"
        >
          <span slot="title">${n.name}</span>
          ${o.text ? v`: <span slot="actions" title=${o.text}><em>${o.text}</em></span>` : F}
          ${o.state === "conflict" && ((i = e.variables) != null && i.blob) ? v`
                <wy-button
                  slot="actions"
                  kind="icon"
                  @click=${() => this.handleOverwriteUpload(
        e
      )}
                  title=${V("Replace")}
                >
                  <wy-icon name="check"></wy-icon>
                </wy-button>
              ` : F}
          <wy-button
            slot="actions"
            kind="icon"
            @click=${() => this.handleRemoveMutation(e)}
            title=${V("Discard", { desc: "Button action to discard" })}
          >
            <wy-icon name="close"></wy-icon>
          </wy-button>
        </wy-file-item>
      `;
    }
    return F;
  }
  render() {
    var o, a, s, c, l, d, h;
    const e = this.mutatingFiles.result, t = a_(e), r = e != null && e.length ? e.filter((y) => {
      var w;
      return ((w = y.context) == null ? void 0 : w.file) && !t.includes(y);
    }) : [], i = n_(e), n = o_(e);
    return v`
      <nav class="wy-toolbar">
        <div class="wy-toolbar-buttons">
          ${pc(ui.Write, ((o = this.app) == null ? void 0 : o.access) || ui.None, (a = this.app) == null ? void 0 : a.permissions) ? v`
                <wy-dropdown title=${V("Add files")}>
                  <span slot="button">${V("Add files")}</span>
                  <wy-icon slot="button" name="plus" last></wy-icon>
                  <wy-dropdown-item @click=${this.openFileInput} title=${V("From device")}>
                    <wy-icon name="attachment"></wy-icon>
                    <span>${V("From device")}</span>
                  </wy-dropdown-item>
                  <input
                    type="file"
                    ${Pe(this.fileInputRef)}
                    @click=${(y) => y.stopPropagation()}
                    @change=${(y) => this.dispatchUploadFiles(y.target.files, y.target)}
                    multiple
                    hidden
                    tabindex="-1"
                  />
                  ${Ie(this.availableFeatures, Le.CloudFiles, (s = this.features) == null ? void 0 : s.cloudFiles) ? v`
                        <wy-dropdown-item @click=${this.openCloudFiles} title=${V("From cloud")}>
                          <wy-icon name="cloud"></wy-icon>
                          <span>${V("From cloud")}</span>
                        </wy-dropdown-item>
                      ` : F}
                  ${Ie(this.availableFeatures, Le.Confluence, (c = this.features) == null ? void 0 : c.confluence) && ((l = this.weavyContext) != null && l.confluenceAuthenticationUrl) ? v`<wy-confluence
                        dropdown
                        @external-blobs=${(y) => this.dispatchExternalBlobs(y.detail.externalBlobs)}
                      ></wy-confluence>` : F}
                </wy-dropdown>
              ` : F}
        </div>
        <div class="wy-toolbar-buttons wy-toolbar-buttons-last">
          ${e != null && e.length ? v`
                <wy-button
                  kind="icon"
                  @click=${() => {
      this.showUploadSheet = !this.showUploadSheet;
    }}
                  title=${n === "conflict" ? V("File conflict") : n === "error" ? V("Upload error") : n === "pending" ? V("Pending") : V("All uploads finished")}
                >
                  ${n === "conflict" ? v`<wy-icon name="alert" color="yellow" title=${V("File conflict")}></wy-icon>` : n === "error" ? v`<wy-icon name="alert-octagon" color="error" title=${V("Upload error")}></wy-icon>` : n === "pending" ? v`<wy-spinner
                        ?nospin=${i !== void 0 && i.percent !== null}
                        progress=${ot(i.percent !== null ? i.percent : void 0)}
                        title=${V("Pending")}
                      ></wy-spinner>` : v`<wy-icon name="check" title=${V("All uploads finished")}></wy-icon>`}
                </wy-button>
              ` : F}

          <wy-dropdown icon="sort" title="Sort items by" directionX="left">
            <wy-dropdown-option
              ?selected=${this.order.by === "name"}
              @click=${() => this.dispatchOrder({ ...this.order, by: "name" })}
            >
              ${V("Name")}
            </wy-dropdown-option>
            <wy-dropdown-option
              ?selected=${this.order.by === "modified_at"}
              @click=${() => this.dispatchOrder({ ...this.order, by: "modified_at" })}
            >
              ${V("Modified")}
            </wy-dropdown-option>
            <wy-dropdown-option
              ?selected=${this.order.by === "size"}
              @click=${() => this.dispatchOrder({ ...this.order, by: "size" })}
            >
              ${V("Size")}
            </wy-dropdown-option>
            <wy-dropdown-divider></wy-dropdown-divider>
            <wy-dropdown-option
              ?selected=${!this.order.descending}
              @click=${() => this.dispatchOrder({ ...this.order, descending: !1 })}
            >
              ${V("Ascending")}
            </wy-dropdown-option>
            <wy-dropdown-option
              ?selected=${this.order.descending}
              @click=${() => this.dispatchOrder({ ...this.order, descending: !0 })}
            >
              ${V("Descending")}
            </wy-dropdown-option>
          </wy-dropdown>

          <wy-dropdown
            icon=${this.view === "grid" ? "view-module-outline" : "view-list-outline"}
            title="View options"
            directionX="left"
          >
            <wy-dropdown-option ?selected=${this.view === "list"} @click=${() => this.dispatchView("list")}>
              ${V("List view")}
            </wy-dropdown-option>
            <wy-dropdown-option ?selected=${this.view === "grid"} @click=${() => this.dispatchView("grid")}>
              ${V("Grid view")}
            </wy-dropdown-option>
            <wy-dropdown-divider></wy-dropdown-divider>
            <wy-dropdown-option ?selected=${!this.showTrashed} @click=${() => this.dispatchShowTrashed(!1)}>
              ${V("Hide trashed")}
            </wy-dropdown-option>
            <wy-dropdown-option ?selected=${this.showTrashed} @click=${() => this.dispatchShowTrashed(!0)}>
              ${V("Show trashed")}
            </wy-dropdown-option>
          </wy-dropdown>

          <wy-dropdown directionX="left" ?disabled=${!this.app}>
            ${(d = this.app) != null && d.is_subscribed ? v`<wy-dropdown-item @click=${() => this.dispatchSubscribe(!1)}>
                  <wy-icon name="bell-off"></wy-icon>
                  ${V("Unsubscribe")}
                </wy-dropdown-item>` : v`<wy-dropdown-item @click=${() => this.dispatchSubscribe(!0)}>
                  <wy-icon name="bell"></wy-icon>
                  ${V("Subscribe")}
                </wy-dropdown-item>`}
            ${(h = this.app) != null && h.archive_url ? v`<wy-dropdown-item
                  @click=${() => {
      var y, w;
      return cs((y = this.app) == null ? void 0 : y.archive_url, "_top", `${(w = this.app) == null ? void 0 : w.uid}.zip`, !0);
    }}
                >
                  <wy-icon name="download"></wy-icon>
                  ${V("Download files")}
                </wy-dropdown-item>` : F}
          </wy-dropdown>
        </div>
      </nav>

      ${Yi(
      this.showUploadSheet && !!(e != null && e.length),
      v`
          <wy-sheet
            .show=${this.showUploadSheet}
            @release-focus=${() => this.dispatchEvent(new CustomEvent("release-focus", { bubbles: !0, composed: !0 }))}
          >
            <wy-button
              kind="icon"
              slot="appbar-buttons"
              @click=${() => {
        e == null || e.forEach((y) => this.handleRemoveMutation(y));
      }}
              title=${V("Remove all", { desc: "Button action to remove all" })}
            >
              <wy-icon name="trashcan"></wy-icon>
            </wy-button>
            <span slot="appbar-text">${V("File actions")}</span>
            ${t.length ? v`
                  ${Ar(
        t,
        (y) => "mutation" + y.submittedAt,
        (y) => this.renderFileMutation(y)
      )}
                  ${r.length ? v`<hr />` : F}
                ` : F}
            ${r.length ? v`
                  ${Ar(
        r,
        (y) => "mutation" + y.submittedAt,
        (y) => this.renderFileMutation(y)
      )}
                ` : F}
          </wy-sheet>
        `,
      () => this.showUploadSheet = !1
    )}

      <wy-cloud-files
        ${Pe(this.cloudFilesRef)}
        @external-blobs=${(y) => this.dispatchExternalBlobs(y.detail.externalBlobs)}
      ></wy-cloud-files>
    `;
  }
};
ri.styles = [ke];
zi([
  tt({ context: Te, subscribe: !0 }),
  te()
], ri.prototype, "weavyContext", 2);
zi([
  m({ type: Object })
], ri.prototype, "app", 2);
zi([
  m({ type: Object })
], ri.prototype, "user", 2);
zi([
  m({ type: Array })
], ri.prototype, "availableFeatures", 2);
zi([
  m({ type: Object })
], ri.prototype, "features", 2);
zi([
  m({ type: Object })
], ri.prototype, "order", 2);
zi([
  m()
], ri.prototype, "view", 2);
zi([
  m({ type: Boolean })
], ri.prototype, "showTrashed", 2);
zi([
  te()
], ri.prototype, "showUploadSheet", 2);
ri = zi([
  fe("wy-files-appbar"),
  De()
], ri);
function _k(e, { file: t }, r) {
  const i = t.size && t.size > 0 ? Cl(t.size) : F, n = t.modified_at || t.created_at, o = new Intl.DateTimeFormat(e == null ? void 0 : e.locale, { dateStyle: "full", timeStyle: "short" }).format(
    new Date(n)
  ), a = !!(r && r === t.id);
  let { icon: s } = Fn(t.name);
  const c = gi(t.name), l = Oa(t.provider);
  l && (s = `${s}+${l}`);
  const d = (y) => {
    y.stopImmediatePropagation();
    const w = y.target;
    w.value && w.value !== t.name ? this.dispatchRename(t, w.value) : this.dispatchEditName({ id: NaN });
  }, h = (y) => {
    const w = y.target;
    y.key === "Escape" ? (y.preventDefault(), w.value = t.name, w.blur()) : y.key === "Enter" && (y.preventDefault(), w.blur());
  };
  return v`
    <div
      class="wy-card ${dt({
    "wy-card-trashed": t.is_trashed,
    "wy-card-hover": !t.is_trashed && !a
  })}"
      title="${t.name} • ${i} • ${o}"
      tabindex="0"
      @click=${(y) => {
    !y.defaultPrevented && !t.is_trashed && this.dispatchFileOpen(t);
  }}
      @keydown=${Pn}
      @keyup=${An}
    >
      <div class="wy-card-actions">
        <wy-file-menu
          .file=${t}
          .availableFeatures=${this.availableFeatures}
          .features=${this.features}
          @edit-name=${(y) => this.dispatchEditName(y.detail.file)}
          @trash=${(y) => this.dispatchTrash(y.detail.file)}
          @restore=${(y) => this.dispatchRestore(y.detail.file)}
          @delete-forever=${(y) => this.dispatchDeleteForever(y.detail.file)}
          @subscribe=${(y) => this.dispatchSubscribe(y.detail.file, y.detail.subscribe)}
        ></wy-file-menu>
      </div>
      ${!t.is_trashed && t.thumbnail_url ? v`
            <img
              class="wy-card-top wy-card-content ${dt({ "wy-card-top-image": t.kind === "image" })}"
              src=${t.thumbnail_url}
              alt=${t.name}
              loading="lazy"
            />
          ` : v`
            <div class="wy-content-icon wy-card-top wy-card-content">
              <wy-icon name=${s} size="96" kind=${t.kind} ext=${c}></wy-icon>
            </div>
          `}
      <div class="wy-card-content wy-filename">
        ${a ? v`
              <input
                type="text"
                maxlength="256"
                class="wy-input"
                .defaultValue=${t.name}
                @blur=${d}
                @keyup=${(y) => {
    kl(y), h(y);
  }}
                @click=${(y) => y.preventDefault()}
                @focus=${sh}
                ${Pe(xu)}
              />
            ` : v`<div class="wy-truncated-text-and-icon"><div>${t.name}</div> ${t.comment_count ? v`<wy-icon size="16" name="comment" color="secondary"></wy-icon>` : F}</div>`}
      </div>
    </div>
  `;
}
function kk(e, t, r, i) {
  return t && t.length ? v`
        <table class="wy-table wy-table-hover wy-table-files">
          <thead>${Ck.call(this, r)}</thead>
          <tbody>
            ${Ar(
    t,
    (n) => n.id,
    (n) => $k.call(this, e, { file: n }, i)
  )}
          </tbody>
        </table>
      ` : F;
}
function Ck(e) {
  const t = [
    { by: "name", title: V("Name") },
    { by: "modified_at", title: V("Modified") },
    { by: void 0, title: V("Kind") },
    { by: "size", title: V("Size") }
  ];
  return v`
    <tr>
      <th class="wy-table-cell-icon"></th>
      ${t.map((r) => {
    const i = r.by === (e == null ? void 0 : e.by), n = (o) => {
      o.preventDefault(), r.by && this.dispatchOrder({ by: r.by, descending: i && !(e != null && e.descending) });
    };
    return v` <th>
          ${r.by ? v`<div
                class="wy-table-sort-link"
                tabindex="0"
                @click=${n}
                @keydown=${Pn}
                @keyup=${An}
                >${r.title}
                ${i && v`<wy-icon name=${e != null && e.descending ? "menu-down" : "menu-up"}></wy-icon>` || F}</div
              >` : r.title}
        </th>`;
  })}
      <th class="wy-table-cell-icon"></th>
    </tr>
  `;
}
function $k(e, { file: t }, r) {
  const i = t.size && t.size > 0 ? Cl(t.size) : F, n = t.modified_at || t.created_at, o = new Intl.DateTimeFormat(e == null ? void 0 : e.locale, { dateStyle: "full", timeStyle: "short" }).format(
    new Date(n)
  ), a = new Intl.DateTimeFormat(e == null ? void 0 : e.locale, { dateStyle: "short" }).format(
    new Date(n)
  ), s = !!(r && r === t.id);
  let { icon: c } = Fn(t.name);
  const l = gi(t.name), d = Oa(t.provider);
  d && (c = `${c}+${d}`);
  const h = (w) => {
    w.stopImmediatePropagation();
    const b = w.target;
    b.value && b.value !== t.name ? this.dispatchRename(t, b.value) : this.dispatchEditName({ id: NaN });
  }, y = (w) => {
    const b = w.target;
    w.key === "Escape" ? (w.preventDefault(), b.value = t.name, b.blur()) : w.key === "Enter" && (w.preventDefault(), b.blur());
  };
  return v`
    <tr
      class=${ot(t.is_trashed ? "wy-table-trashed" : void 0)}
      @click=${(w) => {
    !w.defaultPrevented && !t.is_trashed && this.dispatchFileOpen(t);
  }}
    >
      <td class="wy-table-cell-icon"><wy-icon name=${c} size="24" kind=${t.kind} ext=${l}></wy-icon></td>
      <td>
        ${s ? v`
              <input
                type="text"
                maxlength="256"
                class="wy-input"
                .defaultValue=${t.name}
                @blur=${h}
                @keyup=${(w) => {
    kl(w), y(w);
  }}
                @click=${(w) => w.preventDefault()}
                @focus=${sh}
                ${Pe(xu)}
              />
            ` : v`<div class="wy-truncated-text-and-icon"><div>${t.name}</div> ${t.comment_count ? v`<wy-icon size="16" name="comment" color="secondary"></wy-icon>` : F}</div>`}
      </td>
      <td><time datetime="${n}" title=${o}>${a}</time></td
      >
      <td>${t.kind}</td>
      <td>${i}</td>
      <td class="wy-table-cell-icon">
        <wy-file-menu
          .file=${t}
          .availableFeatures=${this.availableFeatures}
          .features=${this.features}
          @edit-name=${(w) => this.dispatchEditName(w.detail.file)}
          @trash=${(w) => this.dispatchTrash(w.detail.file)}
          @restore=${(w) => this.dispatchRestore(w.detail.file)}
          @delete-forever=${(w) => this.dispatchDeleteForever(w.detail.file)}
          @subscribe=${(w) => this.dispatchSubscribe(w.detail.file, w.detail.subscribe)}
        >
        </wy-file-menu>
      </td>
    </tr>
  `;
}
var Ek = Object.defineProperty, Sk = Object.getOwnPropertyDescriptor, nn = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? Sk(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Ek(t, r, n), n;
};
let pi = class extends we {
  constructor() {
    super(), this.order = { by: "name", descending: !1 }, this.view = "list", this.isRenamingId = NaN, this.features = {}, this.availableFeatures = [], this.addEventListener("edit-name", (e) => {
      this.isRenamingId = e.detail.file.id;
    }), this.addEventListener("rename", () => {
      this.isRenamingId = NaN;
    });
  }
  dispatchFileOpen(e) {
    const t = new CustomEvent("file-open", { detail: { file: e } });
    return this.dispatchEvent(t);
  }
  dispatchOrder(e) {
    const t = new CustomEvent("order", { detail: { order: e } });
    return this.dispatchEvent(t);
  }
  dispatchEditName(e) {
    const t = new CustomEvent("edit-name", { detail: { file: e } });
    return this.dispatchEvent(t);
  }
  dispatchRename(e, t) {
    const r = new CustomEvent("rename", { detail: { file: e, name: t } });
    return this.dispatchEvent(r);
  }
  dispatchTrash(e) {
    const t = new CustomEvent("trash", { detail: { file: e } });
    return this.dispatchEvent(t);
  }
  dispatchRestore(e) {
    const t = new CustomEvent("restore", { detail: { file: e } });
    return this.dispatchEvent(t);
  }
  dispatchDeleteForever(e) {
    const t = new CustomEvent("delete-forever", { detail: { file: e } });
    return this.dispatchEvent(t);
  }
  dispatchSubscribe(e, t) {
    const r = new CustomEvent("subscribe", { detail: { file: e, subscribe: t } });
    return this.dispatchEvent(r);
  }
  render() {
    return this.files && this.files.length ? this.view === "grid" ? v`
          <div class="wy-grid wy-pane-group">
            ${Ar(
      this.files,
      (e) => e.id,
      (e) => _k.call(this, this.weavyContext, { file: e }, this.isRenamingId)
    )}
          </div>
        ` : kk.call(this, this.weavyContext, this.files, this.order, this.isRenamingId) : F;
  }
};
pi.styles = ke;
nn([
  tt({ context: Te, subscribe: !0 }),
  te()
], pi.prototype, "weavyContext", 2);
nn([
  m({ attribute: !1 })
], pi.prototype, "files", 2);
nn([
  m({ type: Number })
], pi.prototype, "dataUpdatedAt", 2);
nn([
  m({ attribute: !1 })
], pi.prototype, "order", 2);
nn([
  m()
], pi.prototype, "view", 2);
nn([
  m({ type: Number })
], pi.prototype, "isRenamingId", 2);
nn([
  m({ type: Object })
], pi.prototype, "features", 2);
nn([
  te()
], pi.prototype, "availableFeatures", 2);
pi = nn([
  fe("wy-files-list"),
  De()
], pi);
function Pk(e, t, r = {}, i = {}) {
  if (!e)
    throw new Error("useFileList must be used within a WeavyContext");
  return {
    ...i,
    // eslint-disable-next-line @tanstack/query/exhaustive-deps
    queryKey: ["apps", t, "files", r],
    initialPageParam: 0,
    queryFn: async (a) => {
      const s = a.pageParam, c = !!(r != null && r.trashed), l = r.order ? r.order.by + (r.order.descending ? "+desc" : "") : "";
      let d = "/api/apps/" + t + "/files?skip=" + s + "&top=25&orderby=" + l;
      return c && (d += "&trashed=null"), await (await e.get(d)).json();
    },
    getNextPageParam: (a, s) => a != null && a.end && (a == null ? void 0 : a.end) < (a == null ? void 0 : a.count) ? s.length * 25 : null
    /*select: (data: any) => {
            // UPDATE DATA WITH MUTATIONS
            // TODO: REMOVE?
    
            const mutatingFiles = queryClient.getMutationCache()
            .findAll({mutationKey: filesKey, predicate: (mutation: Mutation) => !!(<unknown>mutation as FileMutationType).state.context?.file})
            .map((mutation: Mutation) => (<unknown>mutation as FileMutationType).state.context!.file);
            
            const meta = queryClient.getQueryCache().find<FilesResultType>({ queryKey: filesKey })?.meta;
            const order = meta?.order as FileOrderType;
            
            mutatingFiles.forEach((file) => {
                //if (meta?.trashed === file.is_trashed) {
                    if (file.id < 1 && file.status !== "ok" && file.status !== "error") {
                        let existingFile = findAnyExistingItem<FileType>(data, "name", file.name, true);
                        if (existingFile) {
                            file.id = existingFile.id;
                        }
                        data = addToQueryData(data, file, order);
                    } else {
                        data = updateQueryData(data, file.id, (cacheFile: FileType) => { Object.assign(cacheFile, file)});
                    }
                //}
            });
            return data;
        }*/
  };
}
function Ak(e, t) {
  const r = e.queryClient, n = {
    mutationKey: ["apps", t.id, "files"],
    mutationFn: async ({ file: o, name: a }) => {
      if (o.id >= 1) {
        const s = await e.post(
          "/api/files/" + o.id,
          "PATCH",
          JSON.stringify({
            name: a
          })
        );
        if (!s.ok) {
          const c = await s.json();
          throw new Error(c.detail || c.title, { cause: c });
        }
        return s.json();
      } else
        throw new Error(`Could not rename ${o.name}`);
    },
    onMutate: (o) => (Ke(
      r,
      { queryKey: n.mutationKey, exact: !1 },
      o.file.id,
      (a) => Object.assign(a, { name: o.name })
    ), { type: "rename", file: o.file, status: { state: "pending" } }),
    onSuccess: (o, a) => {
      Ke(
        r,
        { queryKey: n.mutationKey, exact: !1 },
        a.file.id,
        (s) => Object.assign(s, o)
      ), Mt(r, n.mutationKey, a, (s) => {
        s.status.state = "ok";
      });
    },
    onError(o, a) {
      Ke(
        r,
        { queryKey: n.mutationKey, exact: !1 },
        a.file.id,
        (s) => Object.assign(s, { name: a.file.name })
      ), Mt(r, n.mutationKey, a, (s) => {
        s.status.state = "error", s.status.text = o.message;
      });
    }
  };
  return n;
}
function Lk(e, t) {
  return new rt(e.queryClient, Ak(e, t));
}
function Mk(e, t) {
  const r = e.queryClient, n = {
    mutationKey: ["apps", t.id, "files"],
    mutationFn: async ({ file: o }) => {
      if (o.id >= 1)
        return (await e.post("/api/files/" + o.id + "/trash", "POST", "")).json();
      throw new Error(`Could not trash ${o.name}.`);
    },
    onMutate: async (o) => (Ke(
      r,
      { queryKey: n.mutationKey, exact: !1 },
      o.file.id,
      (a) => Object.assign(a, { is_trashed: !0 })
    ), { type: "trash", file: o.file, status: { state: "pending" } }),
    onSuccess: (o, a) => {
      Ke(
        r,
        { queryKey: n.mutationKey, exact: !1 },
        a.file.id,
        (s) => Object.assign(s, o)
      ), Mt(r, n.mutationKey, a, (s) => {
        s.status.state = "ok";
      });
    },
    onError(o, a) {
      Ke(
        r,
        { queryKey: n.mutationKey, exact: !1 },
        a.file.id,
        (s) => Object.assign(s, { is_trashed: !1 })
      ), Mt(r, n.mutationKey, a, (s) => {
        s.status.state = "error", s.status.text = o.message;
      });
    }
  };
  return n;
}
function Ok(e, t) {
  return new rt(e.queryClient, Mk(e, t));
}
function Ik(e, t) {
  const r = e.queryClient, n = {
    mutationKey: ["apps", t.id, "files"],
    mutationFn: async ({ file: o }) => {
      if (o.id >= 1) {
        const a = await e.post("/api/files/" + o.id + "/restore", "POST", "");
        if (!a.ok) {
          const s = await a.json();
          throw new Error(s.detail || s.title, { cause: s });
        }
        return a.json();
      } else {
        const a = { status: 400, title: `Could not restore ${o.name}.` };
        throw new Error(a.detail || a.title, { cause: a });
      }
    },
    onMutate: async (o) => (Ke(
      r,
      { queryKey: n.mutationKey, exact: !1 },
      o.file.id,
      (a) => Object.assign(a, { status: "pending" })
    ), { type: "restore", file: o.file, status: { state: "pending" } }),
    onSuccess: (o, a) => {
      Ke(
        r,
        { queryKey: n.mutationKey, exact: !1 },
        a.file.id,
        (s) => Object.assign(s, o, { is_trashed: !1, status: "ok" })
      ), Mt(r, n.mutationKey, a, (s) => {
        s.status.state = "ok";
      });
    },
    onError(o, a) {
      Ke(
        r,
        { queryKey: n.mutationKey, exact: !1 },
        a.file.id,
        (s) => Object.assign(s, { is_trashed: !0 })
      ), Mt(r, n.mutationKey, a, (s) => {
        s.status.state = "error", s.status.text = o.message;
      });
    }
  };
  return n;
}
function Tk(e, t) {
  return new rt(e.queryClient, Ik(e, t));
}
function Rk(e, t) {
  const r = e.queryClient, n = {
    mutationKey: ["apps", t.id, "files"],
    mutationFn: async ({ file: o }) => {
      if (o.id >= 1 && o.is_trashed) {
        const a = await e.post("/api/files/" + o.id, "DELETE", "");
        if (!a.ok) {
          const s = await a.json();
          throw new Error(s.detail || s.title, { cause: s });
        }
      } else {
        const a = { status: 400, title: `Could not delete ${o.name} forever.` };
        throw new Error(a.detail || a.title, { cause: a });
      }
    },
    onMutate: async (o) => (Ke(
      r,
      { queryKey: n.mutationKey, exact: !1 },
      o.file.id,
      (a) => Object.assign(a, { status: "pending" })
    ), { type: "delete-forever", file: o.file, status: { state: "pending" } }),
    onSuccess: (o, a) => {
      mb(r, { queryKey: n.mutationKey, exact: !1 }, a.file.id), Mt(r, n.mutationKey, a, (s) => {
        s.status.state = "ok";
      });
    },
    onError(o, a) {
      Ke(
        r,
        { queryKey: n.mutationKey, exact: !1 },
        a.file.id,
        (s) => Object.assign(s, { status: void 0 })
      ), Mt(r, n.mutationKey, a, (s) => {
        s.status.state = "error", s.status.text = o.message;
      });
    }
  };
  return n;
}
function Dk(e, t) {
  return new rt(e.queryClient, Rk(e, t));
}
function Fk(e, t) {
  const r = e.queryClient, i = ["apps", t.id, "files"];
  return {
    mutationKey: i,
    mutationFn: async ({ file: o, subscribe: a }) => {
      if (o.id >= 1) {
        const s = await e.post(
          `/api/files/${o.id}/${a ? "subscribe" : "unsubscribe"}`,
          "POST",
          ""
        );
        if (!s.ok) {
          const c = await s.json();
          throw new Error(c.detail || c.title, { cause: c });
        }
        return s.json();
      } else
        throw new Error(`Could not ${a ? "subscribe" : "unsubscribe"} to ${o.name}.`);
    },
    onMutate: async (o) => (Ke(
      r,
      { queryKey: i, exact: !1 },
      o.file.id,
      (a) => Object.assign(a, { is_subscribed: o.subscribe, status: "pending" })
    ), {
      type: o.subscribe ? "subscribe" : "unsubscribe",
      file: o.file,
      status: { state: "pending" }
    }),
    onSuccess: (o, a) => {
      Ke(
        r,
        { queryKey: i, exact: !1 },
        a.file.id,
        (s) => Object.assign(s, o, { status: "ok" })
      ), Mt(r, i, a, (s) => {
        s.status.state = "ok";
      });
    },
    onError(o, a) {
      Ke(
        r,
        { queryKey: i, exact: !1 },
        a.file.id,
        (s) => Object.assign(s, { is_subscribed: a.file.is_subscribed, status: "error" })
      ), Mt(r, i, a, (s) => {
        s.status.state = "error", s.status.text = o.message;
      });
    }
  };
}
function zk(e, t) {
  return new rt(e.queryClient, Fk(e, t));
}
var Vk = Object.defineProperty, Nk = Object.getOwnPropertyDescriptor, Vi = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? Nk(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Vk(t, r, n), n;
};
let Br = class extends we {
  constructor() {
    super(), this.features = {}, this.view = "list", this.order = { by: "name", descending: !1 }, this.showTrashed = !1, this.availableFeatures = [], this.realtimeFileCreatedEvent = (e) => new CustomEvent("wy:file_created", { bubbles: !0, composed: !1, detail: e }), this.realtimeFileUpdatedEvent = (e) => new CustomEvent("wy:file_updated", { bubbles: !0, composed: !1, detail: e }), this.realtimeFileTrashedEvent = (e) => new CustomEvent("wy:file_trashed", { bubbles: !0, composed: !1, detail: e }), this.realtimeFileRestoredEvent = (e) => new CustomEvent("wy:file_restored", { bubbles: !0, composed: !1, detail: e }), this.realtimeFileDeletedEvent = (e) => new CustomEvent("wy:file_deleted", { bubbles: !0, composed: !1, detail: e }), this.appQuery = new lt(this), this.userQuery = new lt(this), this.featuresQuery = new lt(this), this.filesQuery = new Aa(this), this.persistState = new vh(this), this.infiniteScroll = new La(this), this.pagerRef = Ve(), this.previewRef = Ve(), this.dropZone = new Gf(this), this.appSubscribeMutation = new qi(this), this.uploadBlobMutation = new qi(this), this.createFileMutation = new qi(this), this.handleRealtimeFileCreated = (e) => {
      this.weavyContext && (e.file.created_by = e.actor, this.weavyContext.queryClient.invalidateQueries({ queryKey: this.getFilesQueryKey() }), this.dispatchEvent(this.realtimeFileCreatedEvent(e)));
    }, this.handleRealtimeFileUpdated = (e) => {
      !this.weavyContext || !this.app || (this.weavyContext.queryClient.invalidateQueries({ queryKey: this.getFilesQueryKey() }), this.dispatchEvent(this.realtimeFileUpdatedEvent(e)));
    }, this.handleRealtimeFileTrashed = (e) => {
      !this.weavyContext || !this.app || (this.weavyContext.queryClient.invalidateQueries({ queryKey: this.getFilesQueryKey() }), this.dispatchEvent(this.realtimeFileTrashedEvent(e)));
    }, this.handleRealtimeFileRestored = (e) => {
      !this.weavyContext || !this.app || (this.weavyContext.queryClient.invalidateQueries({ queryKey: this.getFilesQueryKey() }), this.dispatchEvent(this.realtimeFileRestoredEvent(e)));
    }, this.handleRealtimeFileDeleted = (e) => {
      !this.weavyContext || !this.app || (this.weavyContext.queryClient.invalidateQueries({ queryKey: this.getFilesQueryKey() }), this.dispatchEvent(this.realtimeFileDeletedEvent(e)));
    }, this.addEventListener("drop-files", this.handleBlobUpload), new nc(this, Br.styles);
  }
  // upload files
  handleBlobUpload(e) {
    const t = e.detail;
    if (t.files) {
      for (let r = 0; r < t.files.length; r++) {
        const n = { file: t.files[r] };
        this.uploadBlobMutation.mutate(n).then((o) => this.handleCreateFile(o));
      }
      t.input && (t.input.value = "");
    }
  }
  // upload files
  handleExternalBlobs(e) {
    var t;
    if (e.detail.externalBlobs)
      for (let r = 0; r < e.detail.externalBlobs.length; r++) {
        const i = e.detail.externalBlobs[r];
        (t = this.externalBlobMutation) == null || t.mutate({ externalBlob: i }).then((n) => this.handleCreateFile(n));
      }
  }
  // add uploaded files
  async handleCreateFile(e, t) {
    return await this.createFileMutation.mutate({ blob: e, replace: t });
  }
  handleSubscribe(e) {
    var t;
    (t = this.app) != null && t.id && this.appSubscribeMutation.mutate({ subscribe: e });
  }
  getFilesQueryKey() {
    return ["apps", this.app.id, "files"];
  }
  unsubscribeToRealtime(e) {
    this.weavyContext && (this.weavyContext.unsubscribe(`a${e.id}`, "file_created", this.handleRealtimeFileCreated), this.weavyContext.unsubscribe(`a${e.id}`, "file_updated", this.handleRealtimeFileUpdated), this.weavyContext.unsubscribe(`a${e.id}`, "file_trashed", this.handleRealtimeFileTrashed), this.weavyContext.unsubscribe(`a${e.id}`, "file_restored", this.handleRealtimeFileRestored), this.weavyContext.unsubscribe(`a${e.id}`, "file_deleted", this.handleRealtimeFileDeleted));
  }
  async scheduleUpdate() {
    var e, t, r;
    await Ti(this), this.weavyContextConsumer = new Yr(this, { context: Te, subscribe: !0 }), (e = this.weavyContextConsumer) != null && e.value && this.weavyContext !== ((t = this.weavyContextConsumer) == null ? void 0 : t.value) && (this.weavyContext = (r = this.weavyContextConsumer) == null ? void 0 : r.value), await super.scheduleUpdate();
  }
  willUpdate(e) {
    var t, r, i, n, o, a;
    if (e.has("app")) {
      const s = e.get("app");
      s && s !== this.app && this.unsubscribeToRealtime(s);
    }
    (e.has("uid") || e.has("weavyContext")) && this.uid && this.weavyContext && (this.appQuery.trackQuery(xl(this.weavyContext, this.uid, oc.Files)), this.userQuery.trackQuery(Bt(this.weavyContext, ["user"])), this.featuresQuery.trackQuery(Bt(this.weavyContext, ["features", "files"])), this.persistState.observe(["view", "order", "showTrashed"], this.uid)), (t = this.appQuery.result) != null && t.isPending || (this.app = (r = this.appQuery.result) == null ? void 0 : r.data), (i = this.userQuery.result) != null && i.isPending || (this.user = (n = this.userQuery.result) == null ? void 0 : n.data), (o = this.featuresQuery.result) != null && o.isPending || (this.availableFeatures = (a = this.featuresQuery.result) == null ? void 0 : a.data), (e.has("weavyContext") || e.has("app") || e.has("order") || e.has("showTrashed")) && this.weavyContext && this.app && this.filesQuery.trackInfiniteQuery(
      Pk(this.weavyContext, this.app.id, {
        order: this.order,
        trashed: this.showTrashed
      })
    ), (e.has("weavyContext") || e.has("app") || e.has("user")) && this.weavyContext && this.app && this.user && (this.appSubscribeMutation.trackMutation(wb(this.weavyContext, this.app)), this.uploadBlobMutation.trackMutation(Kf(this.weavyContext, this.user, this.app)), this.createFileMutation.trackMutation(c_(this.weavyContext, this.user, this.app)), this.externalBlobMutation = Yf(this.weavyContext, this.user, this.app), this.renameFileMutation = Lk(this.weavyContext, this.app), this.subscribeFileMutation = zk(this.weavyContext, this.app), this.trashFileMutation = Ok(this.weavyContext, this.app), this.restoreFileMutation = Tk(this.weavyContext, this.app), this.deleteForeverFileMutation = Dk(this.weavyContext, this.app), this.weavyContext.subscribe(`a${this.app.id}`, "file_created", this.handleRealtimeFileCreated), this.weavyContext.subscribe(`a${this.app.id}`, "file_updated", this.handleRealtimeFileUpdated), this.weavyContext.subscribe(`a${this.app.id}`, "file_trashed", this.handleRealtimeFileTrashed), this.weavyContext.subscribe(`a${this.app.id}`, "file_restored", this.handleRealtimeFileRestored), this.weavyContext.subscribe(`a${this.app.id}`, "file_deleted", this.handleRealtimeFileDeleted));
  }
  updated() {
    this.infiniteScroll.observe(this.filesQuery.result, this.pagerRef.value);
  }
  render() {
    var a;
    const { isPending: e } = ((a = this.weavyContext) == null ? void 0 : a.network) ?? { isPending: !0 }, { data: t, isPending: r, dataUpdatedAt: i } = this.filesQuery.result ?? { isPending: e }, n = this.dropZone.isDragActive, o = ((t == null ? void 0 : t.pages.flatMap((s) => s.data)) || []).filter((s) => s);
    return v`
      <wy-files-appbar
        .app=${this.app}
        .user=${this.user}
        .availableFeatures=${this.availableFeatures}
        .features=${this.features}
        .order=${this.order}
        .showTrashed=${this.showTrashed}
        .view=${this.view}
        @upload-files=${this.handleBlobUpload}
        @external-blobs=${this.handleExternalBlobs}
        @create-files=${(s) => s.detail.blobs.forEach((c) => this.handleCreateFile(c, s.detail.replace))}
        @order=${(s) => {
      this.order = s.detail.order;
    }}
        @show-trashed=${(s) => {
      this.showTrashed = s.detail.showTrashed;
    }}
        @view=${(s) => {
      this.view = s.detail.view;
    }}
        @subscribe=${(s) => this.handleSubscribe(s.detail.subscribe)}
      >
      </wy-files-appbar>

      <div
        class="wy-files ${dt({ "wy-dragging": n })}"
        data-drag-title=${V("Drop files here to upload.")}
      >
        ${r ? v`<wy-empty><wy-spinner overlay></wy-spinner></wy-empty>` : o.length ? v`
                <wy-files-list
                  .view=${this.view}
                  .files=${o}
                  .dataUpdatedAt=${i}
                  .order=${this.order}
                  .availableFeatures=${this.availableFeatures}
                  .features=${this.features}
                  @file-open=${(s) => {
      var c;
      (c = this.previewRef.value) == null || c.open(s.detail.file);
    }}
                  @order=${(s) => {
      this.order = s.detail.order;
    }}
                  @rename=${(s) => {
      var c;
      (c = this.renameFileMutation) == null || c.mutate({ file: s.detail.file, name: s.detail.name });
    }}
                  @subscribe=${(s) => {
      var c;
      (c = this.subscribeFileMutation) == null || c.mutate({
        file: s.detail.file,
        subscribe: s.detail.subscribe
      });
    }}
                  @trash=${(s) => {
      var c;
      (c = this.trashFileMutation) == null || c.mutate({ file: s.detail.file });
    }}
                  @restore=${(s) => {
      var c;
      (c = this.restoreFileMutation) == null || c.mutate({ file: s.detail.file });
    }}
                  @delete-forever=${(s) => {
      var c;
      (c = this.deleteForeverFileMutation) == null || c.mutate({ file: s.detail.file });
    }}
                >
                </wy-files-list>
              ` : v`
                <wy-empty>
                  <div class="wy-content-icon">
                    <div class="wy-content-icon">
                      <wy-icon name="file-upload"></wy-icon>
                    </div>
                    <div class="wy-content-name">
                      <span>${V("Add some files to get started!")}</span>
                    </div>
                  </div>
                </wy-empty>
              `}
        <div ${Pe(this.pagerRef)} class="wy-pager"></div>
      </div>
      ${r ? F : v`
            <wy-preview
              ${Pe(this.previewRef)}
              .app=${this.app}
              .user=${this.user}
              .infiniteQueryResult=${this.filesQuery.result}
              .availableFeatures=${this.availableFeatures}
              .features=${this.features}
            ></wy-preview>
          `}
    `;
  }
  disconnectedCallback() {
    this.weavyContext && this.app && this.unsubscribeToRealtime(this.app), super.disconnectedCallback();
  }
};
Br.styles = [
  Po,
  ke,
  We`
      :host {
        min-height: 100%;
        display: flex;
        flex-direction: column;
        width: 100%;
      }
    `
];
Vi([
  te()
], Br.prototype, "weavyContext", 2);
Vi([
  m()
], Br.prototype, "uid", 2);
Vi([
  m({ type: Object })
], Br.prototype, "features", 2);
Vi([
  m()
], Br.prototype, "view", 2);
Vi([
  m({ type: Object })
], Br.prototype, "order", 2);
Vi([
  m({ type: Boolean })
], Br.prototype, "showTrashed", 2);
Vi([
  te()
], Br.prototype, "app", 2);
Vi([
  te()
], Br.prototype, "user", 2);
Vi([
  te()
], Br.prototype, "availableFeatures", 2);
Br = Vi([
  fe("wy-files"),
  De()
], Br);
const Xy = (e) => xv(e) ? e._$litType$.h : e.strings, Bk = Tn(class extends Rn {
  constructor(e) {
    super(e), this.et = /* @__PURE__ */ new WeakMap();
  }
  render(e) {
    return [e];
  }
  update(e, [t]) {
    const r = Qh(this.it) ? Xy(this.it) : null, i = Qh(t) ? Xy(t) : null;
    if (r !== null && (i === null || r !== i)) {
      const n = yd(e).pop();
      let o = this.et.get(r);
      if (o === void 0) {
        const a = document.createDocumentFragment();
        o = $p(F, a), o.setConnected(!1), this.et.set(r, o);
      }
      qc(o, [n]), Kn(o, void 0, n);
    }
    if (i !== null) {
      if (r === null || r !== i) {
        const n = this.et.get(i);
        if (n !== void 0) {
          const o = yd(n).pop();
          Cv(e), Kn(e, void 0, o), qc(e, [o]);
        }
      }
      this.it = t;
    } else
      this.it = void 0;
    return this.render(t);
  }
});
function im(e, t, r) {
  return {
    queryKey: ["members", t],
    queryFn: async () => await (await e.get("/api/apps/" + t + "/members")).json(),
    ...r
  };
}
function Hk(e, t) {
  return {
    queryKey: ["searchmembers"],
    initialPageParam: 0,
    enabled: !0,
    queryFn: async (i) => {
      const n = t(), o = n || "*", a = i.pageParam, c = await (await e.get(
        `/api/users/autocomplete?q=${o}&skip=${a}&top=25&count=${!n}`
      )).json();
      return c.data = c.data || [], c;
    },
    getNextPageParam: (i, n) => {
      if (i != null && i.end && (i == null ? void 0 : i.end) < (i == null ? void 0 : i.count))
        return n.length * 25;
    }
  };
}
var jk = Object.defineProperty, Uk = Object.getOwnPropertyDescriptor, Mo = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? Uk(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && jk(t, r, n), n;
};
let rn = class extends we {
  constructor() {
    super(...arguments), this.activeTypers = [], this.text = "", this.typingTimeout = null, this.handleRealtimeTyping = (e) => {
      e.entity.id === this.appId && e.actor.id !== this.userId && (this.setTypers(e.actor), this.updateTyping());
    }, this.handleRealtimeStopTyping = (e) => {
      const t = this.activeTypers;
      t.forEach((r, i) => {
        r.id === e.actor.id && t.splice(i, 1);
      }), this.updateTyping();
    };
  }
  updateTyping() {
    var r;
    const e = this.activeTypers;
    this.typingTimeout && (clearTimeout(this.typingTimeout), this.typingTimeout = null);
    const t = Date.now();
    if (e.forEach((i, n) => {
      t - i.time > 5 * 1e3 && e.splice(n, 1);
    }), e.length) {
      const i = Math.round(
        (t - Math.max.apply(
          null,
          e.map((s) => s.time)
        )) / 1e3
      ) % 3 + 1, n = ".".repeat(i), o = e.map((s) => s.display_name).sort();
      let a = "";
      if (o.length === 1) {
        const s = o[0];
        a = V(Qi`${s} is typing${n}`, { desc: "A is typing..." });
      } else {
        const s = new Intl.ListFormat((r = this.weavyContext) == null ? void 0 : r.locale, { style: "long", type: "conjunction" }).format(o);
        a = V(Qi`${s} are typing${n}`, {
          desc: "A, B and C are typing..."
        });
      }
      this.text = a, this.typingTimeout = window.setTimeout(() => this.updateTyping(), 1e3);
    } else
      this.text = "";
  }
  setTypers(e) {
    const t = this.activeTypers;
    t.forEach((i, n) => {
      i.id === e.id && t.splice(n, 1);
    });
    const r = { ...e, time: Date.now() };
    t.push(r);
  }
  willUpdate(e) {
    (e.has("weavyContext") || e.has("appId") || e.has("userId")) && this.weavyContext && (this.activeTypers = [], e.get("appId") && e.get("appId") !== this.appId && (this.weavyContext.unsubscribe(`a${this.appId}`, "typing", this.handleRealtimeTyping), this.weavyContext.unsubscribe(`a${this.appId}`, "message_created", this.handleRealtimeStopTyping)), this.weavyContext.subscribe(`a${this.appId}`, "typing", this.handleRealtimeTyping), this.weavyContext.subscribe(`a${this.appId}`, "message_created", this.handleRealtimeStopTyping));
  }
  render() {
    return this.text ? v`<span>${this.text}</span>` : v`<slot></slot>`;
  }
};
rn.styles = ke;
Mo([
  tt({ context: Te, subscribe: !0 }),
  te()
], rn.prototype, "weavyContext", 2);
Mo([
  m({ attribute: !0, type: Number })
], rn.prototype, "appId", 2);
Mo([
  m({ attribute: !0, type: Number })
], rn.prototype, "userId", 2);
Mo([
  te()
], rn.prototype, "activeTypers", 2);
Mo([
  te()
], rn.prototype, "text", 2);
Mo([
  te()
], rn.prototype, "typingTimeout", 2);
rn = Mo([
  fe("wy-typing"),
  De()
], rn);
var Wk = Object.defineProperty, qk = Object.getOwnPropertyDescriptor, Da = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? qk(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Wk(t, r, n), n;
};
let In = class extends we {
  constructor() {
    super(...arguments), this.existingMembers = { data: [], count: 0 }, this.selected = [], this.text = "", this.peopleQuery = new Aa(this), this.inputRef = Ve(), this.infiniteScroll = new La(this), this.pagerRef = Ve(), this.throttledSearch = cl(
      async () => {
        var e;
        this.text = ((e = this.inputRef.value) == null ? void 0 : e.value) || "";
      },
      250,
      { leading: !1, trailing: !0 }
    );
  }
  dispatchSubmit() {
    const e = new CustomEvent("submit", { detail: { members: this.selected } });
    return this.dispatchEvent(e);
  }
  isChecked(e) {
    return this.selected.find((t) => t.id === e) != null;
  }
  handleSelected(e, t) {
    t ? this.selected = [...this.selected, e] : this.selected = this.selected.filter((r) => r.id !== e.id);
  }
  async clear() {
    this.text = "";
  }
  render() {
    var a;
    const { data: e, isPending: t } = this.peopleQuery.result ?? { data: [] }, r = ((a = e == null ? void 0 : e.pages) == null ? void 0 : a.flatMap((s) => s.data)) || [], i = !!r.length, n = this.selected.length > 0, o = !!r.filter(
      (s) => {
        var c, l;
        return ((l = (c = this.existingMembers) == null ? void 0 : c.data) == null ? void 0 : l.find((d) => d.id === s.id)) === void 0;
      }
    ).length;
    return v`<div class="wy-scroll-y">
      <div class="wy-pane-group">
        <div class="wy-input-group">
          <input
            class="wy-input wy-input-group-input wy-input-filled"
            name="search"
            .value=${this.text || ""}
            ${Pe(this.inputRef)}
            @input=${() => this.throttledSearch()}
            @keyup=${Xw}
            placeholder=${V("Search for people...")}
          />
          <wy-button
            type="reset"
            @click=${this.clear}
            kind="icon"
            class="wy-input-group-button-icon"
            buttonClass="wy-button-icon"
          >
            <wy-icon name="close-circle"></wy-icon>
          </wy-button>
          <wy-button kind="icon" class="wy-input-group-button-icon" buttonClass="wy-button-icon">
            <wy-icon name="magnify"></wy-icon>
          </wy-button>
        </div>
      </div>
      ${n ? v`
            <div class="wy-pane-group">
              <label class="wy-label">${V("Selected")}</label>
              ${this.selected.map((s) => v`
                  <div class="wy-item">
                    <wy-avatar
                      id=${s.id}
                      .src=${s.avatar_url}
                      .name=${s.display_name}
                      .presence=${s.presence}
                      .isBot=${s.is_bot}
                      size=${32}
                    ></wy-avatar>

                    <div class="wy-item-body"> ${s.display_name} </div>
                    <wy-button
                      @click=${() => this.handleSelected(s, !this.isChecked(s.id))}
                      kind="icon"
                      title=${V("Remove", { desc: "Button action to remove" })}
                    >
                      <wy-icon name="account-minus"></wy-icon>
                    </wy-button>
                  </div>
                `)}
            </div>
          ` : F}
      ${i && o ? v`
            <div class="wy-pane-group">
              <label class="wy-label">${V("People")}</label>
              ${r.filter(
      (s) => {
        var c, l;
        return ((l = (c = this.existingMembers) == null ? void 0 : c.data) == null ? void 0 : l.find((d) => d.id === s.id)) === void 0 && this.selected.find((d) => d.id === s.id) === void 0;
      }
    ).map((s) => v` <div class="wy-item">
                    <wy-avatar
                      id=${s.id}
                      .src=${s.avatar_url}
                      .name=${s.display_name}
                      .presence=${s.presence}
                      .isBot=${s.is_bot}
                      size=${32}
                    ></wy-avatar>

                    <div class="wy-item-body"> ${s.display_name} </div>
                    <wy-button @click=${() => this.handleSelected(s, !this.isChecked(s.id))} kind="icon">
                      <wy-icon name="account-plus"></wy-icon>
                    </wy-button>
                  </div>`) ?? F}
            </div>
            <div ${Pe(this.pagerRef)} class="wy-pager"></div>
          ` : t ? v` <wy-spinner overlay></wy-spinner> ` : v`
            <div class="wy-pane-group">
              <div class="wy-table-no-result">
                ${this.text ? V("Your search did not match any people.") : V("No more users found.")}
              </div>
            </div>
          `}

      <div class="wy-footerbars">
        <div class="wy-footerbar">
          <div class="wy-pane-group">
            <div class="wy-buttons">
              <wy-button
                buttonClass="wy-button-primary"
                @click=${this.dispatchSubmit}
                ?disabled=${this.selected.length === 0 ? !0 : void 0}
                >${this.buttonTitle ?? V("Create")}</wy-button
              >
            </div>
          </div>
        </div>
      </div>
    </div>`;
  }
  async updated(e) {
    var t, r;
    this.infiniteScroll.observe(this.peopleQuery.result, this.pagerRef.value), e.has("weavyContext") && this.weavyContext && this.peopleQuery.trackInfiniteQuery(Hk(this.weavyContext, () => this.text)), e.has("text") && await ((t = this.peopleQuery.result) == null ? void 0 : t.refetch()), (r = this.inputRef.value) == null || r.focus();
  }
};
In.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
Da([
  tt({ context: Te, subscribe: !0 }),
  te()
], In.prototype, "weavyContext", 2);
Da([
  m({ attribute: !1 })
], In.prototype, "existingMembers", 2);
Da([
  m({ attribute: !1 })
], In.prototype, "buttonTitle", 2);
Da([
  te()
], In.prototype, "selected", 2);
Da([
  te()
], In.prototype, "text", 2);
In = Da([
  fe("wy-users-search"),
  De()
], In);
var Qk = Object.defineProperty, Kk = Object.getOwnPropertyDescriptor, on = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? Kk(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Qk(t, r, n), n;
};
let wi = class extends we {
  constructor() {
    super(...arguments), this.showAddMembers = !1, this.showDetails = !1, this.conversationTitle = "", this.conversationTitleInput = "", this.releaseFocusEvent = () => new CustomEvent("release-focus", { bubbles: !0, composed: !0 }), this.membersQuery = new lt(this), this.userQuery = new lt(this), this.handleRealtimeAppUpdated = (e) => {
      !this.conversationId || e.app.id !== this.conversationId || (this.conversationTitle = this.conversationTitleInput = e.app.display_name);
    };
  }
  isPrivateChat(e) {
    var t;
    return ((t = e ?? this.conversation) == null ? void 0 : t.type) === ct.PrivateChat;
  }
  isChatRoom(e) {
    var t;
    return ((t = e ?? this.conversation) == null ? void 0 : t.type) === ct.ChatRoom;
  }
  unsubscribeToRealtime(e) {
    this.weavyContext && this.weavyContext.unsubscribe(`a${e}`, "app_updated", this.handleRealtimeAppUpdated);
  }
  async addMembers(e) {
    var t;
    this.showAddMembers = !1, !(!this.weavyContext || !this.conversationId) && (await ((t = this.addMembersMutation) == null ? void 0 : t.mutate({ id: this.conversationId, members: e.map((r) => r.id) })), await this.membersQuery.result.refetch(), await this.weavyContext.queryClient.invalidateQueries({ queryKey: ["conversations"] }));
  }
  async handleSaveConversationName() {
    var t;
    if (!this.conversationId)
      return;
    const e = this.conversationTitleInput.trim() === "" ? null : this.conversationTitleInput.trim();
    await ((t = this.updateConversationMutation) == null ? void 0 : t.mutate({ id: this.conversationId, name: e }));
  }
  async leaveConversation(e) {
    var t;
    !this.weavyContext || !this.conversationId || !this.user || (await ((t = this.leaveConversationMutation) == null ? void 0 : t.mutate({
      id: this.conversationId,
      members: [e || this.user.id]
    })), e ? await this.membersQuery.result.refetch() : (this.showDetails = !1, this.conversation = void 0, this.conversationId = void 0), await this.weavyContext.queryClient.invalidateQueries({ queryKey: ["conversations"] }));
  }
  async scheduleUpdate() {
    var e, t, r;
    await Ti(this), this.weavyContextConsumer = new Yr(this, { context: Te, subscribe: !0 }), (e = this.weavyContextConsumer) != null && e.value && this.weavyContext !== ((t = this.weavyContextConsumer) == null ? void 0 : t.value) && (this.weavyContext = (r = this.weavyContextConsumer) == null ? void 0 : r.value), await super.scheduleUpdate();
  }
  willUpdate(e) {
    var t, r;
    if (e.has("weavyContext") && this.weavyContext && (this.userQuery.trackQuery(Bt(this.weavyContext, ["user"])), this.leaveConversationMutation = Jf(this.weavyContext), this.addMembersMutation = sk(this.weavyContext), this.updateConversationMutation = em(this.weavyContext)), e.has("conversationId")) {
      const i = e.get("conversationId");
      i && this.conversation && i !== this.conversationId && this.unsubscribeToRealtime(i);
    }
    (e.has("weavyContext") || e.has("conversationId")) && this.weavyContext && (this.conversationId ? (this.membersQuery.trackQuery(
      im(this.weavyContext, this.conversationId, {
        initialData: () => {
          var i, n;
          if (this.conversationId)
            return (n = (i = this.weavyContext) == null ? void 0 : i.queryClient.getQueryData([
              "conversations",
              this.conversationId
            ])) == null ? void 0 : n.members;
        }
      })
    ), this.weavyContext.subscribe(`a${this.conversationId}`, "app_updated", this.handleRealtimeAppUpdated)) : this.membersQuery.untrackQuery()), (t = this.userQuery.result) != null && t.isPending || (this.user = (r = this.userQuery.result) == null ? void 0 : r.data), e.has("conversation") && this.conversation && (this.conversationTitleInput = this.conversationTitle = this.conversation.display_name);
  }
  render() {
    var r, i, n, o, a;
    const { data: e } = this.membersQuery.result ?? {}, t = this.user && this.isPrivateChat() ? (n = (((i = (r = this.conversation) == null ? void 0 : r.members) == null ? void 0 : i.data) || []).filter((s) => {
      var c;
      return s.id !== ((c = this.user) == null ? void 0 : c.id);
    })) == null ? void 0 : n[0] : null;
    return v`
      <header class="wy-appbars">
        <nav class="wy-appbar">
          <div><slot name="action"></slot></div>
          ${this.conversation && this.user ? v`
                <wy-typing appId=${(o = this.conversation) == null ? void 0 : o.id} userId=${this.user.id}>
                  ${this.conversation.type === ct.PrivateChat ? v`<wy-presence
                        placement="text"
                        .status=${t == null ? void 0 : t.presence}
                        id=${ot(t == null ? void 0 : t.id)}
                      ></wy-presence>` : F}
                  <span class="wy-appbar-text">${this.conversationTitle}</span>
                </wy-typing>
              ` : v`<span></span>`}
          ${this.isChatRoom() || this.isPrivateChat() ? v`
                <wy-dropdown>
                  <wy-dropdown-item @click=${() => this.showDetails = !0}>
                    <wy-icon name="information"></wy-icon>
                    ${V("Details")}
                  </wy-dropdown-item>
                  ${this.isChatRoom() ? v`
                        <wy-dropdown-item @click=${() => this.showAddMembers = !0}>
                          <wy-icon name="account-plus"></wy-icon> ${V("Add members")}
                        </wy-dropdown-item>
                        <wy-dropdown-item @click=${() => this.leaveConversation()}>
                          <wy-icon name="account-minus"></wy-icon> ${V("Leave conversation")}
                        </wy-dropdown-item>
                      ` : F}
                </wy-dropdown>
              ` : F}
        </nav>
      </header>

      <!-- add members modal -->
      ${Yi(
      this.showAddMembers,
      v`
          <wy-overlay @release-focus=${() => this.dispatchEvent(this.releaseFocusEvent())}>
            <header class="wy-appbars">
              <nav class="wy-appbar">
                <wy-button kind="icon" @click=${() => this.showAddMembers = !1}>
                  <wy-icon name="close"></wy-icon>
                </wy-button>
                <div class="wy-appbar-text">${V("Add members")}</div>
              </nav>
            </header>

            <wy-users-search
              .buttonTitle=${V("Add")}
              .existingMembers=${e}
              @submit=${(s) => this.addMembers(s.detail.members)}
            ></wy-users-search>
          </wy-overlay>
        `,
      () => this.showAddMembers = !1
    )}

      <!-- details modal -->
      ${Yi(
      this.showDetails,
      v`
          <wy-overlay @release-focus=${() => this.dispatchEvent(this.releaseFocusEvent())}>
            <header class="wy-appbars">
              <nav class="wy-appbar">
                <wy-button kind="icon" @click=${() => this.showDetails = !1}>
                  <wy-icon name="close"></wy-icon>
                </wy-button>
                <div class="wy-appbar-text">${V("Details")}</div>
              </nav>
            </header>
            <div class="wy-scroll-y">
              ${this.conversation && this.user ? v`
                    <div class="wy-avatar-header">
                      ${this.isChatRoom() && !this.conversation.avatar_url ? v`
                            <wy-avatar-group
                              .members=${e}
                              .user=${this.user}
                              .name=${this.conversation.display_name}
                              .size=${96}
                            ></wy-avatar-group>
                          ` : this.conversation.display_name || this.conversation.avatar_url ? v`
                            <wy-avatar
                              src=${ot(t == null ? void 0 : t.avatar_url)}
                              name=${this.conversation.display_name}
                              size=${96}
                            ></wy-avatar>
                          ` : F}
                      ${this.conversationTitle ? v` <h3 class="wy-title">${this.conversationTitle}</h3> ` : F}
                    </div>
                    ${this.isChatRoom() ? v`
                          <div class="wy-pane-group">
                            <label class="wy-input-label">${V("Conversation name")}</label>
                            <div class="wy-input-group">
                              <input
                                class="wy-input"
                                .value=${this.conversationTitleInput}
                                @input=${(s) => {
        this.conversationTitleInput = s.target.value;
      }}
                                @keyup=${Jc}
                              />
                              <wy-button
                                kind="icon"
                                class="wy-input-group-button-icon"
                                buttonClass="wy-input-group-button-icon wy-button-primary"
                                @click=${() => this.handleSaveConversationName()}
                              >
                                <wy-icon name="check"></wy-icon>
                              </wy-button>
                            </div>
                            <div class="wy-description">
                              ${V("Changing the name of a group chat changes it for everyone.")}
                            </div>
                          </div>
                          <div class="wy-pane-group">
                            <label class="wy-input-label">${V("Members")}</label>
                            ${e ? v`
                                  ${((a = e.data) == null ? void 0 : a.map(
        (s) => v`
                                      <div class="wy-item">
                                        <wy-avatar
                                          .src=${s.avatar_url}
                                          .name=${s.display_name}
                                          .isBot=${s.is_bot}
                                          size=${32}
                                        ></wy-avatar>
                                        <div class="wy-item-body">
                                          ${s.display_name}
                                          ${this.conversation.created_by_id === s.id ? v` <wy-icon
                                                size="20"
                                                inline
                                                name="shield-star"
                                                title=${V("Admin")}
                                              ></wy-icon>` : F}
                                        </div>

                                        ${this.conversation.created_by_id === this.user.id || s.id !== this.user.id ? v`
                                              <wy-dropdown>
                                                ${this.conversation.created_by_id === this.user.id && s.id !== this.user.id ? v` <wy-dropdown-item
                                                      @click=${() => this.leaveConversation(s.id)}
                                                    >
                                                      <wy-icon name="account-minus"></wy-icon>
                                                      ${V("Remove member")}
                                                    </wy-dropdown-item>` : s.id === this.user.id ? v`
                                                      <wy-dropdown-item @click=${() => this.leaveConversation()}>
                                                        <wy-icon name="account-minus"></wy-icon>
                                                        ${V("Leave conversation")}
                                                      </wy-dropdown-item>
                                                    ` : F}
                                              </wy-dropdown>
                                            ` : F}
                                      </div>
                                    `
      )) ?? F}
                                ` : F}
                          </div>
                          <div class="wy-pane-group">
                            <wy-button
                              kind="filled"
                              buttonClass="wy-button-primary"
                              @click=${() => {
        this.showDetails = !1, this.showAddMembers = !0;
      }}
                              title=${V("Add members")}
                            >
                              <wy-icon name="account-plus"></wy-icon>
                              ${V("Add members")}
                            </wy-button>
                          </div>
                        ` : F}
                  ` : F}
            </div>
          </wy-overlay>
        `,
      () => this.showDetails = !1
    )}
    `;
  }
  disconnectedCallback() {
    this.weavyContext && this.conversationId && this.unsubscribeToRealtime(this.conversationId), super.disconnectedCallback();
  }
};
wi.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
on([
  te()
], wi.prototype, "weavyContext", 2);
on([
  m({ attribute: !1 })
], wi.prototype, "user", 2);
on([
  m({ attribute: !1 })
], wi.prototype, "conversationId", 2);
on([
  m({ attribute: !1 })
], wi.prototype, "conversation", 2);
on([
  m({ type: Boolean })
], wi.prototype, "showAddMembers", 2);
on([
  m({ type: Boolean })
], wi.prototype, "showDetails", 2);
on([
  m({ type: String })
], wi.prototype, "conversationTitle", 2);
on([
  te()
], wi.prototype, "conversationTitleInput", 2);
wi = on([
  fe("wy-conversation-appbar"),
  De()
], wi);
function Zk(e, t = {}, r, i = [ct.ChatRoom, ct.PrivateChat], n) {
  return {
    ...t,
    initialPageParam: 0,
    // eslint-disable-next-line @tanstack/query/exhaustive-deps
    queryKey: ["conversations", i, n],
    queryFn: async (a) => {
      var h;
      const s = new URLSearchParams({
        q: (r == null ? void 0 : r()) || "",
        skip: ((h = a.pageParam) == null ? void 0 : h.toString()) || "0",
        top: "25",
        member: n || ""
      });
      i == null || i.forEach((y) => s.append("type", y));
      const c = `/api/conversations?${s.toString()}`, d = await (await e.get(c)).json();
      return d.data = d.data || [], d;
    },
    getNextPageParam: (a, s) => {
      if ((a == null ? void 0 : a.end) < (a == null ? void 0 : a.count))
        return s.length * 25;
    }
  };
}
function Yk(e) {
  return {
    mutationFn: async ({ members: r, type: i }) => await (await e.post(
      "/api/conversations",
      "POST",
      JSON.stringify({
        members: r,
        type: i
      })
    )).json(),
    onMutate: async (r) => ({})
  };
}
function Gk(e) {
  return new rt(e.queryClient, Yk(e));
}
var Xk = Object.defineProperty, Jk = Object.getOwnPropertyDescriptor, Tr = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? Jk(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && Xk(t, r, n), n;
};
let cr = class extends we {
  constructor() {
    super(...arguments), this.unread = !1, this.avatarUrl = "", this.hideAvatar = !1, this.displayName = "", this.type = ct.PrivateChat, this.selected = !1, this.starred = !1, this.pinned = !1, this.handleMessageCreated = (e) => {
      var t;
      e.message.app_id === this.conversationId && e.actor.id !== this.user.id && ((t = this.deliveredConversationMutation) == null || t.mutate({
        id: this.conversationId
      })), this.dispatchRefetch();
    }, this.handleConversationUpdated = () => {
      this.dispatchRefetch();
    }, this.handleConversationMarked = (e) => {
      e.actor.id === this.user.id && this.dispatchRefetch();
    };
  }
  dispatchRefetch() {
    const e = new CustomEvent("refetch", {});
    return this.dispatchEvent(e);
  }
  dispatchSelected(e, t) {
    e.preventDefault();
    const r = new CustomEvent("selected", { detail: { id: t } });
    return this.dispatchEvent(r);
  }
  handleStar(e, t) {
    e.preventDefault(), e.stopPropagation();
    const r = new CustomEvent("star", {
      detail: { id: this.conversationId, star: t }
    });
    return this.dispatchEvent(r);
  }
  handlePin(e, t) {
    e.preventDefault(), e.stopPropagation();
    const r = new CustomEvent("pin", {
      detail: { id: this.conversationId, pin: t }
    });
    return this.dispatchEvent(r);
  }
  dispatchMarked(e) {
    var r;
    const t = new CustomEvent("mark", {
      detail: { id: this.conversationId, markAsRead: e, messageId: (r = this.lastMessage) == null ? void 0 : r.id }
    });
    return this.dispatchEvent(t);
  }
  handleLeaveConversation() {
    const e = new CustomEvent("leave", {
      detail: { id: this.conversationId }
    });
    return this.dispatchEvent(e);
  }
  handleTrashConversation() {
    const e = new CustomEvent("trash", {
      detail: { id: this.conversationId }
    });
    return this.dispatchEvent(e);
  }
  willUpdate(e) {
    var t;
    e.has("weavyContext") && this.weavyContext && (this.deliveredConversationMutation = nk(this.weavyContext), this.weavyContext.subscribe(`a${this.conversationId}`, "app_updated", this.handleConversationUpdated), this.weavyContext.subscribe(`a${this.conversationId}`, "member_added", this.handleConversationUpdated), this.weavyContext.subscribe(`a${this.conversationId}`, "message_created", this.handleMessageCreated), this.weavyContext.subscribe(`a${this.conversationId}`, "conversation_marked", this.handleConversationMarked), this.unread && ((t = this.deliveredConversationMutation) == null || t.mutate({
      id: this.conversationId
    })));
  }
  render() {
    var i, n, o, a, s, c, l, d, h, y, w, b, C, E;
    const e = (i = this.lastMessage) != null && i.created_at ? new Intl.DateTimeFormat((n = this.weavyContext) == null ? void 0 : n.locale, { dateStyle: "full", timeStyle: "short" }).format(
      new Date(this.lastMessage.created_at)
    ) : "", t = (o = this.lastMessage) != null && o.created_at ? lc((a = this.weavyContext) == null ? void 0 : a.locale, new Date(this.lastMessage.created_at)) : "", r = this.type === ct.PrivateChat ? (c = (((s = this.members) == null ? void 0 : s.data) || []).filter((A) => A.id !== this.user.id)) == null ? void 0 : c[0] : null;
    return v`
      <div
        class=${dt({
      "wy-item wy-item-lg wy-item-hover wy-conversation": !0,
      "wy-unread": this.unread,
      "wy-active": this.selected
    })}
        tabindex="0"
        @click=${(A) => this.dispatchSelected(A, this.conversationId)}
        @keydown=${Pn}
        @keyup=${An}
      >
        ${this.type !== ct.BotChat ? this.type === ct.ChatRoom && this.user ? v`
                <wy-avatar-group
                  .members=${this.members}
                  .user=${this.user}
                  .name=${this.displayName}
                  .size=${48}
                ></wy-avatar-group>
              ` : v`
                <wy-avatar
                  src=${ot(r == null ? void 0 : r.avatar_url)}
                  name=${this.displayName}
                  size=${48}
                  presence=${(r == null ? void 0 : r.presence) || "away"}
                  id=${ot(r == null ? void 0 : r.id)}
                  ?isbot=${r == null ? void 0 : r.is_bot}
                ></wy-avatar>
              ` : F}

        <div class="wy-item-body">
          <div class="wy-item-row">
            <div class="wy-item-title"
              >${this.displayName || ((l = this.lastMessage) == null ? void 0 : l.plain) || V("Untitled conversation")}</div
            >
            ${this.lastMessage ? v`<time class="wy-meta" datetime=${this.lastMessage.created_at.toString()} title=${e}
                  >${t}</time
                >` : F}
          </div>
          <div class="wy-item-row">
            <div class="wy-item-text">
              <wy-typing appId=${this.conversationId} userId=${this.user.id}>
                ${this.lastMessage ? v`
                      ${this.user.id === this.lastMessage.created_by.id ? v`${V("You")}: ` : F}
                      ${this.members.count > 2 && this.user.id !== ((d = this.lastMessage) == null ? void 0 : d.created_by.id) ? v`${(h = this.lastMessage) == null ? void 0 : h.created_by.display_name}: ` : F}
                    ` : F}
                ${(y = this.lastMessage) != null && y.text ? v`<span>${this.lastMessage.plain}</span>` : F}
                ${!((w = this.lastMessage) != null && w.text) && (((b = this.lastMessage) == null ? void 0 : b.attachment_count) || 0) > 0 ? v`<wy-icon kind="text-icon" name="attachment"></wy-icon>` : F}
                ${!((C = this.lastMessage) != null && C.text) && ((E = this.lastMessage) != null && E.meeting_id) ? v`<wy-icon kind="text-icon" name="zoom"></wy-icon>` : F}
                ${this.lastMessage ? F : v`&nbsp;`}
              </wy-typing>
            </div>
          </div>
        </div>

        <div class="wy-item-actions wy-item-actions-bottom">
          ${this.starred ? v`<wy-button kind="icon" @click=${(A) => this.handleStar(A, !1)}>
                <wy-icon name="star" size=${24} color="yellow"></wy-icon>
              </wy-button>` : F}
          ${this.pinned ? v`<wy-button kind="icon" @click=${(A) => this.handlePin(A, !1)}
                ><wy-icon name="pin" size=${24} color=""></wy-icon
              ></wy-button>` : F}

          <wy-dropdown>
            <wy-dropdown-item @click=${() => this.dispatchMarked(this.unread)}>
              <wy-icon name=${this.unread ? "unread" : "read"}></wy-icon>
              ${this.unread ? V("Mark as read") : V("Mark as unread")}
            </wy-dropdown-item>
            <wy-dropdown-item @click=${(A) => this.handlePin(A, !this.pinned)}>
              <wy-icon name=${this.pinned ? "unpin" : "pin"}></wy-icon>
              ${this.pinned ? V("Unpin") : V("Pin")}
            </wy-dropdown-item>
            <wy-dropdown-item @click=${(A) => this.handleStar(A, !this.starred)}>
              <wy-icon name=${this.starred ? "unstar" : "star"}></wy-icon>
              ${this.starred ? V("Unstar") : V("Star")}
            </wy-dropdown-item>
            ${this.type === ct.ChatRoom ? v`<wy-dropdown-item @click=${() => this.handleLeaveConversation()}>
                  <wy-icon name="account-minus"></wy-icon>
                  ${V("Leave conversation")}
                </wy-dropdown-item>` : F}
            ${this.type === ct.BotChat ? v`
                  <wy-dropdown-item @click=${() => this.handleTrashConversation()}>
                    <wy-icon name="trashcan"></wy-icon>
                    ${V("Trash")}
                  </wy-dropdown-item>
                ` : F}
          </wy-dropdown>
        </div>
      </div>
    `;
  }
  // override disconnectedCallback(): void {
  //   // realtime
  //   if (this.weavyContext) {
  //     this.weavyContext.unsubscribe(`a${this.conversationId}`, "app_updated", this.handleConversationUpdated);
  //     this.weavyContext.unsubscribe(`a${this.conversationId}`, "member_added", this.handleConversationUpdated);
  //     this.weavyContext.unsubscribe(`a${this.conversationId}`, "message_created", this.handleMessageCreated);
  //     this.weavyContext.unsubscribe(`a${this.conversationId}`, "conversation_marked", this.handleConversationMarked);
  //   }
  //   super.disconnectedCallback();
  // }
};
cr.styles = ke;
Tr([
  tt({ context: Te, subscribe: !0 }),
  te()
], cr.prototype, "weavyContext", 2);
Tr([
  m({ attribute: !0, type: Number })
], cr.prototype, "conversationId", 2);
Tr([
  m({ attribute: !0, type: Boolean })
], cr.prototype, "unread", 2);
Tr([
  m({ attribute: !0 })
], cr.prototype, "avatarUrl", 2);
Tr([
  m({ attribute: !0, type: Boolean })
], cr.prototype, "hideAvatar", 2);
Tr([
  m({ attribute: !0 })
], cr.prototype, "displayName", 2);
Tr([
  m({ attribute: !0, type: String, reflect: !0 })
], cr.prototype, "type", 2);
Tr([
  m({ attribute: !0, type: Boolean, reflect: !0 })
], cr.prototype, "selected", 2);
Tr([
  m({ attribute: !0, type: Boolean, reflect: !0 })
], cr.prototype, "starred", 2);
Tr([
  m({ attribute: !0, type: Boolean, reflect: !0 })
], cr.prototype, "pinned", 2);
Tr([
  m({ attribute: !1 })
], cr.prototype, "members", 2);
Tr([
  m({ attribute: !1 })
], cr.prototype, "lastMessage", 2);
Tr([
  m({ attribute: !1 })
], cr.prototype, "user", 2);
cr = Tr([
  fe("wy-conversation-list-item"),
  De()
], cr);
var eC = Object.defineProperty, tC = Object.getOwnPropertyDescriptor, Ol = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? tC(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && eC(t, r, n), n;
};
let va = class extends we {
  constructor() {
    super(...arguments), this.show = !1;
  }
  open() {
    this.show = !0;
  }
  close() {
    this.show = !1;
  }
  async submit(e = []) {
    var o;
    const t = this.bot ? { members: [this.bot], type: Yw.BotChat } : { members: e == null ? void 0 : e.map((a) => a.id) }, r = await ((o = this.addConversationMutation) == null ? void 0 : o.mutate(t));
    this.close();
    const i = new CustomEvent("refetch", {});
    this.dispatchEvent(i);
    const n = new CustomEvent("selected", { detail: { id: r == null ? void 0 : r.id } });
    return this.dispatchEvent(n);
  }
  updated(e) {
    e.has("weavyContext") && this.weavyContext && (this.addConversationMutation = Gk(this.weavyContext));
  }
  render() {
    return v`
      <wy-button kind="icon" @click=${() => this.bot ? this.submit() : this.open()}><wy-icon name="plus"></wy-icon></wy-button>

      ${this.bot ? F : Yi(
      this.show,
      v`<wy-overlay
          @release-focus=${() => this.dispatchEvent(new CustomEvent("release-focus", { bubbles: !0, composed: !0 }))}>
          <header class="wy-appbars">
            <nav class="wy-appbar">
              <wy-button kind="icon" @click=${() => this.close()}>
                <wy-icon name="close"></wy-icon>
              </wy-button>
              <div class="wy-appbar-text">${V("New conversation")}</div>
            </nav>
          </header>

          <wy-users-search @submit=${(e) => this.submit(e.detail.members)}></wy-users-search>
        </wy-overlay>`,
      () => this.show = !1
    )}
    `;
  }
};
va.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
Ol([
  tt({ context: Te, subscribe: !0 }),
  te()
], va.prototype, "weavyContext", 2);
Ol([
  m()
], va.prototype, "bot", 2);
Ol([
  te()
], va.prototype, "show", 2);
va = Ol([
  fe("wy-conversation-new"),
  De()
], va);
var rC = Object.defineProperty, iC = Object.getOwnPropertyDescriptor, an = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? iC(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && rC(t, r, n), n;
};
let fi = class extends we {
  constructor() {
    super(...arguments), this.types = [ct.ChatRoom, ct.PrivateChat], this.searchText = "", this.inputRef = Ve(), this.conversationsQuery = new Aa(this), this.userQuery = new lt(this), this.infiniteScroll = new La(this), this.pagerRef = Ve(), this.handleRefresh = () => {
      this.conversationsQuery.result.refetch();
    }, this.handlePresenceChange = (e) => {
      this.weavyContext && (Array.isArray(e) || (e = [e]), et(
        this.weavyContext.queryClient,
        ["conversations"],
        () => !0,
        (t) => {
          const r = t.members.data;
          r.forEach((i) => {
            i.presence = e.indexOf(i.id) != -1 ? "active" : "away";
          }), t.members.data = r;
        }
      ));
    }, this.throttledSearch = cl(
      async () => {
        var e;
        this.searchText = ((e = this.inputRef.value) == null ? void 0 : e.value) || "";
      },
      250,
      { leading: !1, trailing: !0 }
    );
  }
  dispatchSelected(e) {
    this.conversationId = e;
    const t = new CustomEvent("conversation-selected", { detail: { id: e } });
    return this.dispatchEvent(t);
  }
  async handleMark(e, t, r) {
    var n;
    const i = t ? r : null;
    await ((n = this.markConversationMutation) == null ? void 0 : n.mutate({ id: e, markAsRead: t, messageId: i })), this.conversationsQuery.result.refetch();
  }
  async handleStar(e, t) {
    var r;
    await ((r = this.starConversationMutation) == null ? void 0 : r.mutate({ id: e, star: t })), this.conversationsQuery.result.refetch();
  }
  async handlePin(e, t) {
    var r;
    await ((r = this.pinConversationMutation) == null ? void 0 : r.mutate({ id: e, pin: t })), this.conversationsQuery.result.refetch();
  }
  async handleLeaveConversation(e) {
    var t;
    await ((t = this.leaveConversationMutation) == null ? void 0 : t.mutate({ id: e, members: [this.user.id] })), this.dispatchSelected(void 0), this.conversationsQuery.result.refetch();
  }
  async handleTrashConversation(e) {
    var t;
    await ((t = this.trashConversationMutation) == null ? void 0 : t.mutate({ id: e })), this.dispatchSelected(void 0), this.conversationsQuery.result.refetch();
  }
  async clear() {
    this.searchText = "";
  }
  async willUpdate(e) {
    var t, r;
    (e.has("weavyContext") || e.has("types")) && this.weavyContext && (this.userQuery.trackQuery(Bt(this.weavyContext, ["user"])), this.conversationsQuery.trackInfiniteQuery(
      Zk(this.weavyContext, {}, () => this.searchText, this.types, this.bot)
    ), this.markConversationMutation = Xf(this.weavyContext), this.starConversationMutation = ok(this.weavyContext), this.pinConversationMutation = ak(this.weavyContext), this.leaveConversationMutation = Jf(this.weavyContext), this.trashConversationMutation = ck(this.weavyContext), this.weavyContext.subscribe(null, "app_created", this.handleRefresh), this.weavyContext.subscribe(null, "member_added", this.handleRefresh), this.weavyContext.subscribe(null, "online", this.handlePresenceChange)), (t = this.userQuery.result) != null && t.isPending || (this.user = (r = this.userQuery.result) == null ? void 0 : r.data, this.bot || (this.avatarUser ?? (this.avatarUser = this.user)));
  }
  update(e) {
    super.update(e), this.infiniteScroll.observe(this.conversationsQuery.result, this.pagerRef.value);
  }
  async updated(e) {
    e.has("searchText") && this.conversationsQuery.result && await this.conversationsQuery.result.refetch();
  }
  renderConversations(e, t) {
    if (t) {
      const r = t.pages.flatMap((i) => i.data);
      return Ar(
        r,
        (i) => i.id,
        (i) => [
          v`<wy-conversation-list-item
              .conversationId=${i.id}
              .user=${this.user}
              .avatarUrl=${i.avatar_url}
              .hideAvatar=${!!this.bot}
              .displayName=${i.display_name}
              .lastMessage=${i.last_message}
              .members=${i.members}
              .unread=${i.is_unread}
              .starred=${i.is_starred}
              .pinned=${i.is_pinned}
              .type=${i.type}
              .selected=${this.conversationId == i.id}
              @selected=${(n) => this.dispatchSelected(n.detail.id)}
              @mark=${(n) => this.handleMark(n.detail.id, n.detail.markAsRead, n.detail.messageId)}
              @star=${(n) => this.handleStar(n.detail.id, n.detail.star)}
              @pin=${(n) => this.handlePin(n.detail.id, n.detail.pin)}
              @leave=${(n) => this.handleLeaveConversation(n.detail.id)}
              @trash=${(n) => this.handleTrashConversation(n.detail.id)}
              @refetch=${() => this.conversationsQuery.result.refetch()}
            ></wy-conversation-list-item>`
        ]
      );
    }
    return F;
  }
  render() {
    var r, i, n, o;
    const { data: e, isPending: t } = this.conversationsQuery.result ?? {};
    return v`
      ${this.user ? v`
            <header class="wy-appbars">
              <nav class="wy-appbar">
                <wy-avatar
                  .src=${(r = this.avatarUser) == null ? void 0 : r.avatar_url}
                  .name=${(i = this.avatarUser) == null ? void 0 : i.display_name}
                  .size=${24}
                ></wy-avatar>
                <div class="wy-appbar-text"
                  >${this.name ?? (this.bot ? (n = this.avatarUser) == null ? void 0 : n.display_name : V("Messenger"))}</div
                >
                <wy-conversation-new
                  .bot=${this.bot}
                  @refetch=${() => this.conversationsQuery.result.refetch()}
                  @selected=${(a) => this.dispatchSelected(a.detail.id)}
                ></wy-conversation-new>
              </nav>
            </header>
            ${this.bot ? F : v`
                  <div class="wy-pane-body">
                    <div class="wy-pane-group">
                      <div class="wy-input-group">
                        <input
                          class="wy-input wy-input-group-input wy-input-filled"
                          name="text"
                          .value=${this.searchText || ""}
                          ${Pe(this.inputRef)}
                          @input=${() => this.throttledSearch()}
                          @keyup=${Xw}
                          placeholder=${V("Search for conversations...")}
                        />
                        <wy-button
                          type="reset"
                          @click=${this.clear}
                          kind="icon"
                          class="wy-input-group-button-icon"
                          buttonClass="wy-button-icon"
                        >
                          <wy-icon name="close-circle"></wy-icon>
                        </wy-button>
                        <wy-button kind="icon" class="wy-input-group-button-icon" buttonClass="wy-button-icon">
                          <wy-icon name="magnify"></wy-icon>
                        </wy-button>
                      </div>
                    </div>
                  </div>
                `}
            <div class="wy-conversations">
              ${!t && this.user && e ? (o = e.pages[0]) != null && o.count || this.searchText ? this.renderConversations(this.user, e) : v`
                      <div class="wy-pane-body">
                        <div class="wy-pane-group">
                          <wy-empty noNetwork>${V("Create a conversation to get started.")}</wy-empty>
                        </div>
                      </div>
                    ` : v`<wy-spinner class="wy-content-icon"></wy-spinner>`}
              <div ${Pe(this.pagerRef)} class="wy-pager"></div>
            </div>
          ` : v`<wy-empty class="wy-pane"><wy-spinner overlay></wy-spinner></wy-empty>`}
    `;
  }
  disconnectedCallback() {
    this.weavyContext && (this.weavyContext.unsubscribe(null, "app_created", this.handleRefresh), this.weavyContext.unsubscribe(null, "member_added", this.handleRefresh), this.weavyContext.unsubscribe(null, "online", this.handlePresenceChange)), super.disconnectedCallback();
  }
};
fi.styles = [
  ke,
  We`
      :host {
        position: relative;
      }
    `
];
an([
  tt({ context: Te, subscribe: !0 }),
  te()
], fi.prototype, "weavyContext", 2);
an([
  te()
], fi.prototype, "user", 2);
an([
  m({ type: Object })
], fi.prototype, "avatarUser", 2);
an([
  m({ type: String })
], fi.prototype, "name", 2);
an([
  m({ type: Number })
], fi.prototype, "conversationId", 2);
an([
  m({ type: Array })
], fi.prototype, "types", 2);
an([
  m()
], fi.prototype, "bot", 2);
an([
  te()
], fi.prototype, "searchText", 2);
fi = an([
  fe("wy-conversation-list"),
  De()
], fi);
var nC = Object.defineProperty, oC = Object.getOwnPropertyDescriptor, nm = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? oC(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && nC(t, r, n), n;
};
let du = class extends sr {
  constructor() {
    super(...arguments), this.conversationTitle = "", this.membersQuery = new lt(this), this.handleRealtimeAppUpdated = (e) => {
      !this.conversation || e.app.id !== this.conversation.id || (this.conversationTitle = e.app.display_name);
    }, this.handleRealtimeSeenBy = (e) => {
      !this.weavyContext || !this.conversation || e.conversation.id !== this.conversation.id || et(
        this.weavyContext.queryClient,
        ["members", this.conversation.id],
        e.actor.id,
        (t) => {
          t.marked_id = e.marked_id, t.marked_at = e.marked_at;
        }
      );
    }, this.handleRealtimeDelivered = (e) => {
      !this.weavyContext || !this.conversation || e.actor.id === this.user.id || e.conversation.id !== this.conversation.id || et(
        this.weavyContext.queryClient,
        ["members", this.conversation.id],
        e.actor.id,
        (t) => {
          t.delivered_at = e.delivered_at;
        }
      );
    };
  }
  isPrivateChat(e) {
    var t;
    return ((t = e ?? this.conversation) == null ? void 0 : t.type) === ct.PrivateChat;
  }
  isChatRoom(e) {
    var t;
    return ((t = e ?? this.conversation) == null ? void 0 : t.type) === ct.ChatRoom;
  }
  unsubscribeToRealtime(e) {
    super.unsubscribeToRealtime(e), this.weavyContext && (this.weavyContext.unsubscribe(`a${e}`, "conversation_marked", this.handleRealtimeSeenBy), this.weavyContext.unsubscribe(`a${e}`, "app_updated", this.handleRealtimeAppUpdated), this.weavyContext.unsubscribe(`a${e}`, "conversation_delivered", this.handleRealtimeDelivered));
  }
  willUpdate(e) {
    var t;
    super.willUpdate(e), (e.has("weavyContext") || e.has("conversation")) && this.weavyContext && (e.has("conversation") && this.conversation && (this.conversationTitle = this.conversation.display_name), this.conversation || this.membersQuery.untrackQuery()), (e.has("weavyContext") || e.has("conversationId")) && this.weavyContext && this.conversationId !== e.get("conversationId") && (this.conversationId && Ie(this.availableFeatures, Le.Receipts, (t = this.features) == null ? void 0 : t.receipts) ? this.membersQuery.trackQuery(
      im(this.weavyContext, this.conversationId, {
        initialData: () => {
          var r, i, n;
          if ((r = this.conversation) != null && r.id)
            return (n = (i = this.weavyContext) == null ? void 0 : i.queryClient.getQueryData([
              "conversations",
              this.conversation.id
            ])) == null ? void 0 : n.members;
        }
      })
    ) : this.membersQuery.untrackQuery(), this.conversationId && (this.weavyContext.subscribe(`a${this.conversationId}`, "app_updated", this.handleRealtimeAppUpdated), this.weavyContext.subscribe(`a${this.conversationId}`, "conversation_marked", this.handleRealtimeSeenBy), this.weavyContext.subscribe(`a${this.conversationId}`, "conversation_delivered", this.handleRealtimeDelivered)));
  }
  render() {
    var s, c, l, d, h, y;
    const { isPending: e } = ((s = this.weavyContext) == null ? void 0 : s.network) ?? { isPending: !0 }, { data: t, isPending: r, hasNextPage: i } = this.messagesQuery.result ?? { isPending: e }, { data: n, isPending: o } = this.membersQuery.result ?? {}, a = this.user && this.isPrivateChat() ? (d = (((l = (c = this.conversation) == null ? void 0 : c.members) == null ? void 0 : l.data) || []).filter((w) => {
      var b;
      return w.id !== ((b = this.user) == null ? void 0 : b.id);
    })) == null ? void 0 : d[0] : null;
    return v`
      ${this.conversation && this.user && t ? v`
            ${!i && !r ? v`
                  <div class="wy-avatar-header">
                    ${this.isChatRoom() && !this.conversation.avatar_url ? v`
                          <wy-avatar-group
                            .members=${n}
                            .user=${this.user}
                            .name=${this.conversation.display_name}
                            .size=${96}
                          ></wy-avatar-group>
                        ` : this.conversation.display_name || this.conversation.avatar_url ? v`
                          <wy-avatar
                            src=${ot(a == null ? void 0 : a.avatar_url)}
                            name=${this.conversation.display_name}
                            ?isBot=${a == null ? void 0 : a.is_bot}
                            size=${96}
                          ></wy-avatar>
                        ` : F}
                    ${this.conversationTitle ? v` <h3 class="wy-title">${this.conversationTitle}</h3> ` : F}
                  </div>
                ` : F}
            <wy-messages
              .app=${this.conversation}
              .user=${this.user}
              .infiniteMessages=${t}
              .availableFeatures=${this.availableFeatures}
              .features=${this.features}
              .members=${n}
              .unreadMarkerId=${this.lastReadMessageId}
              .unreadMarkerPosition=${this.lastReadMessagePosition}
              .unreadMarkerShow=${this.lastReadMessageShow}
              .pagerRef=${this.pagerRef}
              @vote=${(w) => {
      var b;
      (b = this.pollMutation) == null || b.mutate({
        optionId: w.detail.id,
        parentType: w.detail.parentType,
        parentId: w.detail.parentId
      });
    }}
            ></wy-messages>
          ` : v`
            <div class="wy-messages">
              <wy-empty class="wy-pane">
                ${r || o || !this.user || !this.conversation ? v`<wy-spinner overlay></wy-spinner>` : V("Start the conversation!")}
              </wy-empty>
            </div>
          `}
      ${this.conversation && pc(ui.Write, (h = this.conversation) == null ? void 0 : h.access, (y = this.conversation) == null ? void 0 : y.permissions) ? v`
            <div class="wy-footerbar wy-footerbar-sticky">
              <wy-message-editor
                .app=${this.conversation}
                .user=${this.user}
                .availableFeatures=${this.availableFeatures}
                .features=${this.features}
                .draft=${!0}
                placeholder=${V("Type a message...")}
                @submit=${(w) => this.handleSubmit(w)}
              ></wy-message-editor>
            </div>
          ` : F}
    `;
  }
};
nm([
  te()
], du.prototype, "conversationTitle", 2);
du = nm([
  fe("wy-conversation-extended"),
  De()
], du);
var aC = Object.defineProperty, sC = Object.getOwnPropertyDescriptor, fc = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? sC(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && aC(t, r, n), n;
};
let ko = class extends we {
  constructor() {
    super(...arguments), this.private = !0, this.rooms = !0, this.badgeQuery = new lt(this), this.handleBadgeRefresh = () => {
      this.badgeQuery.result.isRefetching || this.badgeQuery.result.refetch();
    }, this.handleRealtimeMessage = (e) => {
      this.handleBadgeRefresh();
    }, this.handleRealtimeSeenBy = (e) => {
      this.handleBadgeRefresh();
    };
  }
  async updated(e) {
    e.has("weavyContext") && this.weavyContext && (this.badgeQuery.trackQuery(Bt(this.weavyContext, ["conversations", "badge"])), this.weavyContext.subscribe(null, "message_created", this.handleRealtimeMessage), this.weavyContext.subscribe(null, "conversation_marked", this.handleBadgeRefresh));
  }
  render() {
    const { data: e, isPending: t } = this.badgeQuery.result ?? {}, r = e ? (this.private ? e.private : 0) + (this.rooms ? e.rooms : 0) : 0, i = this.bot ? e ? e.bots : 0 : r;
    return v`
      ${!t && i > 0 ? v` <span class="wy-badge wy-badge-danger">${i}</span> ` : F}
    `;
  }
};
ko.styles = ke;
fc([
  tt({ context: Te, subscribe: !0 }),
  te()
], ko.prototype, "weavyContext", 2);
fc([
  m({ attribute: !1, type: Boolean })
], ko.prototype, "private", 2);
fc([
  m({ attribute: !1, type: Boolean })
], ko.prototype, "rooms", 2);
fc([
  m()
], ko.prototype, "bot", 2);
ko = fc([
  fe("wy-badge")
], ko);
var cC = Object.defineProperty, lC = Object.getOwnPropertyDescriptor, oi = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? lC(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && cC(t, r, n), n;
};
let gr = class extends we {
  constructor() {
    super(), this.types = [ct.ChatRoom, ct.PrivateChat], this.conversationId = null, this.features = {}, this.conversationQuery = new lt(this), this.userQuery = new lt(this), this.featuresQuery = new lt(this), this.botQuery = new lt(this), this.persistState = new vh(this, this.bot || "messenger", ["conversationId"]), this.hasEventListener = {
      "wy:message_created": !1,
      "wy:app_created": !1,
      "wy:conversation_marked": !1,
      "wy:conversation_delivered": !1,
      "wy:member_added": !1
    }, this.releaseFocusEvent = () => new CustomEvent("release-focus", { bubbles: !0, composed: !0 }), this.realtimeMessageCreatedEvent = async (e) => {
      var t;
      ((t = e.message.parent) == null ? void 0 : t.type) === Nw.App && await this.conversationBelongsToMessenger(e.message.app_id) && this.dispatchEvent(
        new CustomEvent("wy:message_created", { bubbles: !0, composed: !1, detail: e })
      );
    }, this.realtimeAppCreatedEvent = async (e) => {
      await this.conversationBelongsToMessenger(e.app) && this.dispatchEvent(new CustomEvent("wy:app_created", { bubbles: !0, composed: !1, detail: e }));
    }, this.realtimeConversationMarkedEvent = async (e) => {
      await this.conversationBelongsToMessenger(e.conversation) && this.dispatchEvent(
        new CustomEvent("wy:conversation_marked", { bubbles: !0, composed: !1, detail: e })
      );
    }, this.realtimeConversationDeliveredEvent = async (e) => {
      await this.conversationBelongsToMessenger(e.conversation) && this.dispatchEvent(
        new CustomEvent("wy:conversation_delivered", { bubbles: !0, composed: !1, detail: e })
      );
    }, this.realtimeMemberAddedEvent = async (e) => {
      await this.conversationBelongsToMessenger(e.app) && this.dispatchEvent(new CustomEvent("wy:member_added", { bubbles: !0, composed: !1, detail: e }));
    }, new nc(this, gr.styles);
  }
  /**
   * @ignore
   */
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  addEventListener(e, t, r) {
    const i = e;
    Object.prototype.hasOwnProperty.call(this.hasEventListener, i) && (this.hasEventListener = {
      ...this.hasEventListener,
      [i]: !0
    }), super.addEventListener(e, t, r);
  }
  /**
   * Checks if a conversation belongs to Messenger.
   *
   * @param conversation {AppType | number} - The conversation or id to check if it belongs to Messenger.
   * @returns Promise<Boolean>
   */
  async conversationBelongsToMessenger(e) {
    if (!this.weavyContext)
      return !1;
    let t;
    if (typeof e == "number")
      t = await pb(
        this.weavyContext,
        ["conversations", e],
        void 0,
        {
          initialData: () => {
            var r, i;
            return (i = (r = this.weavyContext) == null ? void 0 : r.queryClient.getQueryData(["conversations"])) == null ? void 0 : i.pages.flatMap((n) => n.data).find((n) => n.id === e);
          }
        }
      );
    else if (typeof e.type == "string")
      t = e;
    else
      return !1;
    return t.type === ct.ChatRoom || t.type === ct.PrivateChat || t.type === ct.BotChat;
  }
  /**
   * Set the active conversation.
   *
   * @param id {number} - The id of the conversation to select.
   */
  async selectConversation(e) {
    if (await this.conversationBelongsToMessenger(e))
      this.conversationId = e;
    else
      throw new Error(`The conversation ${e} is invalid.`);
  }
  /**
   * Deselects any active conversation.
   */
  clearConversation() {
    this.conversationId = null;
  }
  async scheduleUpdate() {
    var e, t, r;
    await Ti(this), this.weavyContextConsumer = new Yr(this, { context: Te, subscribe: !0 }), (e = this.weavyContextConsumer) != null && e.value && this.weavyContext !== ((t = this.weavyContextConsumer) == null ? void 0 : t.value) && (this.weavyContext = (r = this.weavyContextConsumer) == null ? void 0 : r.value), await super.scheduleUpdate();
  }
  async willUpdate(e) {
    var t, r, i, n, o, a;
    e.has("weavyContext") && this.weavyContext && (this.userQuery.trackQuery(Bt(this.weavyContext, ["user"])), this.featuresQuery.trackQuery(Bt(this.weavyContext, ["features", "messenger"]))), (t = this.userQuery.result) != null && t.isPending || (this.user = (r = this.userQuery.result) == null ? void 0 : r.data), (i = this.featuresQuery.result) != null && i.isPending || (this.availableFeatures = (n = this.featuresQuery.result) == null ? void 0 : n.data), (e.has("weavyContext") || e.has("bot")) && this.weavyContext && this.bot && (this.persistState.prefixKey = this.bot || "messenger", this.types = [ct.BotChat], this.botQuery.trackQuery(Bt(this.weavyContext, ["users", this.bot])), this.conversationId = null), (o = this.botQuery.result) != null && o.isPending || (this.botUser = (a = this.botQuery.result) == null ? void 0 : a.data), (e.has("weavyContext") || e.has("hasEventListener") || e.has("user")) && this.weavyContext && this.user && (this.weavyContext.unsubscribe(null, "message_created", this.realtimeMessageCreatedEvent), this.weavyContext.unsubscribe(null, "conversation_marked", this.realtimeConversationMarkedEvent), this.weavyContext.unsubscribe(null, "conversation_delivered", this.realtimeConversationDeliveredEvent), this.weavyContext.unsubscribe(null, "app_created", this.realtimeAppCreatedEvent), this.weavyContext.unsubscribe(null, "member_added", this.realtimeMemberAddedEvent), this.hasEventListener["wy:message_created"] && this.weavyContext.subscribe(null, "message_created", this.realtimeMessageCreatedEvent), this.hasEventListener["wy:conversation_marked"] && this.weavyContext.subscribe(null, "conversation_marked", this.realtimeConversationMarkedEvent), this.hasEventListener["wy:conversation_delivered"] && this.weavyContext.subscribe(null, "conversation_delivered", this.realtimeConversationDeliveredEvent), this.hasEventListener["wy:app_created"] && this.weavyContext.subscribe(null, "app_created", this.realtimeAppCreatedEvent), this.hasEventListener["wy:member_added"] && this.weavyContext.subscribe(null, "member_added", this.realtimeMemberAddedEvent));
  }
  update(e) {
    super.update(e), (e.has("conversationId") || e.has("weavyContext")) && this.weavyContext && (this.conversationId ? this.conversationQuery.trackQuery(
      Bt(this.weavyContext, ["conversations", this.conversationId], void 0, {
        initialData: () => {
          var t, r;
          return (r = (t = this.weavyContext) == null ? void 0 : t.queryClient.getQueryData(["conversations"])) == null ? void 0 : r.pages.flatMap((i) => i.data).find((i) => i.id === this.conversationId);
        }
      })
    ) : this.conversationQuery.untrackQuery());
  }
  render() {
    var i;
    const { isPending: e } = ((i = this.weavyContext) == null ? void 0 : i.network) ?? { isPending: !0 }, { data: t, isPending: r } = this.conversationQuery.result ?? { isPending: e };
    return v`
      <wy-conversation-list
        class="wy-scroll-y"
        .types=${this.types}
        .bot=${this.bot}
        .avatarUser=${this.botUser}
        .name=${this.name}
        conversationId=${ot(this.conversationId !== null ? this.conversationId : void 0)}
        @conversation-selected=${(n) => this.selectConversation(n.detail.id)}
      ></wy-conversation-list>

      <div
        class="wy-messenger-conversation wy-scroll-y"
        data-conversation-id=${this.conversationId !== null ? this.conversationId : ""}
      >
        <wy-conversation-appbar
          .conversationId=${this.conversationId || void 0}
          .conversation=${t}
          .user=${this.user}
          @release-focus=${() => this.dispatchEvent(this.releaseFocusEvent())}
        >
          <span slot="action" class="wy-close-conversation">
            <wy-button kind="icon" @click=${() => this.clearConversation()}>
              <wy-icon name="back"></wy-icon>
            </wy-button>
            <wy-badge slot="badge" .bot=${this.bot}></wy-badge>
          </span>
        </wy-conversation-appbar>

        ${Bk(
      this.conversationId ? r ? v` <wy-empty><wy-spinner></wy-spinner></wy-empty> ` : this.bot ? v` <wy-conversation
                    .conversationId=${this.conversationId}
                    .conversation=${t}
                    .availableFeatures=${this.availableFeatures}
                    .features=${this.features}
                  ></wy-conversation>` : v` <wy-conversation-extended
                    .conversationId=${this.conversationId}
                    .conversation=${t}
                    .availableFeatures=${this.availableFeatures}
                    .features=${this.features}
                  ></wy-conversation-extended>` : v`
                <wy-empty noNetwork>${V("Select a conversation")}</wy-empty>
              `
    )}
      </div>
    `;
  }
  disconnectedCallback() {
    this.weavyContext && (this.weavyContext.unsubscribe(null, "message_created", this.realtimeMessageCreatedEvent), this.weavyContext.unsubscribe(null, "conversation_marked", this.realtimeConversationMarkedEvent), this.weavyContext.unsubscribe(null, "conversation_delivered", this.realtimeConversationDeliveredEvent), this.weavyContext.unsubscribe(null, "app_created", this.realtimeAppCreatedEvent), this.weavyContext.unsubscribe(null, "member_added", this.realtimeMemberAddedEvent)), super.disconnectedCallback();
  }
};
gr.styles = [
  Po,
  ke,
  We`
      :host(wy-messenger) {
        display: flex;
        align-items: stretch;
        position: relative;
        flex: 1;
        min-width: 16rem;
        container-type: inline-size;
      }

      wy-conversation-list {
        flex: 0 1 50%;
        min-width: 0;
        max-width: 24rem;
        border-right: 1px solid var(--wy-outline-variant, var(--wy-neutral-variant-80, #c1c7ce));
      }

      .wy-messenger-conversation {
        flex: 0 1 100%;
        min-width: max(50%, 16rem);
        min-height: min-content;
        display: flex;
        flex-direction: column;
      }

      .wy-close-conversation {
        display: none;
      }

      @container (max-width: 768px) {
        wy-conversation-list {
          flex: 0 1 100%;
          min-width: 0;
          max-width: none;
          border-right: none;
        }
  
        wy-conversation-list[conversationid] {
          display: none;
        }
  
        .wy-messenger-conversation[data-conversation-id=""] {
          display: none;
        }
  
        .wy-close-conversation {
          display: unset;
        }
  
        wy-empty {
          display: none;
        }
      }
    `
];
oi([
  te()
], gr.prototype, "weavyContext", 2);
oi([
  m()
], gr.prototype, "name", 2);
oi([
  m()
], gr.prototype, "bot", 2);
oi([
  te()
], gr.prototype, "types", 2);
oi([
  te()
], gr.prototype, "botUser", 2);
oi([
  te()
], gr.prototype, "user", 2);
oi([
  te()
], gr.prototype, "conversationId", 2);
oi([
  te()
], gr.prototype, "conversation", 2);
oi([
  m({ type: Object })
], gr.prototype, "features", 2);
oi([
  te()
], gr.prototype, "availableFeatures", 2);
oi([
  te()
], gr.prototype, "hasEventListener", 2);
gr = oi([
  fe("wy-messenger"),
  De()
], gr);
var dC = Object.defineProperty, uC = Object.getOwnPropertyDescriptor, om = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? uC(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && dC(t, r, n), n;
};
let dl = class extends we {
  dispatchRestore() {
    const e = new CustomEvent("restore", { detail: {} });
    return this.dispatchEvent(e);
  }
  render() {
    return v`
      <div class="wy-item wy-item-lg">
        <div class="wy-item-body">${V("Post was trashed.")}</div>
        <wy-button @click=${() => this.dispatchRestore()} class="wy-button-variant">${V("Undo")}</wy-button>
      </div>
    `;
  }
};
dl.styles = ke;
om([
  m({ type: Number })
], dl.prototype, "postId", 2);
dl = om([
  fe("wy-post-trashed"),
  De()
], dl);
var hC = Object.defineProperty, yC = Object.getOwnPropertyDescriptor, St = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? yC(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && hC(t, r, n), n;
};
let yt = class extends we {
  constructor() {
    super(...arguments), this.temp = !1, this.createdAt = "", this.modifiedAt = void 0, this.isSubscribed = !1, this.isTrashed = !1, this.html = "", this.text = "", this.attachments = [], this.pollOptions = [], this.reactions = [], this.commentCount = 0, this.seenBy = [], this.features = {}, this.showComments = !1, this.loadComments = !1, this.previewRef = Ve();
  }
  dispatchVote(e) {
    const t = new CustomEvent("vote", { detail: { id: e } });
    return this.dispatchEvent(t);
  }
  dispatchSubscribe(e) {
    const t = new CustomEvent("subscribe", { detail: { id: this.postId, subscribe: e } });
    return this.dispatchEvent(t);
  }
  dispatchTrash() {
    const e = new CustomEvent("trash", { detail: { id: this.postId } });
    return this.dispatchEvent(e);
  }
  dispatchEdit(e) {
    const t = new CustomEvent("edit", { detail: { edit: e } });
    return this.dispatchEvent(t);
  }
  handleCommentsClick(e) {
    e.preventDefault(), this.showComments = !this.showComments, this.loadComments = !0;
  }
  render() {
    var o, a, s, c, l, d, h;
    const e = (o = this.attachments) == null ? void 0 : o.filter((y) => y.kind === "image" && y.thumbnail_url), t = (a = this.attachments) == null ? void 0 : a.filter((y) => y.kind !== "image" || !y.thumbnail_url), r = new Intl.DateTimeFormat((s = this.weavyContext) == null ? void 0 : s.locale, {
      dateStyle: "full",
      timeStyle: "short"
    }).format(new Date(this.createdAt)), i = lc((c = this.weavyContext) == null ? void 0 : c.locale, new Date(this.createdAt)), n = this.modifiedAt && this.weavyContext ? new Intl.DateTimeFormat(this.weavyContext.locale, { dateStyle: "full", timeStyle: "short" }).format(
      new Date(this.modifiedAt)
    ) : "";
    return this.temp ? v`<div class="wy-post">
          <div class="wy-item wy-item-lg">
            <wy-avatar .src="${this.createdBy.avatar_url}" .isBot=${this.createdBy.is_bot} .size=${48} .name=${this.createdBy.display_name}></wy-avatar>
            <div class="wy-item-body">
              <div class="wy-item-title"><span class="wy-placeholder">${this.createdBy.display_name}</span></div>
              <div class="wy-item-text">
                <time class="wy-placeholder">${i}</time>
              </div>
            </div>
          </div>
          <div class="wy-post-body">
            <div class="wy-content"><wy-skeleton .text=${this.text}></wy-skeleton></div>
          </div>
        </div>` : v`
          <div class="wy-post">
            <div class="wy-item wy-item-lg">
              <wy-avatar .src="${this.createdBy.avatar_url}" .isBot=${this.createdBy.is_bot} .size=${48} .name=${this.createdBy.display_name}></wy-avatar>
              <div class="wy-item-body">
                <div class="wy-item-row">
                  <div class="wy-item-title">${this.createdBy.display_name}</div>
                </div>
                <div class="wy-item-row">
                  <div class="wy-item-text">
                    <time datetime=${this.createdAt} title=${r}>${i}</time>
                    ${this.modifiedAt ? v`<time datetime="${this.modifiedAt}" title=${n}> · ${V("edited")}</time>` : F}
                  </div>
                  </div>
                </div>

                <div class="wy-item-actions wy-item-actions-top">
                  <wy-dropdown>
                    ${this.isSubscribed ? v`<wy-dropdown-item @click=${() => this.dispatchSubscribe(!1)}>
                            <wy-icon name="bell-off"></wy-icon>
                            ${V("Unsubscribe")}
                          </wy-dropdown-item>` : v`<wy-dropdown-item @click=${() => this.dispatchSubscribe(!0)}>
                            <wy-icon name="bell"></wy-icon>
                            ${V("Subscribe")}
                          </wy-dropdown-item>`}
                    ${this.user.id === this.createdBy.id ? v`<wy-dropdown-item @click=${() => this.dispatchEdit(!0)}>
                            <wy-icon name="pencil"></wy-icon>
                            ${V("Edit")}
                          </wy-dropdown-item>` : F}
                    ${this.user.id === this.createdBy.id ? v`<wy-dropdown-item @click=${() => this.dispatchTrash()}>
                            <wy-icon name="trashcan"></wy-icon>
                            ${V("Trash")}
                          </wy-dropdown-item>` : F}
                  </wy-dropdown>
                </div>
              </div>
              <!-- image grid -->
              ${e && e.length ? v`<wy-image-grid
                      .images=${e}
                      @file-open=${(y) => {
      var w;
      (w = this.previewRef.value) == null || w.open(y.detail.file);
    }}></wy-image-grid>` : ""}

              <!-- embeds -->
              ${this.embed && Ie(this.availableFeatures, Le.Embeds, (l = this.features) == null ? void 0 : l.embeds) ? v` <wy-embed class="wy-embed" .embed=${this.embed}></wy-embed> ` : F}

              <div class="wy-post-body">
                ${this.html ? v`<div class="wy-content">${yo(this.html)}</div>` : ""}

                <!-- poll -->
                ${this.pollOptions && this.pollOptions.length > 0 ? v`
                        <wy-poll
                          .pollOptions=${this.pollOptions}
                          @vote=${(y) => this.dispatchVote(y.detail.id)}></wy-poll>
                      ` : F}

                <!-- files -->
                ${t && t.length ? v`<wy-attachments-list
                        .files=${t}
                        @file-open=${(y) => {
      var w;
      (w = this.previewRef.value) == null || w.open(y.detail.file);
    }}></wy-attachments-list>` : ""}

                <!-- meeting -->
                ${this.meeting ? v`<wy-meeting-card .meeting=${this.meeting}></wy-meeting-card>` : ""}
              </div>

              <div class="wy-post-footer">
                <div>
                  <!-- comment count -->
                  ${Ie(this.availableFeatures, Le.Comments, (d = this.features) == null ? void 0 : d.comments) ? v` <wy-button
                          kind="inline"
                          ?active=${this.showComments}
                          buttonClass="wy-meta"
                          @click=${(y) => this.handleCommentsClick(y)}>
                          ${this.commentCount !== 1 ? V(Qi`${this.commentCount} comments`) : V("1 comment")}
                        </wy-button>` : F}
                </div>
                ${Ie(this.availableFeatures, Le.Reactions, (h = this.features) == null ? void 0 : h.reactions) ? v`
                <div class="wy-reactions-line wy-reactions-line-reverse">
                  <wy-reactions                    
                    .reactions=${this.reactions}
                    parentId=${this.app.id}
                    entityId=${this.postId}
                    messageType="posts"
                    .userId=${this.user.id}></wy-reactions>
                </div>` : F}
              </div>

              <!-- comments -->
              ${this.loadComments ? v`
                      <div ?hidden=${!this.showComments}>
                        <wy-comment-list
                          .app=${this.app}
                          .user=${this.user}
                          .parentId=${this.postId}
                          .location=${"posts"}
                          .features=${this.features}
                          .availableFeatures=${this.availableFeatures}></wy-comment-list>
                      </div>
                    ` : F}
            </div>
            <wy-preview
              ${Pe(this.previewRef)}
              .app=${this.app}
              .files=${this.attachments}
              .availableFeatures=${this.availableFeatures}
              .isAttachment=${!0}
              .features=${this.features}></wy-preview>
          </div>
        `;
  }
};
yt.styles = [
  ke,
  We`
      :host {
        display: contents;
      }
    `
];
St([
  tt({ context: Te, subscribe: !0 }),
  te()
], yt.prototype, "weavyContext", 2);
St([
  m({ attribute: !1 })
], yt.prototype, "app", 2);
St([
  m({ attribute: !1 })
], yt.prototype, "user", 2);
St([
  m({ type: Number })
], yt.prototype, "postId", 2);
St([
  m({ type: Boolean })
], yt.prototype, "temp", 2);
St([
  m({ attribute: !1 })
], yt.prototype, "createdBy", 2);
St([
  m()
], yt.prototype, "createdAt", 2);
St([
  m()
], yt.prototype, "modifiedAt", 2);
St([
  m({ type: Boolean })
], yt.prototype, "isSubscribed", 2);
St([
  m({ type: Boolean })
], yt.prototype, "isTrashed", 2);
St([
  m()
], yt.prototype, "html", 2);
St([
  m()
], yt.prototype, "text", 2);
St([
  m({ type: Array })
], yt.prototype, "attachments", 2);
St([
  m({ type: Array })
], yt.prototype, "pollOptions", 2);
St([
  m({ attribute: !1 })
], yt.prototype, "meeting", 2);
St([
  m({ attribute: !1 })
], yt.prototype, "embed", 2);
St([
  m({ type: Array })
], yt.prototype, "reactions", 2);
St([
  m({ attribute: !1 })
], yt.prototype, "commentCount", 2);
St([
  m({ type: Array })
], yt.prototype, "seenBy", 2);
St([
  m({ type: Object })
], yt.prototype, "features", 2);
St([
  m({ type: Array })
], yt.prototype, "availableFeatures", 2);
St([
  te()
], yt.prototype, "showComments", 2);
St([
  te()
], yt.prototype, "loadComments", 2);
yt = St([
  fe("wy-post-view"),
  De()
], yt);
function pC(e, t) {
  return {
    initialPageParam: 0,
    // eslint-disable-next-line @tanstack/query/exhaustive-deps
    queryKey: ["posts", t],
    queryFn: async (i) => {
      const n = i.pageParam, o = "/api/apps/" + t + "/posts?orderby=createdat+desc&skip=" + n + "&top=25", s = await (await e.get(o)).json();
      return s.data = s.data || [], s;
    },
    getNextPageParam: (i, n) => {
      if ((i == null ? void 0 : i.end) < (i == null ? void 0 : i.count))
        return n.length * 25;
    }
  };
}
function wC(e, t) {
  return {
    mutationFn: async (i) => (await e.post(
      "/api/posts/" + i.id,
      "PATCH",
      JSON.stringify({
        text: i.text,
        blobs: i.blobs,
        attachments: i.attachments,
        meeting_id: i.meetingId,
        options: i.pollOptions.filter((o) => o.text.trim() !== "").map((o) => ({ id: o.id, text: o.text })),
        embed_id: i.embed || null
      })
    )).json(),
    mutationKey: t,
    onMutate: async (i) => {
      et(e.queryClient, ["posts", i.appId], i.id, (n) => {
        n.text = i.text, n.html = i.text;
      });
    },
    onSuccess: (i, n) => {
      n.id && et(e.queryClient, ["posts", n.appId], n.id, (o) => {
        o.text = i.text, o.html = i.html, o.attachment_ids = i.attachment_ids, o.attachments = i.attachments, o.embed = i.embed, o.meeting = i.meeting, o.meeting_id = i.meeting_id, o.modified_at = i.modified_at, o.modified_by = i.modified_by, o.options = i.options;
      });
    }
  };
}
function fC(e, t) {
  const r = e.queryClient;
  return {
    mutationFn: async (n) => (await e.post(
      "/api/apps/" + n.appId + "/posts",
      "POST",
      JSON.stringify({
        text: n.text,
        blobs: n.blobs,
        meeting_id: n.meetingId,
        options: n.pollOptions.filter((a) => a.text.trim() !== "").map((a) => ({ text: a.text })),
        embed_id: n.embed
      })
    )).json(),
    mutationKey: t,
    onMutate: async (n) => {
      await r.cancelQueries({ queryKey: ["posts", n.appId] });
      const o = Math.random(), a = {
        id: o,
        app_id: -1,
        attachment_ids: [],
        is_subscribed: !0,
        is_trashed: !1,
        text: n.text,
        html: n.text,
        plain: n.text,
        temp: !0,
        created_by_id: n.user.id,
        created_by: {
          id: n.user.id,
          avatar_url: n.user.avatar_url,
          display_name: n.user.display_name,
          presence: void 0,
          name: n.user.name
        },
        created_at: (/* @__PURE__ */ new Date()).toUTCString(),
        attachments: [],
        reactions: []
      };
      return Gi(r, ["posts", n.appId], a, void 0, { descending: !0 }), { tempId: o };
    },
    onSuccess: (n, o, a) => {
      Gi(r, ["posts", o.appId], n, a == null ? void 0 : a.tempId, { descending: !0 });
    }
  };
}
var mC = Object.defineProperty, vC = Object.getOwnPropertyDescriptor, Vt = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? vC(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && mC(t, r, n), n;
};
let Pt = class extends we {
  constructor() {
    super(...arguments), this.temp = !1, this.createdAt = "", this.modifiedAt = void 0, this.isSubscribed = !1, this.isTrashed = !1, this.text = "", this.attachments = [], this.pollOptions = [], this.reactions = [], this.seenBy = [], this.userId = -1, this.features = {}, this.updatePostMutation = new qi(this);
  }
  dispatchEdit(e) {
    const t = new CustomEvent("edit", { detail: { edit: e } });
    return this.dispatchEvent(t);
  }
  handleSubmit(e) {
    this.updatePostMutation.mutate({
      id: this.postId,
      appId: this.app.id,
      text: e.detail.text,
      meetingId: e.detail.meetingId,
      blobs: e.detail.blobs,
      attachments: e.detail.attachments,
      pollOptions: e.detail.pollOptions,
      embed: e.detail.embed,
      user: this.user
    }), this.dispatchEdit(!1);
  }
  async willUpdate(e) {
    (e.has("weavyContext") || e.has("app")) && this.weavyContext && this.updatePostMutation.trackMutation(wC(this.weavyContext, ["posts", this.app.id]));
  }
  render() {
    return v`
      <nav class="wy-item">
        <div class="wy-item-body">
          <div class="wy-item-title">${V("Edit post")}</div>
        </div>

        <wy-button kind="icon" @click=${() => this.dispatchEdit(!1)}>
          <wy-icon name="close"></wy-icon>
        </wy-button>
      </nav>
      <wy-editor
        editorLocation="apps"
        .text=${this.text}
        .embed=${this.embed}
        .options=${this.pollOptions}
        .attachments=${this.attachments}
        .app=${this.app}
        .user=${this.user}
        .parentId=${this.postId}
        .availableFeatures=${this.availableFeatures}
        .features=${this.features}
        .typing=${!1}
        .draft=${!1}
        placeholder=${V("Edit post...")}
        buttonText=${V("Update", { desc: "Button action to update" })}
        @submit=${(e) => this.handleSubmit(e)}></wy-editor>
    `;
  }
};
Pt.styles = ke;
Vt([
  tt({ context: Te, subscribe: !0 }),
  te()
], Pt.prototype, "weavyContext", 2);
Vt([
  m({ attribute: !1 })
], Pt.prototype, "app", 2);
Vt([
  m({ attribute: !1 })
], Pt.prototype, "user", 2);
Vt([
  m({ type: Number })
], Pt.prototype, "postId", 2);
Vt([
  m({ type: Boolean })
], Pt.prototype, "temp", 2);
Vt([
  m({ attribute: !1 })
], Pt.prototype, "createdBy", 2);
Vt([
  m()
], Pt.prototype, "createdAt", 2);
Vt([
  m()
], Pt.prototype, "modifiedAt", 2);
Vt([
  m({ type: Boolean })
], Pt.prototype, "isSubscribed", 2);
Vt([
  m({ type: Boolean })
], Pt.prototype, "isTrashed", 2);
Vt([
  m()
], Pt.prototype, "text", 2);
Vt([
  m({ type: Array })
], Pt.prototype, "attachments", 2);
Vt([
  m({ type: Array })
], Pt.prototype, "pollOptions", 2);
Vt([
  m({ attribute: !1 })
], Pt.prototype, "meeting", 2);
Vt([
  m({ attribute: !1 })
], Pt.prototype, "embed", 2);
Vt([
  m({ type: Array })
], Pt.prototype, "reactions", 2);
Vt([
  m({ type: Array })
], Pt.prototype, "seenBy", 2);
Vt([
  m({ type: Number })
], Pt.prototype, "userId", 2);
Vt([
  m({ type: Object })
], Pt.prototype, "features", 2);
Vt([
  m({ type: Array })
], Pt.prototype, "availableFeatures", 2);
Pt = Vt([
  fe("wy-post-edit"),
  De()
], Pt);
var gC = Object.defineProperty, bC = Object.getOwnPropertyDescriptor, At = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? bC(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && gC(t, r, n), n;
};
let gt = class extends we {
  constructor() {
    super(...arguments), this.temp = !1, this.createdAt = "", this.modifiedAt = void 0, this.isSubscribed = !1, this.isTrashed = !1, this.html = "", this.text = "", this.plain = "", this.attachments = [], this.pollOptions = [], this.reactions = [], this.commentCount = 0, this.seenBy = [], this.features = {}, this.editing = !1;
  }
  dispatchVote(e) {
    const t = new CustomEvent("vote", { detail: { id: e, parentId: this.postId, parentType: "posts" } });
    return this.dispatchEvent(t);
  }
  dispatchSubscribe(e) {
    const t = new CustomEvent("subscribe", { detail: { id: this.postId, subscribe: e } });
    return this.dispatchEvent(t);
  }
  dispatchTrash() {
    const e = new CustomEvent("trash", { detail: { id: this.postId } });
    return this.dispatchEvent(e);
  }
  dispatchRestore() {
    const e = new CustomEvent("restore", { detail: { id: this.postId } });
    return this.dispatchEvent(e);
  }
  render() {
    return v`
      ${this.isTrashed ? v`<wy-post-trashed
            class="wy-post"
            postId=${this.postId}
            @restore=${() => {
      this.dispatchRestore();
    }}></wy-post-trashed> ` : F}
      ${!this.isTrashed && this.editing ? v`<wy-post-edit
            class="wy-post"
            .app=${this.app}
            .user=${this.user}
            .postId=${this.postId}
            .availableFeatures=${this.availableFeatures}
            .features=${this.features}
            .text=${this.text}
            .embed=${this.embed}
            .pollOptions=${this.pollOptions}
            .attachments=${this.attachments}
            @edit=${(e) => {
      this.editing = e.detail.edit;
    }}></wy-post-edit> ` : F}
      ${!this.isTrashed && !this.editing ? v`<wy-post-view
            id="${this.id}"
            .app=${this.app}
            .user=${this.user}
            .postId=${this.postId}
            .temp=${this.temp}
            .createdBy=${this.createdBy}
            .createdAt=${this.createdAt}
            .modifiedAt=${this.modifiedAt}
            .isSubscribed=${this.isSubscribed}
            .isTrashed=${this.isTrashed}
            .html=${this.html}
            .text=${this.plain}
            .attachments=${this.attachments}
            .meeting=${this.meeting}
            .pollOptions=${this.pollOptions}
            .embed=${this.embed}
            .reactions=${this.reactions}
            .commentCount=${this.commentCount}
            .availableFeatures=${this.availableFeatures}
            .features=${this.features}
            @edit=${(e) => {
      this.editing = e.detail.edit;
    }}
            @subscribe=${(e) => {
      this.dispatchSubscribe(e.detail.subscribe);
    }}
            @trash=${() => {
      this.dispatchTrash();
    }}
            @vote=${(e) => {
      this.dispatchVote(e.detail.id);
    }}></wy-post-view> ` : F}
    `;
  }
};
gt.styles = ke;
At([
  m({ attribute: !1 })
], gt.prototype, "app", 2);
At([
  m({ attribute: !1 })
], gt.prototype, "user", 2);
At([
  m({ type: Number })
], gt.prototype, "postId", 2);
At([
  m({ type: Boolean })
], gt.prototype, "temp", 2);
At([
  m({ attribute: !1 })
], gt.prototype, "createdBy", 2);
At([
  m()
], gt.prototype, "createdAt", 2);
At([
  m()
], gt.prototype, "modifiedAt", 2);
At([
  m({ type: Boolean })
], gt.prototype, "isSubscribed", 2);
At([
  m({ type: Boolean })
], gt.prototype, "isTrashed", 2);
At([
  m()
], gt.prototype, "html", 2);
At([
  m()
], gt.prototype, "text", 2);
At([
  m()
], gt.prototype, "plain", 2);
At([
  m({ attribute: !1 })
], gt.prototype, "attachments", 2);
At([
  m({ type: Array })
], gt.prototype, "pollOptions", 2);
At([
  m({ attribute: !1 })
], gt.prototype, "meeting", 2);
At([
  m({ attribute: !1 })
], gt.prototype, "embed", 2);
At([
  m({ type: Array })
], gt.prototype, "reactions", 2);
At([
  m({ attribute: !1 })
], gt.prototype, "commentCount", 2);
At([
  m({ type: Array })
], gt.prototype, "seenBy", 2);
At([
  m({ type: Object })
], gt.prototype, "features", 2);
At([
  m({ type: Array })
], gt.prototype, "availableFeatures", 2);
At([
  te()
], gt.prototype, "editing", 2);
gt = At([
  fe("wy-post")
], gt);
function xC(e, t) {
  const r = e.queryClient, i = ["posts", t.id];
  return {
    mutationKey: i,
    mutationFn: async ({ id: o, subscribe: a }) => {
      const s = await e.post(
        `/api/posts/${o}/${a ? "subscribe" : "unsubscribe"}`,
        "POST",
        ""
      );
      if (!s.ok) {
        const c = await s.json();
        throw new Error(c.detail || c.title, { cause: c });
      }
      return s.json();
    },
    onMutate: async (o) => (Ke(
      r,
      { queryKey: i, exact: !1 },
      o.id,
      (a) => Object.assign(a, { is_subscribed: o.subscribe })
    ), { type: o.subscribe ? "subscribe" : "unsubscribe", id: o.id }),
    onSuccess: (o, a) => {
      Ke(
        r,
        { queryKey: i, exact: !1 },
        a.id,
        (s) => Object.assign(s, o)
      );
    },
    onError() {
    }
  };
}
function _C(e, t) {
  return new rt(e.queryClient, xC(e, t));
}
function kC(e, t) {
  const r = e.queryClient, n = {
    mutationKey: ["posts", t.id],
    mutationFn: async ({ id: o }) => (await e.post("/api/posts/" + o + "/trash", "POST", "")).json(),
    onMutate: async (o) => (Ke(
      r,
      { queryKey: n.mutationKey, exact: !1 },
      o.id,
      (a) => Object.assign(a, { is_trashed: !0 })
    ), { type: "trash", id: o.id }),
    onSuccess: (o, a) => {
      Ke(
        r,
        { queryKey: n.mutationKey, exact: !1 },
        a.id,
        (s) => Object.assign(s, o)
      );
    }
    /*onError(error: Error, variables: MutatePostVariables, _context: PostMutationContextType) {
      //updateCacheItems(queryClient, { queryKey: options.mutationKey, exact: false }, variables.file.id, (existingFile: FileType) => Object.assign(existingFile, { is_trashed: false }))
    },*/
  };
  return n;
}
function CC(e, t) {
  return new rt(e.queryClient, kC(e, t));
}
function $C(e, t) {
  const r = e.queryClient, n = {
    mutationKey: ["posts", t.id],
    mutationFn: async ({ id: o }) => {
      const a = await e.post("/api/posts/" + o + "/restore", "POST", "");
      if (!a.ok) {
        const s = await a.json();
        throw new Error(s.detail || s.title, { cause: s });
      }
      return a.json();
    },
    onMutate: async (o) => (Ke(
      r,
      { queryKey: n.mutationKey, exact: !1 },
      o.id,
      (a) => Object.assign(a, { is_trashed: !1 })
    ), { type: "restore", file: o.id }),
    onSuccess: (o, a) => {
      Ke(
        r,
        { queryKey: n.mutationKey, exact: !1 },
        a.id,
        (s) => Object.assign(s, o)
      );
    }
    /*onError(error: Error, variables: MutatePostVariables, _context: any) {
      //updateCacheItems(queryClient, { queryKey: options.mutationKey, exact: false }, variables.file.id, (existingFile: FileType) => Object.assign(existingFile, { is_trashed: true }))
    },*/
  };
  return n;
}
function EC(e, t) {
  return new rt(e.queryClient, $C(e, t));
}
var SC = Object.defineProperty, PC = Object.getOwnPropertyDescriptor, jn = (e, t, r, i) => {
  for (var n = i > 1 ? void 0 : i ? PC(t, r) : t, o = e.length - 1, a; o >= 0; o--)
    (a = e[o]) && (n = (i ? a(t, r, n) : a(n)) || n);
  return i && n && SC(t, r, n), n;
};
let mi = class extends we {
  constructor() {
    super(), this.features = {}, this.realtimePostCreatedEvent = (e) => new CustomEvent("wy:post_created", { bubbles: !0, composed: !1, detail: e }), this.realtimeCommentCreatedEvent = (e) => new CustomEvent("wy:comment_created", { bubbles: !0, composed: !1, detail: e }), this.realtimeReactionAddedEvent = (e) => new CustomEvent("wy:reaction_added", { bubbles: !0, composed: !1, detail: e }), this.realtimeReactionRemovedEvent = (e) => new CustomEvent("wy:reaction_removed", { bubbles: !0, composed: !1, detail: e }), this.postsQuery = new Aa(this), this.appQuery = new lt(this), this.userQuery = new lt(this), this.featuresQuery = new lt(this), this.infiniteScroll = new La(this), this.pagerRef = Ve(), this.addPostMutation = new qi(this), this.handleRealtimePostCreated = (e) => {
      !this.weavyContext || e.post.app_id !== this.app.id || e.post.created_by_id === this.user.id || (e.post.created_by = e.actor, Gi(this.weavyContext.queryClient, ["posts", this.app.id], e.post, void 0, {
        descending: !0
      }), this.dispatchEvent(this.realtimePostCreatedEvent(e)));
    }, this.handleRealtimeCommentCreated = (e) => {
      !this.weavyContext || e.actor.id === this.user.id || (et(
        this.weavyContext.queryClient,
        ["posts", this.app.id],
        e.comment.parent.id,
        (t) => {
          t.comment_count = (t.comment_count || 0) + 1;
        }
      ), this.dispatchEvent(this.realtimeCommentCreatedEvent(e)));
    }, this.handleRealtimeReactionAdded = (e) => {
      !this.weavyContext || e.actor.id === this.user.id || e.entity.type !== "post" || (et(
        this.weavyContext.queryClient,
        ["posts", this.app.id],
        e.entity.id,
        (t) => {
          t.reactions = [
            ...t.reactions || [],
            { content: e.reaction, created_by_id: e.actor.id }
          ];
        }
      ), this.dispatchEvent(this.realtimeReactionAddedEvent(e)));
    }, this.handleRealtimeReactionDeleted = (e) => {
      !this.weavyContext || e.actor.id === this.user.id || e.entity.type !== "post" || (et(
        this.weavyContext.queryClient,
        ["posts", this.app.id],
        e.entity.id,
        (t) => {
          t.reactions = t.reactions.filter((r) => r.created_by_id !== e.actor.id);
        }
      ), this.dispatchEvent(this.realtimeReactionRemovedEvent(e)));
    }, new nc(this, mi.styles);
  }
  async scheduleUpdate() {
    var e, t, r;
    await Ti(this), this.weavyContextConsumer = new Yr(this, { context: Te, subscribe: !0 }), (e = this.weavyContextConsumer) != null && e.value && this.weavyContext !== ((t = this.weavyContextConsumer) == null ? void 0 : t.value) && (this.weavyContext = (r = this.weavyContextConsumer) == null ? void 0 : r.value), await super.scheduleUpdate();
  }
  handleSubmit(e) {
    this.app && this.addPostMutation.mutate({
      appId: this.app.id,
      text: e.detail.text,
      meetingId: e.detail.meetingId,
      blobs: e.detail.blobs,
      pollOptions: e.detail.pollOptions,
      embed: e.detail.embed,
      user: this.user
    });
  }
  unsubscribeToRealtime(e) {
    this.weavyContext && (this.weavyContext.unsubscribe(`a${e.id}`, "post_created", this.handleRealtimePostCreated), this.weavyContext.unsubscribe(`a${e.id}`, "comment_created", this.handleRealtimeCommentCreated), this.weavyContext.unsubscribe(`a${e.id}`, "reaction_added", this.handleRealtimeReactionAdded), this.weavyContext.unsubscribe(`a${e.id}`, "reaction_removed", this.handleRealtimeReactionDeleted));
  }
  willUpdate(e) {
    var t, r, i, n, o, a;
    if (e.has("app")) {
      const s = e.get("app");
      s && s !== this.app && this.unsubscribeToRealtime(s);
    }
    (e.has("uid") || e.has("weavyContext")) && this.uid && this.weavyContext && (this.appQuery.trackQuery(xl(this.weavyContext, this.uid, oc.Posts)), this.userQuery.trackQuery(Bt(this.weavyContext, ["user"])), this.featuresQuery.trackQuery(Bt(this.weavyContext, ["features", "feeds"]))), (t = this.appQuery.result) != null && t.isPending || (this.app = (r = this.appQuery.result) == null ? void 0 : r.data), (i = this.userQuery.result) != null && i.isPending || (this.user = (n = this.userQuery.result) == null ? void 0 : n.data), (o = this.featuresQuery.result) != null && o.isPending || (this.availableFeatures = (a = this.featuresQuery.result) == null ? void 0 : a.data), (e.has("weavyContext") || e.has("app")) && this.weavyContext && this.app && this.postsQuery.trackInfiniteQuery(pC(this.weavyContext, this.app.id)), (e.has("weavyContext") || e.has("app") || e.has("user")) && this.weavyContext && this.app && this.user && (this.addPostMutation.trackMutation(fC(this.weavyContext, ["posts", this.app.id])), this.subscribePostMutation = _C(this.weavyContext, this.app), this.removePostMutation = CC(this.weavyContext, this.app), this.restorePostMutation = EC(this.weavyContext, this.app), this.pollMutation = gh(this.weavyContext, ["posts", this.app.id]), this.weavyContext.subscribe(`a${this.app.id}`, "post_created", this.handleRealtimePostCreated), this.weavyContext.subscribe(`a${this.app.id}`, "comment_created", this.handleRealtimeCommentCreated), this.weavyContext.subscribe(`a${this.app.id}`, "reaction_added", this.handleRealtimeReactionAdded), this.weavyContext.subscribe(`a${this.app.id}`, "reaction_removed", this.handleRealtimeReactionDeleted));
  }
  update(e) {
    super.update(e), this.infiniteScroll.observe(this.postsQuery.result, this.pagerRef.value);
  }
  renderPosts(e, t, r, i, n) {
    if (n) {
      const o = n.pages.flatMap((a) => a.data);
      return Ar(
        o,
        (a) => a.id,
        (a) => [
          v`<wy-post
              id="post-${a.id}"
              .app=${e}
              .user=${t}
              .postId=${a.id}
              .temp=${a.temp || !1}
              .createdBy=${a.created_by}
              .createdAt=${a.created_at}
              .modifiedAt=${a.modified_at}
              .isSubscribed=${a.is_subscribed}
              .isTrashed=${a.is_trashed}
              .html=${a.html}
              .text=${a.text}
              .plain=${a.plain}
              .attachments=${a.attachments}
              .meeting=${a.meeting}
              .pollOptions=${a.options}
              .embed=${a.embed}
              .reactions=${a.reactions}
              .commentCount=${a.comment_count || 0}
              .availableFeatures=${r}
              .features=${i}
              @subscribe=${(s) => {
            var c;
            (c = this.subscribePostMutation) == null || c.mutate({ id: s.detail.id, subscribe: s.detail.subscribe });
          }}
              @trash=${(s) => {
            var c;
            (c = this.removePostMutation) == null || c.mutate({ id: s.detail.id });
          }}
              @restore=${(s) => {
            var c;
            (c = this.restorePostMutation) == null || c.mutate({ id: s.detail.id });
          }}
              @vote=${(s) => {
            var c;
            (c = this.pollMutation) == null || c.mutate({
              optionId: s.detail.id,
              parentType: s.detail.parentType,
              parentId: s.detail.parentId
            });
          }}
            ></wy-post>`
        ]
      );
    }
    return F;
  }
  render() {
    const { data: e, isPending: t } = this.postsQuery.result ?? {};
    return v`
      <div class="wy-posts">
        ${this.availableFeatures && this.app && this.user && pc(ui.Write, this.app.access, this.app.permissions) ? v`
              <div class="wy-post">
                <wy-editor
                  editorLocation="apps"
                  .app=${this.app}
                  .user=${this.user}
                  .availableFeatures=${this.availableFeatures}
                  .features=${this.features}
                  .typing=${!1}
                  .draft=${!0}
                  placeholder=${V("Create a post...")}
                  buttonText=${V("Post")}
                  @submit=${(r) => this.handleSubmit(r)}
                ></wy-editor>
              </div>
            ` : F}
        <!-- this.user ?? -->
        ${t ? v` <wy-empty><wy-spinner overlay></wy-spinner></wy-empty> ` : v`
              ${this.app && this.user && e && this.availableFeatures ? this.renderPosts(this.app, this.user, this.availableFeatures, this.features, e) : v`<wy-empty><wy-spinner class="wy-content-icon"></wy-spinner></wy-empty>`}
              <div ${Pe(this.pagerRef)} class="wy-pager"></div>
            `}
      </div>
    `;
  }
  disconnectedCallback() {
    this.weavyContext && this.app && this.unsubscribeToRealtime(this.app), super.disconnectedCallback();
  }
};
mi.styles = [
  Po,
  ke,
  We`
      :host {
        position: relative;
      }
    `
];
jn([
  te()
], mi.prototype, "weavyContext", 2);
jn([
  te()
], mi.prototype, "user", 2);
jn([
  m()
], mi.prototype, "uid", 2);
jn([
  m()
], mi.prototype, "cssClass", 2);
jn([
  te()
], mi.prototype, "availableFeatures", 2);
jn([
  m({ type: Object })
], mi.prototype, "features", 2);
jn([
  te()
], mi.prototype, "app", 2);
mi = jn([
  fe("wy-posts"),
  De()
], mi);
export {
  GC as Weavy,
  ft as WeavyContext,
  Sn as WeavyContextBase,
  Mn as WyAttachment,
  Ss as WyAttachmentsList,
  Xi as WyAvatar,
  po as WyAvatarGroup,
  ko as WyBadge,
  Ln as WyButton,
  Is as WyChat,
  _o as WyCloudFiles,
  Ct as WyComment,
  kt as WyCommentEdit,
  Zy as WyCommentEditor,
  Ii as WyCommentList,
  ol as WyCommentTrashed,
  It as WyCommentView,
  yi as WyComments,
  Ot as WyContext,
  sr as WyConversation,
  wi as WyConversationAppbar,
  du as WyConversationExtended,
  fi as WyConversationList,
  cr as WyConversationListItem,
  va as WyConversationNew,
  ei as WyDropdown,
  zd as WyDropdownDivider,
  nl as WyDropdownItem,
  Ms as WyDropdownOption,
  Ye as WyEditor,
  $s as WyEmbed,
  ks as WyEmpty,
  Mi as WyFileItem,
  bo as WyFileMenu,
  tn as WyFileVersions,
  Br as WyFiles,
  ri as WyFilesAppbar,
  pi as WyFilesList,
  rr as WyIcon,
  Es as WyImageGrid,
  Ls as WyMeetingCard,
  ht as WyMessage,
  Yy as WyMessageEditor,
  vr as WyMessages,
  gr as WyMessenger,
  pa as WyOverlay,
  fa as WyPdfViewer,
  al as WyPoll,
  On as WyPollOption,
  xs as WyPortal,
  gt as WyPost,
  Pt as WyPostEdit,
  dl as WyPostTrashed,
  yt as WyPostView,
  mi as WyPosts,
  Cs as WyPresence,
  $t as WyPreview,
  go as WyPreviewEmbed,
  mo as WyPreviewIcon,
  wa as WyPreviewImage,
  ma as WyPreviewItem,
  vo as WyPreviewMedia,
  en as WyPreviewText,
  rl as WyReactionItem,
  Xt as WyReactions,
  fo as WySheet,
  il as WySkeleton,
  la as WySpinner,
  rn as WyTyping,
  In as WyUsersSearch
};
